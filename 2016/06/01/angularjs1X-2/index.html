<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="安装 npm install angular

特征MVVM双向绑定视图与数据双向绑定，当数据发生变化时，视图会发生改变；当视图发生改变时，数据也会发化变化
123456789101112&amp;lt;div ng-controller=&quot;Bbb&quot;&amp;gt;	&amp;lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&amp;gt;	&amp;lt;p ng-bind=&quot;name&quot;&amp;gt;&amp;lt;/p">
<meta property="og:type" content="article">
<meta property="og:title" content="angularjs1X-2">
<meta property="og:url" content="weison.org/2016/06/01/angularjs1X-2/index.html">
<meta property="og:site_name" content="hey">
<meta property="og:description" content="安装 npm install angular

特征MVVM双向绑定视图与数据双向绑定，当数据发生变化时，视图会发生改变；当视图发生改变时，数据也会发化变化
123456789101112&amp;lt;div ng-controller=&quot;Bbb&quot;&amp;gt;	&amp;lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&amp;gt;	&amp;lt;p ng-bind=&quot;name&quot;&amp;gt;&amp;lt;/p">
<meta property="og:updated_time" content="2017-02-11T02:19:50.243Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="angularjs1X-2">
<meta name="twitter:description" content="安装 npm install angular

特征MVVM双向绑定视图与数据双向绑定，当数据发生变化时，视图会发生改变；当视图发生改变时，数据也会发化变化
123456789101112&amp;lt;div ng-controller=&quot;Bbb&quot;&amp;gt;	&amp;lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&amp;gt;	&amp;lt;p ng-bind=&quot;name&quot;&amp;gt;&amp;lt;/p">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="weison.org/2016/06/01/angularjs1X-2/"/>





  <title> angularjs1X-2 | hey </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7df39855abf2510dc7b61bc4c6862373";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">hey</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'zoXgrR2S_YkhZkfmy-Rq','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/06/01/angularjs1X-2/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                angularjs1X-2
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-01T22:30:43+08:00">
                2016-06-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/01/angularjs1X-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/01/angularjs1X-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <a id="more"></a>
<ol>
<li>安装 npm install angular</li>
</ol>
<h3 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h3><h4 id="MVVM双向绑定"><a href="#MVVM双向绑定" class="headerlink" title="MVVM双向绑定"></a>MVVM双向绑定</h4><p>视图与数据双向绑定，当数据发生变化时，视图会发生改变；当视图发生改变时，数据也会发化变化</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Bbb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"job"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'Bbb'</span>, [<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$rootScope)</span> </span>&#123;</div><div class="line">	$scope.name = <span class="string">'weison'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="模块系统"><a href="#模块系统" class="headerlink" title="模块系统"></a>模块系统</h4><h4 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h4><h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><ol>
<li>angularjs的表达式是通过<code>$parse</code>来进行解释的</li>
</ol>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><ol>
<li><p><code>$scope</code> angular中，所有数据必须挂载在$scope下面才可以在视图中找到。<br>它是一种作用域，仅会作用于它所定义的controller中</p>
</li>
<li><p><code>$rootScope</code>相对于整个页面的作用域,让表达式里的内容可以不放在controller内也可以被读取<br>它们的作用域也类似于js的作用域一样，从近到远，从内到外</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Bbb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"job"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'Bbb'</span>, [<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$rootScope)</span> </span>&#123;</div><div class="line">	$scope.name = <span class="string">'weison'</span>;</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'Aaa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$rootScope)</span> </span>&#123;</div><div class="line">	$rootScope.job = <span class="string">'fontDev'</span>;</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="简单购物车功能"><a href="#简单购物车功能" class="headerlink" title="简单购物车功能"></a>简单购物车功能</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">label</span>&#123;<span class="attribute">display</span>: block;<span class="attribute">margin-bottom</span>:<span class="number">20px</span>;&#125;</div><div class="line"><span class="selector-tag">input</span>&#123;<span class="attribute">margin-left</span>: <span class="number">10px</span>;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">ng-controller</span>=<span class="string">"shopping"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>单价<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"iphone.price"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>数量<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"iphone.num"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>小计<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind</span>=<span class="string">"sum() | currency : '￥'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>邮费<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"iphone.fre"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>合计<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind</span>=<span class="string">"sum() + iphone.fre | currency : '￥'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'shopping'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	<span class="comment">//1.创建双向绑定数据</span></div><div class="line">	$scope.iphone = &#123;</div><div class="line">		<span class="attr">price</span> : <span class="number">10</span>,</div><div class="line">		<span class="attr">num</span> : <span class="number">5</span>,</div><div class="line">		<span class="attr">fre</span> :<span class="number">10</span></div><div class="line">	&#125;</div><div class="line">	<span class="comment">//2.计算出单位*数量的值</span></div><div class="line">	$scope.sum = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> $scope.iphone.price * $scope.iphone.num;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//3.利用过滤器currency来格式化金额</span></div><div class="line">	</div><div class="line">	<span class="comment">//4.利用$watch方式监听函数的变化 ,假如小结超过1000元，则免邮</span></div><div class="line">	$scope.$watch($scope.sum,<span class="function"><span class="keyword">function</span>(<span class="params">newVal,oldVal</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(newVal);</div><div class="line">		$scope.iphone.fre = (newVal &gt;= <span class="number">1000</span> ? <span class="number">0</span> : <span class="number">10</span>);</div><div class="line">	&#125;,<span class="literal">true</span>);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="controller-控制器"><a href="#controller-控制器" class="headerlink" title="controller 控制器"></a><code>controller</code> 控制器</h3><p>连接model和view</p>
<h3 id="模块化与压缩"><a href="#模块化与压缩" class="headerlink" title="模块化与压缩"></a>模块化与压缩</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'模块名称'</span>,[<span class="string">'依赖的模块'</span>]);</div><div class="line"><span class="comment">//避免因压缩而出现问题，采用数组的形式</span></div><div class="line">m1.controller(<span class="string">'控制器名字'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<h3 id="工具方法"><a href="#工具方法" class="headerlink" title="工具方法"></a>工具方法</h3><h4 id="angular-bind-改变this的指向"><a href="#angular-bind-改变this的指向" class="headerlink" title="angular.bind()改变this的指向"></a><code>angular.bind()</code>改变this的指向</h4><p>angular.bind(指向的元素,执行的函数)(参数1，参数 2)<br>类似于jquery的$.proxy()<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">n1,n2</span>)</span>&#123;</div><div class="line">	alert(n1+n2);</div><div class="line">	alert(<span class="keyword">this</span>.id);</div><div class="line">&#125;</div><div class="line">angular.bind(<span class="built_in">document</span>.querySelector(<span class="string">'#div1'</span>),test)(<span class="number">2</span>,<span class="number">3</span>);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="angular-copy-拷贝对象"><a href="#angular-copy-拷贝对象" class="headerlink" title="angular.copy()拷贝对象"></a><code>angular.copy()</code>拷贝对象</h4><p>angular.copy(‘参考对象’,’被覆盖的对象’);</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> a = &#123;<span class="attr">age</span> : <span class="number">20</span>&#125;</div><div class="line"><span class="keyword">var</span> b = &#123;<span class="attr">name</span> : <span class="string">'weison'</span>&#125;;</div><div class="line"><span class="keyword">var</span> c = angular.copy(a,b);</div><div class="line"><span class="built_in">console</span>.log(c); <span class="comment">// Object &#123;age: 20&#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span>,b);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h4 id="angular-extend-扩展对象，扩展的参考对象"><a href="#angular-extend-扩展对象，扩展的参考对象" class="headerlink" title="angular.extend(扩展对象，扩展的参考对象)"></a><code>angular.extend(扩展对象，扩展的参考对象)</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> a = &#123;<span class="attr">age</span> : <span class="number">20</span>&#125;</div><div class="line"><span class="keyword">var</span> b = &#123;<span class="attr">name</span> : <span class="string">'weison'</span>&#125;;</div><div class="line"><span class="keyword">var</span> c = angular.extend(b,a);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span>,a); <span class="comment">//a Object &#123;age: 20&#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span>,b);	<span class="comment">//b Object &#123;name: "weison", age: 20&#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'c'</span>,c); <span class="comment">//c Object &#123;name: "weison", age: 20&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="判断数据类型"><a href="#判断数据类型" class="headerlink" title="判断数据类型"></a>判断数据类型</h4><ol>
<li><code>angular.isArray(判断内容)</code> 判断是否数组</li>
<li>angular.isData()`  是否时间对象</li>
<li><code>angular.isDefind()</code> 对象是否被定义</li>
<li><code>angular.isUndefined()</code> 对象是否未被定义</li>
<li><code>angular.isFunciton()</code> 判断是否对象</li>
<li><code>angular.isNumber()</code> 判断是否数字类型</li>
<li><code>angular.isObject()</code> 判断是否对象</li>
<li><code>angular.isString()</code> 判断是否为字符串</li>
<li><code>angular.isElement()</code> 判断是否元素</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="built_in">console</span>.log(angular.isArray([])); <span class="comment">// =&gt; true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-vesion-angular的版本"><a href="#angular-vesion-angular的版本" class="headerlink" title="angular.vesion angular的版本"></a><code>angular.vesion</code> angular的版本</h4><h4 id="angular-equals-判断两个元素是否相等"><a href="#angular-equals-判断两个元素是否相等" class="headerlink" title="angular.equals()判断两个元素是否相等"></a><code>angular.equals()</code>判断两个元素是否相等</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> a = <span class="number">10</span>,</div><div class="line">	b = <span class="number">10</span>,</div><div class="line">	c = <span class="literal">NaN</span>,</div><div class="line">	d = <span class="literal">NaN</span>,</div><div class="line">	e = [],</div><div class="line">	f = [];</div><div class="line"><span class="built_in">console</span>.log(angular.equals(a,b)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(angular.equals(c,d)); <span class="comment">// =&gt; true,不考虑指向不同的对象</span></div><div class="line"><span class="built_in">console</span>.log(angular.equals(c,d)); <span class="comment">// =&gt; true angular中,NaN= NaN</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-forEach"><a href="#angular-forEach" class="headerlink" title="angular.forEach()"></a><code>angular.forEach()</code></h4><p>angular.forEach(数据源,function(数据源的value,数据源的key){<br>    this.push(更改的变化); // this 指向回调的结果<br>},回调的结果);<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> json = &#123;<span class="string">'name'</span>:<span class="string">'weison'</span>,<span class="string">'age'</span>:<span class="number">20</span>&#125;,</div><div class="line">	result = [];</div><div class="line">angular.forEach(json,<span class="function"><span class="keyword">function</span>(<span class="params">value,key</span>)</span>&#123;</div><div class="line">	<span class="keyword">this</span>.push(key + value); <span class="comment">//=&gt;["nameweison", "age20"],注意reslut是一个数组</span></div><div class="line">&#125;,result);</div><div class="line"><span class="built_in">console</span>.log(result);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<h4 id="angular-fromString-toJson"><a href="#angular-fromString-toJson" class="headerlink" title="angular.fromString/toJson"></a><code>angular.fromString/toJson</code></h4><p>类似于JSON.parse() 和JSON.stringify<br>对字符串的json进行解释，和把json转换成字符串<br>angular.toJson(数据源,true),加上true后，会格式化一下字符<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">	<span class="keyword">var</span> str = <span class="string">'&#123;"name":"weison","age":"20"&#125;'</span>;</div><div class="line">	<span class="keyword">var</span> json = angular.fromJson(str);</div><div class="line">	<span class="built_in">console</span>.info(json); <span class="comment">// =&gt; Object &#123;name: "weison", age: "20"&#125;</span></div><div class="line">	<span class="built_in">console</span>.info(angular.toJson(json,<span class="literal">true</span>)); </div><div class="line">	<span class="comment">// &#123;</span></div><div class="line">	<span class="comment">//   "name": "weison",</span></div><div class="line">	<span class="comment">//   "age": "20"</span></div><div class="line">	<span class="comment">// &#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="angular-identity-noop设置默认值，避免报错"><a href="#angular-identity-noop设置默认值，避免报错" class="headerlink" title="angular.identity/noop设置默认值，避免报错"></a><code>angular.identity/noop</code>设置默认值，避免报错</h4><h4 id="angular-bootstrap动态初始化angular"><a href="#angular-bootstrap动态初始化angular" class="headerlink" title="angular.bootstrap动态初始化angular"></a><code>angular.bootstrap</code>动态初始化angular</h4><p>angular.bootstrap(初始化的范围，初始化的模块名称)；</p>
<h4 id="scope-apply-监听回调函数内的数据变化"><a href="#scope-apply-监听回调函数内的数据变化" class="headerlink" title="$scope.$apply()监听回调函数内的数据变化"></a><code>$scope.$apply()</code>监听回调函数内的数据变化</h4><p>常用的原生js中，对$scope里的内容进行改变,它是可以直接在第三方的插件或者库内直接使用的</p>
<p>检测一个变量是否发生变化的方法：</p>
<ol>
<li>能通过固定的接口才能修改变量的值。例如只有通过<code>set()</code>方法才能改变变量的值，那么只要<code>set()</code>方法被调用时，对比一下就好了</li>
<li>脏检查，将对象复制一份快照，在某个时间 ，将新的值与这份快照作对比，假如有不同，就证明更新了。这个方法要保留两份数据，而且要遍历对象，比较每个属性，因此比较消耗性能。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-bind</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">$scope.say = <span class="string">"hello"</span>;</div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		$scope.$apply(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			$scope.say = <span class="string">'hi'</span>;</div><div class="line">		&#125;);</div><div class="line">	&#125;,<span class="number">1000</span>);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-module-定义模块"><a href="#angular-module-定义模块" class="headerlink" title="angular.module()定义模块"></a><code>angular.module()</code>定义模块</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">ng-bind</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.run([<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($rootScope)</span></span>&#123;</div><div class="line">	$rootScope.say = <span class="string">'xixi'</span>;</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-run-可以不通过controller来绑定全局变量"><a href="#angular-run-可以不通过controller来绑定全局变量" class="headerlink" title="angular.run() 可以不通过controller来绑定全局变量"></a><code>angular.run()</code> 可以不通过controller来绑定全局变量</h4><p>1。 初始化一些全局的数据，不需要再创建控制器才能访问数据</p>
<ol>
<li>不能挂载局部作用域<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"runText"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.run([<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($rootScope)</span></span>&#123;</div><div class="line">	$rootScope.runText = <span class="string">'无需绑定controller，即可显示'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="filter过滤器"><a href="#filter过滤器" class="headerlink" title="filter过滤器"></a><code>filter</code>过滤器</h3><p>格式化内容输出结果，和对数据进行筛选（比如大于30的保留）</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; experssion | filter&#125;&#125;	</div><div class="line">&#123;&#123; experssion | filter1 | filter2 &#125;&#125;	</div><div class="line">&#123;&#123; experssion | filter : params1 : params2 ,...&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="currency-货币金额"><a href="#currency-货币金额" class="headerlink" title="currency 货币金额"></a><code>currency</code> 货币金额</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--每三位加一个逗号，并且保留角分 $123,456,789.00  --&gt;</span></div><div class="line">&#123;&#123;123456789 | currency&#125;&#125;	</div><div class="line"></div><div class="line"><span class="comment">&lt;!--参数用于修改货币符号 ￥123,456,789.00--&gt;</span></div><div class="line">&#123;&#123;123456789 | currency : '￥'&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="number-数字化格式"><a href="#number-数字化格式" class="headerlink" title="number 数字化格式"></a><code>number</code> 数字化格式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--每三位加一个逗号 123,456,789  --&gt;</span></div><div class="line">&#123;&#123;123456789 | number&#125;&#125;	</div><div class="line"></div><div class="line"><span class="comment">&lt;!--四舍五入，参数代表保留几位小数 123,456,789.000--&gt;</span></div><div class="line">&#123;&#123;123456789 | number : 3&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="date-格式化时间"><a href="#date-格式化时间" class="headerlink" title="date 格式化时间"></a><code>date</code> 格式化时间</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>处理内容：Mon Aug 01 2016 23:33:59 GMT+0800 (中国标准时间)<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- Aug 1, 2016 11:24:57 PM  --&gt;</span></div><div class="line">  &#123;&#123; today | date : 'medium'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 8/1/16 11:24 PM --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'short'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- Monday, August 1, 2016 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'fullDate'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- August 1, 2016 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'longDate'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- Aug 1, 2016 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'mediumDate'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 11:24:57 PM --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'mediumTime'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 11:24 PM --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'shortTime'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"年份"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 2016--&gt;</span></div><div class="line">	&#123;&#123; today | date : 'y'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 16 省掉前两个数字 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'yy'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 2016--&gt;</span></div><div class="line">	&#123;&#123; today | date : 'yyyy'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"月份"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 8--&gt;</span></div><div class="line">	&#123;&#123; today | date : 'M'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 08 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'MM'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- Aug  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'MMM'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- August --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'MMMM'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"几号"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 1 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'd'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 01 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'dd'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"星期几"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- Mon  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'EEE'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- Monday --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'EEEE'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"小时，24小时制"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 23  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'H'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 23 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'HH'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"小时，12小时制"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 11  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'h'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 11 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'hh'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"分钟"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 43  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'm'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 43 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'mm'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"秒"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 1  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 's'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 01 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'ss'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- .416 --&gt;</span></div><div class="line">	&#123;&#123; today | date : '.sss'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"组合使用"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 2016-08-1 23:49:31 --&gt;</span></div><div class="line">	&#123;&#123;today | date : 'y-MM-d H:m:s'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	$scope.today = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="limitTo-截取几条数据"><a href="#limitTo-截取几条数据" class="headerlink" title="limitTo 截取几条数据"></a><code>limitTo</code> 截取几条数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- [1,2,3,4,5] 保留前5个数据 --&gt;</span></div><div class="line">&#123;&#123;[1,2,3,4,5,6,7,8,9] | limitTo:5&#125;&#125;</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- [5,6,7,8,9] 负数时，保留后几位数字 --&gt;</span></div><div class="line">&#123;&#123;[1,2,3,4,5,6,7,8,9] | limitTo: -5&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="uppercase-lowercase-字母转换成全大写或者小写"><a href="#uppercase-lowercase-字母转换成全大写或者小写" class="headerlink" title="uppercase/lowercase 字母转换成全大写或者小写"></a><code>uppercase/lowercase</code> 字母转换成全大写或者小写</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"uppercase 小写转为大写"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- HELLO ANGULAR --&gt;</span></div><div class="line">	&#123;&#123;'hello ANGULAR' | uppercase&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"lowercase 大写转为小写"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- hello angular --&gt;</span></div><div class="line">	&#123;&#123;'hello ANGULAR' | lowercase&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="json-将一个数组或一个对象格式化json格式，主要用于调试"><a href="#json-将一个数组或一个对象格式化json格式，主要用于调试" class="headerlink" title="json 将一个数组或一个对象格式化json格式，主要用于调试"></a><code>json</code> 将一个数组或一个对象格式化json格式，主要用于调试</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"city"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"city | json"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'北京'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'beijing'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'上海1212'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'shangehai'</span>,</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'广州e'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'guangzhou'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">		<span class="built_in">console</span>.log($scope.city);</div><div class="line">		<span class="built_in">console</span>.log($filter(<span class="string">'json'</span>)($scope.city));</div><div class="line">		<span class="comment">// 为了方便调试，当打印在控制台上可以看到格式化好的数据</span></div><div class="line">		<span class="comment">// [</span></div><div class="line">		<span class="comment">//   &#123;</span></div><div class="line">		<span class="comment">//     "name": "北京",</span></div><div class="line">		<span class="comment">//     "py": "beijing"</span></div><div class="line">		<span class="comment">//   &#125;,</span></div><div class="line">		<span class="comment">//   &#123;</span></div><div class="line">		<span class="comment">//     "name": "上海1212",</span></div><div class="line">		<span class="comment">//     "py": "shangehai"</span></div><div class="line">		<span class="comment">//   &#125;,</span></div><div class="line">		<span class="comment">//   &#123;</span></div><div class="line">		<span class="comment">//     "name": "广州e",</span></div><div class="line">		<span class="comment">//     "py": "guangzhou"</span></div><div class="line">		<span class="comment">//   &#125;</span></div><div class="line">		<span class="comment">// ]</span></div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="orderBy-39-排序的依据-39-true-排序"><a href="#orderBy-39-排序的依据-39-true-排序" class="headerlink" title="orderBy : &#39;排序的依据&#39; : [true] 排序"></a><code>orderBy : &#39;排序的依据&#39; : [true]</code> 排序</h4><ol>
<li>假如加上true,就变成了从大到小排序</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;tab2Data | orderBy : 'content' : true&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">		<span class="comment">&lt;!--  默认正向排序 a~z orderBy后面带排序的字段名称</span></div><div class="line">		[&#123;"name":"北京","py":"beijing"&#125;,&#123;"name":"广州e","py":"guangzhou"&#125;,&#123;"name":"上海1212","py":"shangehai"&#125;] --&gt;</div><div class="line">		&#123;&#123;city | orderBy : 'py'&#125;&#125;</div><div class="line">		<span class="comment">&lt;!--  在排序字段前加上负号后变成反向排序 z~a </span></div><div class="line">		[&#123;"name":"上海1212","py":"shangehai"&#125;,&#123;"name":"广州e","py":"guangzhou"&#125;,&#123;"name":"北京","py":"beijing"&#125;]--&gt;</div><div class="line">		&#123;&#123;city | orderBy : '-py'&#125;&#125;</div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			name : <span class="string">'北京'</span>,</div><div class="line">			py : <span class="string">'beijing'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'上海1212'</span>,</div><div class="line">			py : <span class="string">'shangehai'</span>,</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'广州e'</span>,</div><div class="line">			py : <span class="string">'guangzhou'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="商品表单及过滤及排序功能"><a href="#商品表单及过滤及排序功能" class="headerlink" title="商品表单及过滤及排序功能"></a>商品表单及过滤及排序功能</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-tag">table</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</div><div class="line">    <span class="attribute">text-align</span>: center;</div><div class="line">    <span class="attribute">vertical-align</span>: middle;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">td</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">52px</span>;</div><div class="line">    <span class="attribute">border-bottom</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">th</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#236fae</span>;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.up</span>&#123;</div><div class="line">    <span class="attribute">background</span>: red;</div><div class="line">  &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"n1"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"search"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"search"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('brands')"</span>&gt;</span>品牌<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('price')"</span>&gt;</span>价格<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('number')"</span>&gt;</span>数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 利用ng-model进行双向数据绑定，利用filter进行数据过滤</span></div><div class="line">              filter : search 即搜索value值中带有search指向内容的数据</div><div class="line">              filter : &#123;name : search&#125; 只通过键名为name的search值</div><div class="line"></div><div class="line">              orderBy用于排序 </div><div class="line">                dire 决定是升序还是降序</div><div class="line">                type 决定是的排序的类型</div><div class="line">         --&gt;</div><div class="line">        <span class="comment">&lt;!-- &lt;tr ng-repeat="x in data | filter:search"&gt; --&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">tr</span> <span class="attr">ng-repeat</span>=<span class="string">"x in data | filter:&#123;brands:search&#125; | orderBy:(dire+type)"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"x.brands"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"x.price | currency:'￥'"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"x.number"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line">    <span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">   myApp.service(<span class="string">'phone'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      data : [ </div><div class="line">                &#123;brands:<span class="string">'samsung'</span>,price:<span class="number">2999</span>, number:<span class="number">20</span>&#125;,</div><div class="line">                &#123;brands:<span class="string">'apple'</span>,price:<span class="number">4999</span>, number:<span class="number">10</span>&#125;,</div><div class="line">                &#123;brands:<span class="string">'xiaomi'</span>,price:<span class="number">1999</span>, number:<span class="number">388</span>&#125;,</div><div class="line">            ]</div><div class="line">    &#125;</div><div class="line">   &#125;])</div><div class="line">    myApp.controller(<span class="string">'n1'</span>, [<span class="string">'$scope'</span>,<span class="string">'phone'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,phone)</span> </span>&#123;</div><div class="line">      $scope.data = phone.data;</div><div class="line">      $scope.dire = <span class="string">''</span>;</div><div class="line">      $scope.order = <span class="function"><span class="keyword">function</span><span class="params">(type)</span></span>&#123;</div><div class="line">        $scope.type = type;</div><div class="line">        <span class="comment">//当dire为空时，为升序，当为-时为降序</span></div><div class="line">        <span class="keyword">if</span>(!$scope.dire)&#123;</div><div class="line">           $scope.dire = <span class="string">'-'</span>;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">          $scope.dire = <span class="string">''</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">    &#125;])</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="在控制器在使用过滤器"><a href="#在控制器在使用过滤器" class="headerlink" title="在控制器在使用过滤器"></a>在控制器在使用过滤器</h4><ol>
<li>把<code>$filter</code>依赖注入<code>controller</code>中</li>
<li>把要使用的过滤器添加到括号内,如<code>$filter(&#39;number&#39;)</code></li>
<li>后面写数据源和参数<code>$filter(&#39;currency&#39;)(money)</code></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"n"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.n = $filter(<span class="string">'currency'</span>)(<span class="number">311231</span>); <span class="comment">//$311,231.00</span></div><div class="line"></div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="filter-可以过滤对象，数组，字符串"><a href="#filter-可以过滤对象，数组，字符串" class="headerlink" title="filter 可以过滤对象，数组，字符串"></a><code>filter</code> 可以过滤对象，数组，字符串</h4><p>针对数据的value值来进行筛选的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">"过滤字符串"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'原始数据'</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- [&#123;"name":"北京","py":"beijing"&#125;,&#123;"name":"上海","py":"shangehai"&#125;,&#123;"name":"广州","py":"guangzhou"&#125;] --&gt;</span></div><div class="line">			&#123;&#123;city&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'过滤带有上海为value值的数据'</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- [&#123;"name":"上海1212","py":"shangehai"&#125;]  --&gt;</span></div><div class="line">			&#123;&#123;city | filter : '上海'&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'它是不能搜索key值的'</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- [],空，因为它只能搜索value值 --&gt;</span></div><div class="line">			&#123;&#123;city | filter : 'name'&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'通过对象搜索，py中带有e的对象'</span>&gt;</span></div><div class="line">		<span class="comment">&lt;!-- [&#123;"name":"北京","py":"beijing"&#125;,&#123;"name":"上海1212","py":"shangehai"&#125;] --&gt;</span></div><div class="line">			&#123;&#123;city | filter:&#123;py:'e'&#125; &#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			name : <span class="string">'北京'</span>,</div><div class="line">			py : <span class="string">'beijing'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'上海1212'</span>,</div><div class="line">			py : <span class="string">'shangehai'</span>,</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'广州e'</span>,</div><div class="line">			py : <span class="string">'guangzhou'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="js中使用-filter服务来过滤内容"><a href="#js中使用-filter服务来过滤内容" class="headerlink" title="js中使用$filter服务来过滤内容"></a>js中使用$filter服务来过滤内容</h4><ol>
<li>注入$filter服务</li>
<li>绑定对应的值在作用域上</li>
<li>$scope.属性名 = $filter(‘过滤器名称’)(过滤内容,过滤格式)；</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"num"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.say = $filter(<span class="string">'uppercase'</span>)(<span class="string">'Haha'</span>);</div><div class="line">	$scope.num = $filter(<span class="string">'number'</span>)(<span class="string">'1231231.1289808'</span>,<span class="number">4</span>);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h4><h5 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h5><p>在<code>controller</code>中定于一个方法，方法的首个参数是要处理的过滤内容，处理这个数据后return 即可，<br>要注意假如要使用<code>if</code>判断语句，<code>return false</code>而不返回这条数据,<code>return true</code>则返回，如果写<code>reture true</code>会返回内容<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">" x in city  | filter : checKPop"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"x.name + ' 人口是:'+x.population"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'北京'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'beijing'</span>,</div><div class="line">			<span class="attr">population</span> : <span class="string">'100'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'上海'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'shangehai'</span>,</div><div class="line">			<span class="attr">population</span> : <span class="string">'200'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'广州'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'guangzhou'</span>,</div><div class="line">			<span class="attr">population</span> : <span class="string">'300'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">		$scope.checKPop = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">			<span class="built_in">console</span>.log(obj);</div><div class="line">			<span class="keyword">if</span>(obj.population == <span class="string">'200'</span>)&#123;</div><div class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h5><ol>
<li>使用的是模块下的filter</li>
<li>传送的参数在第一个return内的函数执行</li>
<li>处理完的数据以return的形式返回出去</li>
<li>使用方法跟普通的filter一致</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"firstUp | firstUpper"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"sec"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.filter(<span class="string">'firstUpper'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(str,num)</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> str.charAt(<span class="number">0</span>).toUpperCase() + str.slice(<span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.firstUp = <span class="string">"ba"</span>;</div><div class="line">	$scope.sec = $filter(<span class="string">'firstUpper'</span>)(<span class="string">'second'</span>);</div><div class="line"></div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="directive指令"><a href="#directive指令" class="headerlink" title="directive指令"></a><code>directive</code>指令</h3><p>一个强大的 DOM 转换引擎，以声明式的方式扩展HTML表示能力</p>
<h4 id="ng-repeat"><a href="#ng-repeat" class="headerlink" title="ng-repeat"></a><code>ng-repeat</code></h4><ol>
<li>利用<code>ng-repeat</code>对数据进行循环</li>
<li>通过<code>ng-click</code>指令，及<code>$filter</code>服务的<code>orderBy</code>进行数据的点击排序</li>
<li>最后通过配合<code>arguments.callee</code>当前在执行的对象及<code>$filter</code>下的’filter’来进行数据搜索，同时要注意要创建一个原始数据，在搜索的时候是搜索这份原始数据，而在呈现的时候$scope到另一个变量上</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">table</span> &#123;</div><div class="line">		<span class="attribute">width</span>: <span class="number">400px</span>;</div><div class="line">		<span class="attribute">text-align</span>: center;</div><div class="line">		<span class="attribute">border-collapse</span>: collapse;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-tag">td</span>,<span class="selector-tag">th</span>&#123;</div><div class="line">		<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>  <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> &gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"searchVal"</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">ng-click</span>=<span class="string">"search(searchVal)"</span>&gt;</span>搜索<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('subject')"</span>&gt;</span>科目<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('score')"</span>&gt;</span>分数<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span> <span class="attr">ng-repeat</span>=<span class="string">"data in datas"</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.subject"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.score"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> oriData = [</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'mathematics'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">70</span>&#125;,</div><div class="line">	];</div><div class="line">	$scope.datas = oriData;</div><div class="line">	$scope.order = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">		<span class="built_in">arguments</span>.callee[<span class="string">'order'</span> + name] = !<span class="built_in">arguments</span>.callee[<span class="string">'order'</span> + name];</div><div class="line">		$scope.datas = $filter(<span class="string">'orderBy'</span>)($scope.datas,name,<span class="built_in">arguments</span>.callee[<span class="string">'order'</span> + name]);</div><div class="line">	&#125;</div><div class="line">	$scope.search = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</div><div class="line">		$scope.datas = $filter(<span class="string">'filter'</span>)(oriData,val);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="index"><a href="#index" class="headerlink" title="$index"></a><code>$index</code></h5><p>从0开始，每个<code>ng-repeat</code>所对应的索引号</p>
<h5 id="first"><a href="#first" class="headerlink" title="$first"></a><code>$first</code></h5><p>只有数据的第一个会返回<code>true</code>，其他的返回<code>false</code></p>
<h5 id="last"><a href="#last" class="headerlink" title="$last"></a><code>$last</code></h5><p>跟<code>$first</code>相似，最后一个返回<code>true</code>，其他的返回<code>false</code></p>
<h5 id="middle"><a href="#middle" class="headerlink" title="$middle"></a><code>$middle</code></h5><p>除了第一个和最后一个，都会返回<code>true</code></p>
<h4 id="odd偶数行-even基数行"><a href="#odd偶数行-even基数行" class="headerlink" title="$odd偶数行,$even基数行"></a><code>$odd</code>偶数行,<code>$even</code>基数行</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>  <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>科目<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>分数<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$index<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$first<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$last<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$middle<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$even<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$odd<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span> <span class="attr">ng-repeat</span>=<span class="string">"data in datas"</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.subject"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.score"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$index"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$first"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$last"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$middle"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$even"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$odd"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.datas = [</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'mathematics'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">70</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'sport'</span>,<span class="string">'score'</span>:<span class="number">85</span>&#125;,</div><div class="line">	];</div><div class="line">	</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作"><a href="#ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作" class="headerlink" title="ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作"></a><code>ng-repeat-star</code>和<code>ng-repeat-end</code>实现兄弟节点的循环操作</h5><p>避免加在父级会把父级也循环出来<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-class">.t</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#ddd</span>;</div><div class="line">		<span class="attribute">margin-top</span>: <span class="number">40px</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>  <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat-start</span>=<span class="string">"data in datas"</span> <span class="attr">ng-bind</span>=<span class="string">"$index"</span> <span class="attr">class</span>=<span class="string">"t"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"data.subject"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat-end</span>=<span class="string">"data in datas"</span> <span class="attr">ng-bind</span>=<span class="string">"data.score"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.datas = [</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'mathematics'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">70</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'sport'</span>,<span class="string">'score'</span>:<span class="number">85</span>&#125;,</div><div class="line">	];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="ng-model-里面的属性"><a href="#ng-model-里面的属性" class="headerlink" title="ng-model 里面的属性"></a><code>ng-model</code> 里面的属性</h4><h5 id="parsers属性"><a href="#parsers属性" class="headerlink" title="$parsers属性"></a><code>$parsers</code>属性</h5><h5 id="validators-一个json对象"><a href="#validators-一个json对象" class="headerlink" title="$validators 一个json对象"></a><code>$validators</code> 一个json对象</h5><figure class="highlight css"><figcaption><span>json</span><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">流浪猫の窝</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  &#123;</div><div class="line">   <span class="attribute">validateName</span>: <span class="built_in">function</span>(modelValue,viewValue)&#123;</div><div class="line">       return ...</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当<code>$setViewValue(value)</code>被赋值给<code>$modelValue</code>之前,会经过<code>$parsers</code>管道,经过<code>$parsers</code>管道时,就会经过这个<code>$validators</code>管道.其中validateName是验证的名字,函数是这个验证的方法,其中的参数<code>modelValue</code>和<code>viewValue</code>就是<code>$modelValue</code>和<code>$viewValue</code>,如果返回值是<code>true</code>,则通过validateName验证,如果返回值是<code>false</code>,则没有通过validateName验证,如果没有通过validateName验证,<code>$error.validateName</code>就会为<code>true</code>.这就是angular内部验证表单项的原理.</p>
<figure class="highlight javascript"><figcaption><span>html</span><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">流浪猫の窝</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"alert alert-danger"</span> role=<span class="string">"alert"</span></div><div class="line"> ng-show=<span class="string">"myForm.myWidget.$error.validCharacters"</span>&gt;</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>Oh!<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span> 不符合自定义的验证规则!</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><figcaption><span>javascript</span><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">流浪猫の窝</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;scritp&gt;</div><div class="line">  ngModel.$validators.validCharacters = <span class="function"><span class="keyword">function</span>(<span class="params">modelValue, viewValue</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> value = modelValue || viewValue;</div><div class="line">      <span class="keyword">return</span> <span class="regexp">/[0-9]+/</span>.test(value);</div><div class="line">  &#125;;</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">scritp</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="formatters"><a href="#formatters" class="headerlink" title="$formatters"></a><code>$formatters</code></h5><p>它保存的是从modelValue向viewValue绑定过程中的处理函数</p>
<h5 id="setViewValue"><a href="#setViewValue" class="headerlink" title="$setViewValue"></a><code>$setViewValue</code></h5><p>当view发生了某件事情时，从view向model绑定调用$setViewValue 把viewValue保存下来</p>
<h5 id="render"><a href="#render" class="headerlink" title="$render"></a><code>$render</code></h5><p>当模型发生变化时，应该怎么去更新视图，从model向view绑定，调用ctrl.$render方法，将viewValue渲染到页面上</p>
<h5 id="setValidity"><a href="#setValidity" class="headerlink" title="$setValidity"></a><code>$setValidity</code></h5><p>设置验证结果</p>
<h5 id="viewValue"><a href="#viewValue" class="headerlink" title="$viewValue"></a><code>$viewValue</code></h5><p>视图的值</p>
<h5 id="modelValue"><a href="#modelValue" class="headerlink" title="$modelValue"></a><code>$modelValue</code></h5><p>模型里的值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"reg"</span> <span class="attr">ng-controller</span>=<span class="string">"myFrom"</span> <span class="attr">ng-submit</span>=<span class="string">"submit(reg)"</span> <span class="attr">novalidate</span>=<span class="string">"true"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"phone"</span> <span class="attr">ng-model</span>=<span class="string">"myPhone"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">required</span> </span></div><div class="line">            <span class="attr">ng-maxlength</span>=<span class="string">"11"</span> </div><div class="line">            <span class="attr">valid</span> <span class="attr">number-type</span>=<span class="string">"integer"</span> <span class="attr">number-valid</span> <span class="attr">show-error</span> &gt;</div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;myPhone&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;reg.phone.$error&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"mypw"</span> <span class="attr">ng-model</span>=<span class="string">"myPassword"</span> <span class="attr">show-error</span> </span></div><div class="line">    <span class="attr">minLength</span>=<span class="string">"6"</span> <span class="attr">maxlength</span>=<span class="string">"10"</span> <span class="attr">ng-maxlength</span>=<span class="string">"8"</span> <span class="attr">placeholder</span>=<span class="string">"请输入密码"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;reg.mypw.$error&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;reg.$invalid&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">    m1.controller(<span class="string">'myFrom'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">      $scope.submit = <span class="function"><span class="keyword">function</span>(<span class="params">form</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(form)</div><div class="line">      &#125;</div><div class="line">    &#125;])</div><div class="line">    .directive(<span class="string">'numberValid'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">restrict</span>: <span class="string">'A'</span>,</div><div class="line">        <span class="attr">require</span>:<span class="string">'ngModel'</span>,</div><div class="line">        <span class="attr">scope</span> : &#123;</div><div class="line">          <span class="attr">numberType</span> : <span class="string">'@'</span> <span class="comment">//Integer整数 decimal小数</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs,ctrl</span>) </span>&#123;</div><div class="line">          scope.$watch(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> ctrl.$viewValue</div><div class="line">          &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">newVal,oldVal</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(newVal === <span class="string">''</span>)&#123;</div><div class="line">              <span class="keyword">if</span>(oldVal.length == <span class="number">1</span>)&#123;</div><div class="line">                oldVal = <span class="string">''</span>;</div><div class="line">              &#125;</div><div class="line">              iElement.val(oldVal);</div><div class="line">              ctrl.$setViewValue(oldVal);</div><div class="line">            &#125;</div><div class="line">          &#125;,<span class="literal">true</span>);</div><div class="line">          <span class="comment">// $parsers: viewValue =&gt; modelValue</span></div><div class="line">          <span class="comment">// 绑定数据时都会执行$parsers函数</span></div><div class="line">          ctrl.$parsers.push(<span class="function"><span class="keyword">function</span>(<span class="params">viewVal</span>)</span>&#123;</div><div class="line">            <span class="comment">/**</span></div><div class="line">             * $setValidity 设置验证是否通过</div><div class="line">             * true 通过验证</div><div class="line">             * false 不通过验证 </div><div class="line">             */</div><div class="line">              <span class="keyword">if</span>(<span class="built_in">isNaN</span>(viewVal))&#123;</div><div class="line">                ctrl.$setValidity(<span class="string">'number'</span>,<span class="literal">false</span>);</div><div class="line">                <span class="built_in">console</span>.warn(<span class="string">'输入正确的数字'</span>);</div><div class="line">              &#125;<span class="keyword">else</span>&#123;</div><div class="line">                ctrl.$setValidity(<span class="string">'number'</span>,<span class="literal">true</span>);</div><div class="line">              &#125;</div><div class="line">              <span class="comment">//注意要return viewVal 不然不能进行双向绑定</span></div><div class="line">              <span class="keyword">return</span> viewVal;</div><div class="line">          &#125;)</div><div class="line"></div><div class="line">          <span class="comment">//当model的数据绑定到view上时会调用这个函数</span></div><div class="line">          <span class="comment">// ctrl.$formatters.push(function(modelVal)&#123;</span></div><div class="line">          <span class="comment">//   return modelVal + 'formatters'</span></div><div class="line">          <span class="comment">// &#125;)</span></div><div class="line"></div><div class="line">          <span class="comment">//$setViewValue 决定着用户输入的数据怎么保留到modelVaule中去</span></div><div class="line">        &#125;</div><div class="line">      &#125;;</div><div class="line">    &#125;])</div><div class="line">    .directive(<span class="string">'showError'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">restrict</span>: <span class="string">'A'</span>,</div><div class="line">        <span class="attr">require</span>: <span class="string">'ngModel'</span>,</div><div class="line">        <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs,ctrl</span>) </span>&#123;</div><div class="line">          iElement.on(<span class="string">'blur'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(ctrl.$invalid)&#123;</div><div class="line">              <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> ctrl.$error)&#123;</div><div class="line">                <span class="keyword">if</span>(ctrl.$error[key])&#123;</div><div class="line">                  <span class="built_in">console</span>.log(key);</div><div class="line">                  <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">              &#125;</div><div class="line">            &#125;</div><div class="line">          &#125;)</div><div class="line">        &#125;</div><div class="line">      &#125;;</div><div class="line">    &#125;])</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="事件指令"><a href="#事件指令" class="headerlink" title="事件指令"></a>事件指令</h4><p>跟原生最大的区别在于可以</p>
<ol>
<li>写上数据的变量名来获取数据</li>
<li>支持表达式的写法</li>
</ol>
<ul>
<li><code>ng-click</code>/<code>ng-dbclick</code> 鼠标点击</li>
<li><code>ng-mousedown</code>/<code>ng-mouseup</code> 鼠标按下/抬起</li>
<li><code>ng-mouseenter</code>/<code>ng-mouseleave</code></li>
<li><code>ng-mousemove</code>/<code>ng-mouseove</code>/<code>ng=mouseout</code></li>
<li><code>ng-keydown</code>/<code>ng-keyup</code>/<code>ng-keypress</code> 键盘按下、键盘抬起</li>
<li><code>ng-focus</code>/<code>ng-blur</code> 获取焦点、失去焦点</li>
<li><code>ng-submit</code> 表单提交</li>
<li><code>ng-selected</code> 下拉菜单被选中的时候返回true<br>将复选框的选择状态与下拉菜单的第二个选项绑定，当下拉菜单的第二个被选中时，复选框也会被选中 </li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"mySelect"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">ng-selected</span>=<span class="string">"mySelect"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>ng-change</code>当输入框的值发生改变时会触发<br>注意要配合<code>ng-model</code>来一起使用</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"change"</span> <span class="attr">ng-change</span>=<span class="string">"console1(change)"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">	$scope.console1 = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(val);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>ng-copy</code> 输入框中进行复制操作时会触发</li>
<li><code>ng-cut</code>    输入框中进行剪切操作时会触发</li>
<li><code>ng-paste</code> 输入框中进行粘贴操作时会触发</li>
</ul>
<h4 id="input相关指令"><a href="#input相关指令" class="headerlink" title="input相关指令"></a>input相关指令</h4><h5 id="ng-disable-当为true时按钮不可用"><a href="#ng-disable-当为true时按钮不可用" class="headerlink" title="ng-disable 当为true时按钮不可用"></a><code>ng-disable</code> 当为true时按钮不可用</h5><ol>
<li>不可以进行表单提交</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;sec&#125;&#125;"</span>  <span class="attr">ng-disabled</span>=<span class="string">"false"</span> <span class="attr">ng-click</span>=<span class="string">"resetTime()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$interval'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$interval)</span> </span>&#123;</div><div class="line">	<span class="keyword">var</span> cutTime = <span class="number">5</span>,</div><div class="line">		timer = <span class="literal">null</span>;</div><div class="line">	$scope.isDisable = <span class="literal">false</span>;</div><div class="line">	$scope.sec = cutTime + <span class="string">'秒'</span>;</div><div class="line">	<span class="comment">//把函数写在外部方便重复调用</span></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">cutDown</span><span class="params">()</span></span>&#123;</div><div class="line">			cutTime--;</div><div class="line">			$scope.sec = cutTime + <span class="string">'秒'</span>;</div><div class="line">			<span class="keyword">if</span>(cutTime == <span class="number">0</span>)&#123;</div><div class="line">				<span class="comment">//使用$interval.calcel(定时器名称)来清除定时器</span></div><div class="line">				$interval.cancel(timer);</div><div class="line">				$scope.isDisable = <span class="literal">false</span>;</div><div class="line">				$scope.sec = <span class="string">"重新开始"</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	timer = $interval(cutDown,<span class="number">1</span>*<span class="number">1000</span>);</div><div class="line">	$scope.resetTime = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		cutTime = <span class="number">5</span>;</div><div class="line">		<span class="comment">//注意当重启定时器时，要带上之前已定义的定时器名称，否则会产品定时器叠加</span></div><div class="line">		<span class="comment">//参考文章:http://my.oschina.net/u/2602502/blog/603498?fromerr=b3aTLBX0</span></div><div class="line">		timer = $interval(cutDown,<span class="number">1</span>*<span class="number">1000</span>);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-readonly-只读"><a href="#ng-readonly-只读" class="headerlink" title="ng-readonly 只读"></a><code>ng-readonly</code> 只读</h5><ol>
<li>只针对input为<code>text</code>或<code>textarea</code>这类文本输入框有效</li>
<li>可以进行表单提交</li>
</ol>
<h5 id="ng-checked-当为true时选框会被选中"><a href="#ng-checked-当为true时选框会被选中" class="headerlink" title="ng-checked 当为true时选框会被选中"></a><code>ng-checked</code> 当为<code>true</code>时选框会被选中</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-checked</span>=<span class="string">"true"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-value-跟value一样，可以避免在数据没渲染时显示出表达式"><a href="#ng-value-跟value一样，可以避免在数据没渲染时显示出表达式" class="headerlink" title="ng-value 跟value一样，可以避免在数据没渲染时显示出表达式"></a><code>ng-value</code> 跟<code>value</code>一样，可以避免在数据没渲染时显示出表达式</h5><h4 id="数据显示优化"><a href="#数据显示优化" class="headerlink" title="数据显示优化"></a>数据显示优化</h4><h5 id="ng-bind"><a href="#ng-bind" class="headerlink" title="ng-bind"></a><code>ng-bind</code></h5><h5 id="ng-bind-template可以同时渲染多个表达式内容"><a href="#ng-bind-template可以同时渲染多个表达式内容" class="headerlink" title="ng-bind-template可以同时渲染多个表达式内容"></a><code>ng-bind-template</code>可以同时渲染多个表达式内容</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind-template</span>=<span class="string">"&#123;&#123;name&#125;&#125;,&#123;&#123;txt | uppercase&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$interval'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$interval)</span> </span>&#123;</div><div class="line">	$scope.name = <span class="string">'weison'</span></div><div class="line">	$scope.txt = <span class="string">'learn angular'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-bind-html-配合-sce来解释html"><a href="#ng-bind-html-配合-sce来解释html" class="headerlink" title="ng-bind-html 配合$sce来解释html"></a><code>ng-bind-html</code> 配合<code>$sce</code>来解释html</h5><p>参考资料<a href="https://segmentfault.com/a/1190000000639561" target="_blank" rel="external">angular中的ng-bind-html指令和$sce服务</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind-html</span>=<span class="string">" txt | toTrust"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind-html</span>=<span class="string">"t2 | toTrust"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$sce)</span> </span>&#123;</div><div class="line">	$scope.txt = <span class="string">'&lt;h1&gt;hello&lt;/h1&gt;&lt;br /&gt;123123'</span>;</div><div class="line">	$scope.t2 = <span class="string">'&lt;span&gt;1231&lt;/span&gt;'</span>;</div><div class="line">&#125;]);</div><div class="line">myApp.filter(<span class="string">'toTrust'</span>,[<span class="string">'$sce'</span>,<span class="function"><span class="keyword">function</span><span class="params">($sce)</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(html)</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> $sce.trustAsHtml(html);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-cloak-在元素解释完成前，样式会被设置成display-none"><a href="#ng-cloak-在元素解释完成前，样式会被设置成display-none" class="headerlink" title="ng-cloak 在元素解释完成前，样式会被设置成display:none"></a><code>ng-cloak</code> 在元素解释完成前，样式会被设置成display:none</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cloak</span>&gt;</span>&#123;&#123;t2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cloak</span>&gt;</span>&#123;&#123;t3&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$sce)</span> </span>&#123;</div><div class="line">	$scope.t2 = <span class="string">'2212'</span>;</div><div class="line">	<span class="keyword">return</span>;</div><div class="line">	$scope.t3 = <span class="string">'3333'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-non-bindable-不进行表达的解释"><a href="#ng-non-bindable-不进行表达的解释" class="headerlink" title="ng-non-bindable 不进行表达的解释"></a><code>ng-non-bindable</code> 不进行表达的解释</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cloak</span>&gt;</span>&#123;&#123;t2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-non-bindable</span>&gt;</span>&#123;&#123;t2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">	$scope.t2 = <span class="string">'2212'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="样式指令"><a href="#样式指令" class="headerlink" title="样式指令"></a>样式指令</h4><h5 id="ng-class"><a href="#ng-class" class="headerlink" title="ng-class"></a><code>ng-class</code></h5><p>类似于对象的形式,{样式名:判断条件}<br>当判断条件成立时，使用样式名<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123;样式1:判断条件&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-class">.bg</span>&#123;</div><div class="line">	<span class="attribute">background</span>: red;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.bd</span>&#123;</div><div class="line">	<span class="attribute">border</span>:<span class="number">5px</span> solid green;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-class</span>=<span class="string">"&#123;bg:true,bd:&#123;&#123;1&lt;2&#125;&#125;&#125;"</span>&gt;</span>ngClass<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-style-解释行内样式-可以写在行内，也要以单独抽取成表达式"><a href="#ng-style-解释行内样式-可以写在行内，也要以单独抽取成表达式" class="headerlink" title="ng-style 解释行内样式,可以写在行内，也要以单独抽取成表达式"></a><code>ng-style</code> 解释行内样式,可以写在行内，也要以单独抽取成表达式</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-class">.b</span>&#123;	<span class="attribute">background</span>: <span class="number">#FFEB3B</span>;&#125;</div><div class="line">	<span class="selector-class">.c</span>&#123;	<span class="attribute">border</span>: <span class="number">1px</span> solid blue;	&#125;</div><div class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123;b:true,c:true&#125;"</span>&gt;</span>1111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-style</span>=<span class="string">"&#123;'background':'blue','color':'#fff'&#125;"</span>&gt;</span>2222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-style</span>=<span class="string">"&#123;&#123;myStyle&#125;&#125;"</span>&gt;</span>3333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123;&#123;myClass&#125;&#125;"</span>&gt;</span>4444<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$sce)</span> </span>&#123;</div><div class="line">	$scope.t2 = <span class="string">'2212'</span>;</div><div class="line">	$scope.myStyle = &#123;<span class="string">'background'</span>:<span class="string">'blue'</span>,<span class="string">'color'</span>:<span class="string">'#fff'</span>&#125;;</div><div class="line">	$scope.myClass = &#123;b:<span class="literal">true</span>,c:<span class="literal">true</span>&#125;;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-attr-属性名-通用的属性写法"><a href="#ng-attr-属性名-通用的属性写法" class="headerlink" title="ng-attr-(属性名) 通用的属性写法"></a><code>ng-attr-(属性名)</code> 通用的属性写法</h5><h4 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h4><h5 id="ng-show-ng-hide"><a href="#ng-show-ng-hide" class="headerlink" title="ng-show/ng-hide"></a><code>ng-show</code>/<code>ng-hide</code></h5><ul>
<li><code>ng-show</code> true时内容显示，false时内容隐藏</li>
<li><code>ng-hide</code> true时隐藏，flase时显示</li>
<li><code>ng-if</code> true时插入标签，flase时删除标签</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"cb"</span> <span class="attr">ng-init</span>=<span class="string">"cb=false"</span>&gt;</span> </div><div class="line">	<span class="tag">&lt;<span class="name">div</span> &gt;</span>ng-show:&#123;&#123;cb&#125;&#125;,<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-show</span>=<span class="string">"cb"</span>&gt;</span>ng-show<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> &gt;</span>ng-hide:&#123;&#123;cb&#125;&#125;,<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-hide</span>=<span class="string">"cb"</span>&gt;</span>ng-hide<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> &gt;</span>ng-if:&#123;&#123;cb&#125;&#125;,<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-if</span>=<span class="string">"cb"</span>&gt;</span>ng-if<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-switch配合on-default-when来有选择性的对元素进行显示隐藏"><a href="#ng-switch配合on-default-when来有选择性的对元素进行显示隐藏" class="headerlink" title="ng-switch配合on``default``when来有选择性的对元素进行显示隐藏"></a><code>ng-switch</code>配合<code>on``default``when</code>来有选择性的对元素进行显示隐藏</h5><ul>
<li><code>on</code> 绑定的变量</li>
<li><code>default</code> 默认情况下的内容</li>
<li><code>when</code> 当on绑定的内容发生改变时，进行选择</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">ng-model</span>=<span class="string">"switchTest"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"default"</span>  &gt;</span>default<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span> &gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-switch</span> <span class="attr">on</span>=<span class="string">"switchTest"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-switch-default</span>&gt;</span>default<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-switch-when</span>=<span class="string">"1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-switch-when</span>=<span class="string">"2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">	$scope.switchTest = <span class="string">'default'</span>;</div><div class="line">	$scope.switchT = <span class="function"><span class="keyword">function</span><span class="params">(str)</span></span>&#123;</div><div class="line">		$scpe.switchTest = str;</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>要注意的是<code>ng-if</code>及<code>ng-switch</code>的指令都会创建出子scope，因此在父级scope访问时不到，解决方案是将ng-model的数据绑定到<code>$pent</code>中去<br><figure class="highlight xml"><figcaption><span>javascript</span><a href="http://blog.csdn.net/gua_381091614/article/details/48544585" target="_blank" rel="external">流海阔山遥，未知何处是潇湘</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="handlebars"><span class="xml"></span></span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">ng-if</span>=<span class="string">"1===1"</span> <span class="attr">ng-model</span>=<span class="string">"$parent.name"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello !<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><br>或者参考<a href="http://stackoverflow.com/questions/18342917/angularjs-ng-model-doesnt-work-inside-ng-if" target="_blank" rel="external">Angularjs ng-model doesn’t work inside ng-if</a></p>
<h5 id="ng-open配合html下的detail来控制内容的显示与隐藏"><a href="#ng-open配合html下的detail来控制内容的显示与隐藏" class="headerlink" title="ng-open配合html下的detail来控制内容的显示与隐藏"></a><code>ng-open</code>配合html下的<code>detail</code>来控制内容的显示与隐藏</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"cb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">details</span> <span class="attr">ng-open</span>=<span class="string">"cb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">summary</span>&gt;</span>Copyright 2011.<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>All pages and graphics on this web site are the property of W3School.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">details</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>	</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="扩展部分操作"><a href="#扩展部分操作" class="headerlink" title="扩展部分操作"></a>扩展部分操作</h4><h5 id="ng-init-初始化数据"><a href="#ng-init-初始化数据" class="headerlink" title="ng-init 初始化数据"></a><code>ng-init</code> 初始化数据</h5><p>一般情况下建议还是在控制器上写，相对来说比较清晰，减少出错的几率，但在<code>ng-repeat</code>的时候有可能用到，因为它的属性挂载在标签上<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"outter in datas"</span> <span class="attr">ng-init</span>=<span class="string">"outterIndex = $index"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"inner in outter"</span> <span class="attr">ng-init</span>=<span class="string">"innerIndex = $index"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind-template</span>=<span class="string">"&#123;&#123;outterIndex&#125;&#125;&#123;&#123;innerIndex&#125;&#125;:&#123;&#123;inner&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">	$scope.datas = [[<span class="string">'a'</span>,<span class="string">'b'</span>],[<span class="string">'c'</span>,<span class="string">'d'</span>]];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="ng-include-引入外部的文件"><a href="#ng-include-引入外部的文件" class="headerlink" title="ng-include 引入外部的文件"></a><code>ng-include</code> 引入外部的文件</h5><p>要注意它的引入符号是”‘’”中间还带上了单引号<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-include</span>=<span class="string">"'include.html'"</span> <span class="attr">scope</span>=<span class="string">""</span> <span class="attr">onload</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="ng-model-双向数据绑定"><a href="#ng-model-双向数据绑定" class="headerlink" title="ng-model 双向数据绑定"></a><code>ng-model</code> 双向数据绑定</h5><ol>
<li>利用<code>ng-model-option</code>下的<code>updateOn</code>来控制数据的更新时机</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"updateOn"</span> <span class="attr">ng-model-options</span>=<span class="string">"&#123;updateOn :'blur'&#125;"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"updateOn"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-controller-控制器"><a href="#ng-controller-控制器" class="headerlink" title="ng-controller 控制器"></a><code>ng-controller</code> 控制器</h5><ol>
<li>它是支持面向对象编程的</li>
<li>可以利用funciton的<code>prototype</code>属性来构建函数</li>
<li>通过controller下的<code>as</code>来实例化对象</li>
<li>通过访问实例化对象下的属性和方法来读取数据和运行函数</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"fnCon as a1"</span> &gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind-template</span>=<span class="string">"&#123;&#123;a1.text&#125;&#125; &#123;&#123;a1.show()&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-click</span>=<span class="string">"a1.sum(1,2)"</span>&gt;</span>1,2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, fnCon]);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnCon</span><span class="params">($scope)</span> </span>&#123;</div><div class="line">&#125;</div><div class="line">fnCon.prototype.text = <span class="string">'hello'</span>;</div><div class="line">fnCon.prototype.show = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="string">'angular'</span>;</div><div class="line">&#125;</div><div class="line">fnCon.prototype.sum = <span class="function"><span class="keyword">function</span><span class="params">(n1,n2)</span></span>&#123;</div><div class="line">	alert (n1+n2);</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="标签指令"><a href="#标签指令" class="headerlink" title="标签指令"></a>标签指令</h4><h5 id="a"><a href="#a" class="headerlink" title="a"></a><code>a</code></h5><p>阻止了系统默认刷新页面的事件</p>
<h5 id="select"><a href="#select" class="headerlink" title="select"></a><code>select</code></h5><ol>
<li>利用<code>ng-options</code>来生成生拉菜单的内容</li>
<li>单项下的某一属性 for 单项 in 数据集合</li>
<li>要配合<code>ng-model</code>来使用,然后可以通过它先绑定默认的值</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> &gt;</span>&#123;&#123;selectData&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">ng-options</span>=<span class="string">"myData.subject for myData in datas"</span> <span class="attr">ng-model</span>=<span class="string">"selectData"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</div><div class="line">	$scope.datas = [&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;];</div><div class="line">	$scope.selectData = $scope.datas[<span class="number">0</span>];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="form"><a href="#form" class="headerlink" title="form"></a><code>form</code></h5><ol>
<li><code>novalidate</code> 或<code>&lt;ng-form&gt;&lt;/ng-form&gt;</code> 加上后会阻止静表单的默认样式和行为</li>
</ol>
<h4 id="表单验证指令"><a href="#表单验证指令" class="headerlink" title="表单验证指令"></a>表单验证指令</h4><ol>
<li>要通过<code>name</code>的方式进行查找</li>
<li>配合<code>ng-model</code>来使用</li>
<li>当验证不通过时，数据是不会渲染在视图上的</li>
<li><code>$error</code> 在取值的时候会有一个优先值，如果优先级高的那个为true，那个其余的条件会变成false</li>
</ol>
<h5 id="验证选项"><a href="#验证选项" class="headerlink" title="验证选项"></a>验证选项</h5><ol>
<li>“type=’number’” 数字类型</li>
<li>“type=’email’” 邮箱类型</li>
<li>“type=’url’” 网址类型</li>
</ol>
<h5 id="验证属性"><a href="#验证属性" class="headerlink" title="验证属性"></a>验证属性</h5><table>
<thead>
<tr>
<th>Property</th>
<th>class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$valid</td>
<td>ng-valid</td>
<td>{Boolean} 当验证规则通过则为true</td>
</tr>
<tr>
<td>$invalid</td>
<td>ng-invalid</td>
<td>{Boolean} 当验证规则不通过是为true</td>
</tr>
<tr>
<td>$pristine</td>
<td>ng-pristine</td>
<td>{Boolean} 当输入元素没被填写时</td>
</tr>
<tr>
<td>$dirty</td>
<td>ng-dirty</td>
<td>{Boolean} 当输入元素没填写时</td>
</tr>
</tbody>
</table>
<p>当条件符合时，会自动在验证元素上加上对应的class,如当input的验证通过时，input会被添加<code>ng-valid</code>样式</p>
<h5 id="访问表单的属性"><a href="#访问表单的属性" class="headerlink" title="访问表单的属性"></a>访问表单的属性</h5><ol>
<li><p>访问表格 <code>&lt;form name&gt;.&lt;angular property&gt;</code><br>如当表单验证不通过时，让提交按钮失效<code>ng-disable=&quot;myForm.$invalid&quot;</code></p>
</li>
<li><p>访问input <code>&lt;form name&gt;.&lt;input name&gt;.&lt;angular property&gt;</code><br>如：当input内容验证不通过时，显示错误信息<code>ng-show=&quot;myForm.userName.$dirty &amp;&amp; myForm.userName.$invalid &quot;</code></p>
</li>
</ol>
<p><a href="http://runjs.cn/detail/2u0zuhou" target="_blank" rel="external">张治中V -AngularJS的表单验证</a></p>
<h5 id="required为空，当为空时，返回true"><a href="#required为空，当为空时，返回true" class="headerlink" title="required为空，当为空时，返回true"></a><code>required</code>为空，当为空时，返回true</h5><h5 id="valid有效值，当表单通过时，这个值为true"><a href="#valid有效值，当表单通过时，这个值为true" class="headerlink" title="$valid有效值，当表单通过时，这个值为true"></a><code>$valid</code>有效值，当表单通过时，这个值为true</h5><h5 id="invalid无效值，不通过时，这个值为true"><a href="#invalid无效值，不通过时，这个值为true" class="headerlink" title="$invalid无效值，不通过时，这个值为true"></a><code>$invalid</code>无效值，不通过时，这个值为true</h5><h5 id="pristine原始值未经改动时-为true"><a href="#pristine原始值未经改动时-为true" class="headerlink" title="$pristine原始值未经改动时,为true"></a><code>$pristine</code>原始值未经改动时,为true</h5><h5 id="dirty原始值改动时-为true"><a href="#dirty原始值改动时-为true" class="headerlink" title="$dirty原始值改动时,为true"></a><code>$dirty</code>原始值改动时,为true</h5><h5 id="ng-minlength-最小长度"><a href="#ng-minlength-最小长度" class="headerlink" title="ng-minlength 最小长度"></a><code>ng-minlength</code> 最小长度</h5><h5 id="ng-maxlength-最大长度"><a href="#ng-maxlength-最大长度" class="headerlink" title="ng-maxlength 最大长度"></a><code>ng-maxlength</code> 最大长度</h5><h5 id="ng-pattern-正则"><a href="#ng-pattern-正则" class="headerlink" title="ng-pattern 正则"></a><code>ng-pattern</code> 正则</h5><h5 id="touched-表单被触发过"><a href="#touched-表单被触发过" class="headerlink" title="$touched 表单被触发过"></a><code>$touched</code> 表单被触发过</h5><h5 id="error记录所有的验证信息-只有这个值有true就证明验证失败了"><a href="#error记录所有的验证信息-只有这个值有true就证明验证失败了" class="headerlink" title="$error记录所有的验证信息,只有这个值有true就证明验证失败了"></a><code>$error</code>记录所有的验证信息,只有这个值有<code>true</code>就证明验证失败了</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"myForm"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">ng-model</span>=<span class="string">"myEmail"</span> <span class="attr">name</span>=<span class="string">"myEmail"</span> <span class="attr">required</span> <span class="attr">ng-minlength</span>=<span class="string">"8"</span>  <span class="attr">ng-maxlength</span>=<span class="string">"12"</span> <span class="attr">ng-pattern</span>=<span class="string">"/^[a-zA-Z]+$/"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$valid有效值:&#123;&#123;myForm.myEmail.$valid&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$invalid无效值:&#123;&#123;myForm.myEmail.$invalid&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$pristine原始值:&#123;&#123;myForm.myEmail.$pristine&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$dirty非原始值:&#123;&#123;myForm.myEmail.$dirty&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$error错误信息:&#123;&#123;myForm.myEmail.$error&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</div><div class="line">	$scope.myEmail = <span class="string">'explame@text.com'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="验证样式"><a href="#验证样式" class="headerlink" title="验证样式"></a>验证样式</h4><ol>
<li><code>.ng-valid{}</code> 验证通过 </li>
<li><code>.ng-invalid</code> 验证不通过</li>
<li><code>.ng-pristine{}</code> 保持着初始值</li>
<li><code>.ng-dirty{}</code> 值已被修改过</li>
</ol>
<h4 id="实例-表单验证"><a href="#实例-表单验证" class="headerlink" title="实例 表单验证"></a>实例 表单验证</h4><ol>
<li>利用<code>name</code>进行元素的查找</li>
<li>选取表单需要验证的内容</li>
<li>根据验证规则来确定验证提示</li>
<li>通过<code>ng-model</code>进行双向数据绑定</li>
<li>当表单内容失去焦点<code>ng-blur</code>时出发验证函数</li>
<li>在验证函数中，获取表单传递的<code>$error</code>数据，通过<code>for in</code>方法来判断验证规则是否通过</li>
<li>通过<code>filter</code>过滤出所需要显示的内容</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"myForm"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">label</span>&gt;</span>手机号码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"myTel"</span> <span class="attr">ng-model</span>=<span class="string">"regForm.tel.val"</span> <span class="attr">required</span> <span class="attr">ng-maxlength</span>=<span class="string">"11"</span> <span class="attr">ng-pattern</span>=<span class="string">"/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]&#123;8&#125;$/"</span> <span class="attr">ng-blur</span>=<span class="string">"change('tel',myForm.myTel.$error)"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"tips in regForm.tel.tips | filter : regForm.tel.validTips"</span> <span class="attr">ng-bind</span>=<span class="string">"tips.tipsTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">label</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"myPw"</span> <span class="attr">ng-model</span>=<span class="string">"regForm.pw.val"</span> <span class="attr">required</span> <span class="attr">ng-minlength</span>=<span class="string">"6"</span> <span class="attr">ng-blur</span>=<span class="string">"change('pw',myForm.myPw.$error)"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"tips in regForm.pw.tips | filter : regForm.pw.validTips"</span> <span class="attr">ng-bind</span>=<span class="string">"tips.tipsTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">label</span>&gt;</span>确认密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"myPwAgain"</span> <span class="attr">ng-model</span>=<span class="string">"regForm.myPwAgain.val"</span> <span class="attr">required</span> <span class="attr">ng-blur</span>=<span class="string">"change('myPwAgain',myForm.myPwAgain.$error)"</span> &gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"tips in regForm.myPwAgain.tips | filter : regForm.myPwAgain.validTips"</span> <span class="attr">ng-bind</span>=<span class="string">"tips.tipsTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">	$scope.regForm = &#123;</div><div class="line">		<span class="attr">tel</span> : &#123;</div><div class="line">			<span class="string">'val'</span> : <span class="string">''</span>,</div><div class="line">			<span class="string">'validTips'</span> : <span class="string">'default'</span>,</div><div class="line">			<span class="string">'tips'</span> : [</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'default'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入验证码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>: <span class="string">'required'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入验证码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pattern'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入正确的手机号码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'maxlength'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入11位的手机号码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pass'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'√'</span>&#125;,</div><div class="line">			]</div><div class="line">		&#125;,</div><div class="line">		<span class="attr">pw</span> : &#123;</div><div class="line">			<span class="string">'val'</span> : <span class="string">''</span>,</div><div class="line">			<span class="string">'validTips'</span> : <span class="string">'default'</span>,</div><div class="line">			<span class="string">'tips'</span> : [</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'default'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入密码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>: <span class="string">'required'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'密码不能为空'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'minlength'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'密码长度不小于6位'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pass'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'√'</span>&#125;,</div><div class="line">			]</div><div class="line">		&#125;,</div><div class="line">		<span class="attr">myPwAgain</span> : &#123;</div><div class="line">			<span class="string">'val'</span> : <span class="string">''</span>,</div><div class="line">			<span class="string">'validTips'</span> : <span class="string">'default'</span>,</div><div class="line">			<span class="string">'tips'</span> : [</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'default'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请再次输入密码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'required'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请再次输入密码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pattern'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'密码不一致'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pass'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'√'</span>&#125;,</div><div class="line">			]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	$scope.change = <span class="function"><span class="keyword">function</span>(<span class="params">ele,err</span>)</span>&#123;</div><div class="line">		<span class="comment">// alert($scope.regForm.myPwAgain.val);</span></div><div class="line">		<span class="keyword">if</span>(ele == <span class="string">'myPwAgain'</span> ||  ele == <span class="string">'pw'</span>)&#123;</div><div class="line">			<span class="keyword">if</span>($scope.regForm.pw.val == $scope.regForm.myPwAgain.val )&#123;</div><div class="line">				err.pattern = <span class="literal">false</span>;</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				err.pattern = <span class="literal">true</span>;</div><div class="line">				$scope.regForm.myPwAgain.validTips = <span class="string">'pattern'</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">console</span>.log(err);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> err)&#123;</div><div class="line">			<span class="keyword">if</span>(err[attr] == <span class="literal">true</span>)&#123;</div><div class="line">				$scope.regForm[ele].validTips = attr;</div><div class="line">				<span class="keyword">return</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		$scope.regForm[ele].validTips = <span class="string">'pass'</span>;</div><div class="line">	&#125; </div><div class="line">	</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h4><p>注意指令在声明时使用的是驼峰式写法，而在html中应用要写成连字符的形式<br>例如指令名称为<code>myTab</code>，那么在html中应用则写成<code>my-tab</code></p>
<h4 id="angularjs指令编译的三个阶段"><a href="#angularjs指令编译的三个阶段" class="headerlink" title="angularjs指令编译的三个阶段"></a>angularjs指令编译的三个阶段</h4><ol>
<li>标签浏览器的API转换,将html转换成DOM</li>
<li>Angular compile ,搜索匹配的directive,按照priority(优先级)排序，并执行directive上的<code>compile</code>方法</li>
<li>执行directive上的<code>link</code>方法，进行scope绑定及事件绑定</li>
</ol>
<h5 id="restrict-指定指令的类型"><a href="#restrict-指定指令的类型" class="headerlink" title="restrict 指定指令的类型"></a>restrict 指定指令的类型</h5><p>区分大小写，而且是可以一直用的</p>
<ol>
<li><code>E</code> element 标签指令 <hello></hello>，主要实现模板替代</li>
<li><code>A</code> attribute 属性指令 <div hello=""></div>,主要用来实现功能性</li>
<li><code>C</code> class 样式指令 <div class="hello"></div></li>
<li><code>M</code> 注释形式 ,要配合replace:true来使用 <!-- directive:hello --></li>
</ol>
<h5 id="template-模板代码"><a href="#template-模板代码" class="headerlink" title="template 模板代码"></a><code>template</code> 模板代码</h5><h5 id="transclude-保留内容不被覆盖"><a href="#transclude-保留内容不被覆盖" class="headerlink" title="transclude 保留内容不被覆盖"></a><code>transclude</code> 保留内容不被覆盖</h5><p>加上后，会把指令内部原有的数据保留到transclude的标签内</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  transclude : <span class="literal">true</span>,</div><div class="line">  <span class="attr">template</span> : <span class="string">'&lt;div&gt;&lt;h1 ng-transclude&gt;&lt;/h1&gt;&lt;/div&gt;'</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h5 id="replace-以替换的形式来替代html"><a href="#replace-以替换的形式来替代html" class="headerlink" title="replace 以替换的形式来替代html"></a><code>replace</code> 以替换的形式来替代html</h5><p>假如未声明，它都会它template的内容放到指令的内部，而如果是<code>replace=true</code>，就会以替换的形式来解释代码</p>
<h5 id="templateUrl-使用路径引入html"><a href="#templateUrl-使用路径引入html" class="headerlink" title="templateUrl 使用路径引入html"></a><code>templateUrl</code> 使用路径引入html</h5><h5 id="scope"><a href="#scope" class="headerlink" title="scope"></a><code>scope</code></h5><ol>
<li><code>scope:false</code>,默认值,这样会与父级共享作用域</li>
<li><p><code>scope:true</code>，独立的作用域,每个指令互不影响，</p>
</li>
<li><p>隔离作用域{}，不再与外层的作用域有关系，它是独立的一个作用域，scope:{}<br>绑定策略</p>
</li>
</ol>
<ul>
<li><code>@</code> 单向绑定父级作用域名下的简单类型（String,Number,Boolean）数据</li>
<li><code>=</code> 相向绑定，任意一方的修改都会影响对方</li>
<li><code>&amp;</code> 绑定父级的函数,以把父级作用域的属性封装成一个函数，从而以函数的形式来读取父级的属性</li>
</ul>
<h5 id="controller-创建内部数据绑定"><a href="#controller-创建内部数据绑定" class="headerlink" title="controller 创建内部数据绑定"></a><code>controller</code> 创建内部数据绑定</h5><h5 id="controllerAs-为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用"><a href="#controllerAs-为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用" class="headerlink" title="controllerAs 为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用"></a><code>controllerAs</code> 为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用</h5><h5 id="require-引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享"><a href="#require-引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享" class="headerlink" title="require 引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享"></a><code>require</code> 引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享</h5><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"> require :'hello'; // =&gt; 在这个元素身上的这个指令的对象</div><div class="line"> require :'^hello'; // =&gt; 加上`^`后，会这个元素父级身上的这个指令的对象</div><div class="line"> require :'？hello'; // =&gt; 加上`？`后，如果找不到这个指令也不会报错，是一个容错机制</div><div class="line"> ```` </div><div class="line">##### `link` 进行DOM操作</div><div class="line">- `scope` 内部scope的值</div><div class="line">- `element` 每个最外层的DIV</div><div class="line">- `attr` 当前元素的所有属性</div><div class="line">- `reController`</div><div class="line">利用`require`所引用的指令,将该指令下的controller的方法和属性进行共用。由于scope仅内部使用，因为要使用this来进行数据共享</div><div class="line"></div><div class="line">````html</div><div class="line">&lt;div t1 t2&gt;&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">	var myApp = angular.module('myApp',[]);</div><div class="line">	myApp.controller('t1', ['$scope', function ($scope) &#123;</div><div class="line">		$scope.con = "指令下的con"</div><div class="line">		$scope.show = function(str)&#123;</div><div class="line">			alert(str);</div><div class="line">		&#125;</div><div class="line">	&#125;])</div><div class="line">	.directive('t1', [function () &#123;</div><div class="line">		return &#123;·</div><div class="line">			restrict: 'A',</div><div class="line">			controller : function($scope)&#123;</div><div class="line">				this.name = 'a';</div><div class="line">				this.say = function()&#123;</div><div class="line">					console.log(this.name);</div><div class="line">				&#125;</div><div class="line">			&#125;,</div><div class="line">			link: function (scope, iElement, iAttrs) &#123;</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;])</div><div class="line">	.directive('t2', [function () &#123;</div><div class="line">		return &#123;</div><div class="line">			restrict: 'A',</div><div class="line">			require : 't1',</div><div class="line">			link: function (scope, iElement, iAttrs,reController) &#123;</div><div class="line">				reController.say()</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;])</div><div class="line">	.directive('tab', [function () &#123;</div><div class="line">		return &#123;</div><div class="line">			restrict: 'E',</div><div class="line">			scope : &#123;</div><div class="line">				myId : '@',</div><div class="line">				myFn : '&amp;',</div><div class="line">				myCon : '='</div><div class="line">			&#125;,</div><div class="line">			// replace : true,</div><div class="line">			templateUrl : 'tab2.html',</div><div class="line">			link: function (scope, iElement, iAttrs) &#123;</div><div class="line">				console.log(scope);</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;])</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hello"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- directive:hello --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.directive(<span class="string">'hello'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		restrict: <span class="string">'AECM'</span>,</div><div class="line">		template:<span class="string">'&lt;div&gt;hello angular&lt;/div&gt;'</span>,</div><div class="line">		replace : <span class="literal">true</span>,	</div><div class="line">		link: <span class="function"><span class="keyword">function</span> <span class="params">(scope, iElement, iAttrs)</span> </span>&#123;</div><div class="line">			</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h6 id="选项卡指令"><a href="#选项卡指令" class="headerlink" title="选项卡指令"></a>选项卡指令</h6><ol>
<li>主页</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"t1"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">tab</span>  <span class="attr">my-fn</span>=<span class="string">"show(str)"</span>  <span class="attr">my-id</span>=<span class="string">"tab1"</span> <span class="attr">my-con</span>=<span class="string">"con"</span>&gt;</span><span class="tag">&lt;/<span class="name">tab</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">tab</span>  <span class="attr">my-fn</span>=<span class="string">"show(str)"</span> <span class="attr">my-id</span>=<span class="string">"tab2"</span> <span class="attr">my-con</span>=<span class="string">"con"</span>&gt;</span><span class="tag">&lt;/<span class="name">tab</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">		<span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">		myApp.controller(<span class="string">'t1'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">			$scope.con = <span class="string">"指令下的con"</span></div><div class="line">			$scope.show = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">				alert(str);</div><div class="line">			&#125;</div><div class="line">		&#125;])</div><div class="line">		.directive(<span class="string">'tab'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="keyword">return</span> &#123;</div><div class="line">				<span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">				<span class="attr">scope</span> : &#123;</div><div class="line">					<span class="attr">myId</span> : <span class="string">'@'</span>,</div><div class="line">					<span class="attr">myFn</span> : <span class="string">'&amp;'</span>,</div><div class="line">					<span class="attr">myCon</span> : <span class="string">'='</span></div><div class="line">				&#125;,</div><div class="line">				<span class="comment">// replace : true,</span></div><div class="line">				templateUrl : <span class="string">'tab2.html'</span>,</div><div class="line">				<span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs</span>) </span>&#123;</div><div class="line">					<span class="built_in">console</span>.log(scope);</div><div class="line">				&#125;</div><div class="line">			&#125;;</div><div class="line">		&#125;])</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li>templateUrl页<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">ul</span>&#123;</div><div class="line">	<span class="attribute">list-style</span>:none;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-h-b</span>&#123;</div><div class="line">	<span class="attribute">float</span>: left;</div><div class="line">	<span class="attribute">width</span>: <span class="number">150px</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">32px</span>;</div><div class="line">	<span class="attribute">line-height</span>: <span class="number">32px</span>;</div><div class="line">	<span class="attribute">text-align</span>: center;</div><div class="line">	<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">	<span class="attribute">margin-right</span>: -<span class="number">1px</span>;</div><div class="line">	<span class="attribute">cursor</span>: pointer;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-h</span> <span class="selector-class">.active</span>&#123;</div><div class="line">	<span class="attribute">background</span>: <span class="number">#333</span>;</div><div class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-b</span>&#123;</div><div class="line">	<span class="attribute">clear</span>: both;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-b</span> <span class="selector-class">.active</span>&#123;</div><div class="line">	<span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-b-b</span>&#123;</div><div class="line">	<span class="attribute">width</span>: <span class="number">450px</span>;</div><div class="line">	<span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">500px</span>;</div><div class="line">	<span class="attribute">text-align</span>: center;</div><div class="line">	<span class="attribute">font-size</span>: <span class="number">60px</span>;</div><div class="line">	<span class="attribute">line-height</span>: <span class="number">500px</span>;</div><div class="line">	<span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab"</span> <span class="attr">id</span>=<span class="string">"&#123;&#123;myId&#125;&#125;"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab-h"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-h-b active"</span> <span class="attr">ng-click</span>=<span class="string">"myFn(&#123;str:123&#125;)"</span> &gt;</span>t1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-h-b"</span>&gt;</span>t2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-h-b"</span>&gt;</span>t3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab-b"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-b-b active"</span>&gt;</span>&#123;&#123;myCon&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-b-b"</span>&gt;</span>b2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-b-b"</span>&gt;</span>b3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><h5 id="tab"><a href="#tab" class="headerlink" title="tab"></a>tab</h5><h5 id="dragg-拖拽"><a href="#dragg-拖拽" class="headerlink" title="dragg 拖拽"></a>dragg 拖拽</h5><h6 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h6><ol>
<li><code>mousedown</code> 时</li>
</ol>
<ul>
<li><code>ev.pageX</code>,<code>ev.pageY</code>记录鼠标相对于document边缘的位置</li>
<li><code>ele.offset().left</code> ，<code>ele.offset().top</code> 记录当前元素距离document左侧和顶部的距离</li>
</ul>
<h6 id="mobile"><a href="#mobile" class="headerlink" title="mobile"></a>mobile</h6><ol>
<li>针对单指操作的 <code>ontouchstart</code> <code>ontouchmove</code> <code>ontouchend</code></li>
<li>手指操作的集合 <code>ev.changedTouches</code>,它是一个类数组的对象，有几个手指在操作,length就有几个</li>
<li><code>ev.pageX</code> 记录手指距离整个页面的顶部位置</li>
<li><code>offsetLeft</code> 读取元素距离页面左边的距离</li>
<li>通过判断元素的<code>offsetLeft</code>加上当前元素的一半宽度<code>ele.offsetWidth/2</code>来确定元素靠左还是右</li>
</ol>
<figure class="highlight xml"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery-1.11.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-id">#box</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">background</span>: red;</div><div class="line">    <span class="attribute">position</span>: fixed;</div><div class="line">    <span class="attribute">left </span>:<span class="number">0</span>;</div><div class="line">    <span class="attribute">top</span>:<span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">800px</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">my-drag</span> <span class="attr">sticky</span>=<span class="string">'true'</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;])</div><div class="line">.directive(<span class="string">'myDrag'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">restrict</span>: <span class="string">'A'</span>,</div><div class="line">    <span class="attr">scope</span> : &#123;</div><div class="line">      <span class="attr">sticky</span> : <span class="string">'@'</span>, <span class="comment">//是否自动贴近边缘</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs,ctrl</span>) </span>&#123;</div><div class="line">      <span class="comment">//获取屏幕宽度</span></div><div class="line">      <span class="keyword">var</span> winWidth = <span class="built_in">document</span>.documentElement.offsetWidth;</div><div class="line"></div><div class="line">      <span class="comment">//用于保存初始的距离值</span></div><div class="line">      <span class="keyword">var</span> dirX = <span class="number">0</span>; </div><div class="line">      <span class="keyword">var</span> dirY = <span class="number">0</span>;</div><div class="line"></div><div class="line">      <span class="comment">//按下时触发事件</span></div><div class="line">      iElement[<span class="number">0</span>].ontouchstart = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ev = ev.changedTouches[<span class="number">0</span>];</div><div class="line">        dirX = ev.pageX - <span class="keyword">this</span>.offsetLeft;</div><div class="line">        dirY = ev.pageY - <span class="keyword">this</span>.offsetTop;</div><div class="line">        <span class="keyword">this</span>.style.transition = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="comment">//阻止系统默认行为</span></div><div class="line">        <span class="built_in">document</span>.ontouchmove = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">          ev.preventDefault();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//移动时改变位置</span></div><div class="line">        iElement[<span class="number">0</span>].ontouchmove = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">          <span class="keyword">var</span> ev = ev.changedTouches[<span class="number">0</span>];</div><div class="line">          <span class="keyword">this</span>.style.left = ev.pageX - dirX + <span class="string">'px'</span>;</div><div class="line">          <span class="keyword">this</span>.style.top = ev.pageY - dirY + <span class="string">'px'</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//手指抬起时解决事件</span></div><div class="line">        iElement[<span class="number">0</span>].ontouchend = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="keyword">if</span>(scope.sticky == <span class="string">'true'</span>)&#123;</div><div class="line">            <span class="keyword">this</span>.style.transition = <span class="string">'0.5s'</span>;</div><div class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.offsetLeft &lt;= (winWidth/<span class="number">2</span>-<span class="keyword">this</span>.offsetWidth/<span class="number">2</span>) )&#123;</div><div class="line">                 <span class="keyword">this</span>.style.left = <span class="number">0</span>;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">this</span>.style.left = winWidth - <span class="keyword">this</span>.offsetWidth + <span class="string">'px'</span>;</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          <span class="comment">//解决事件绑定</span></div><div class="line">          iElement[<span class="number">0</span>].ontouchmove = <span class="literal">null</span>;</div><div class="line">          iElement[<span class="number">0</span>].ontouchend = <span class="literal">null</span>;</div><div class="line">          <span class="built_in">document</span>.ontouchmove = <span class="literal">null</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;])</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="servier服务"><a href="#servier服务" class="headerlink" title="servier服务"></a><code>servier</code>服务</h3><p>定义好的方法</p>
<h4 id="http"><a href="#http" class="headerlink" title="$http"></a><code>$http</code></h4><h4 id="location"><a href="#location" class="headerlink" title="$location"></a><code>$location</code></h4><p>对原生的location的网址信息进行了二次封装</p>
<h5 id="absUrl-网址信息的绝对地址"><a href="#absUrl-网址信息的绝对地址" class="headerlink" title="absUrl() 网址信息的绝对地址"></a>absUrl() 网址信息的绝对地址</h5><h5 id="path-跟路由挂钩的路径信息，可以实现前进后退"><a href="#path-跟路由挂钩的路径信息，可以实现前进后退" class="headerlink" title="path() 跟路由挂钩的路径信息，可以实现前进后退"></a>path() 跟路由挂钩的路径信息，可以实现前进后退</h5><h5 id="replace-以替换路径的方式实现页面跳转，使路由的前进后退失效"><a href="#replace-以替换路径的方式实现页面跳转，使路由的前进后退失效" class="headerlink" title="replace() 以替换路径的方式实现页面跳转，使路由的前进后退失效"></a>replace() 以替换路径的方式实现页面跳转，使路由的前进后退失效</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">	$localtion.path(<span class="string">'/aa/bb'</span>).replace();</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="hash-设置hash值"><a href="#hash-设置hash值" class="headerlink" title="hash() 设置hash值"></a>hash() 设置hash值</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$location.hash(<span class="string">'hello'</span>);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="search-设置搜索内容"><a href="#search-设置搜索内容" class="headerlink" title="search() 设置搜索内容"></a>search() 设置搜索内容</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$location.search(&#123;<span class="string">'age'</span> : <span class="string">'20'</span>&#125;);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="url-获取页面路径"><a href="#url-获取页面路径" class="headerlink" title="url() 获取页面路径"></a>url() 获取页面路径</h5><h5 id="host-获取主机名"><a href="#host-获取主机名" class="headerlink" title="host() 获取主机名"></a>host() 获取主机名</h5><h5 id="post-获取端口号"><a href="#post-获取端口号" class="headerlink" title="post() 获取端口号"></a>post() 获取端口号</h5><h5 id="protocol-获取协议"><a href="#protocol-获取协议" class="headerlink" title="protocol() 获取协议"></a>protocol() 获取协议</h5><h4 id="anchorScroll-锚点跳转功能"><a href="#anchorScroll-锚点跳转功能" class="headerlink" title="$anchorScroll 锚点跳转功能"></a><code>$anchorScroll</code> 锚点跳转功能</h4><ol>
<li>为每个主要内容添加id标识(ng-attr-id)</li>
<li>生成对应的点击元素，并一一对应到主要内容</li>
<li>注入<code>$anchorScroll</code>服务 </li>
<li>当导航元素被点击时，利用<code>$location.hash()</code>实现跳转</li>
<li>同时为了避免当页面跳转特定的位置（#c），然后滚屏，再点击相同的导航失效时，可以每次点击都默认带上<code>$anchorScroll()</code>;</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">li</span>&#123;</div><div class="line">		<span class="attribute">list-style</span>: none;</div><div class="line">		<span class="attribute">text-align</span>: center;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-class">.parent</span> <span class="selector-tag">li</span>&#123;</div><div class="line">		<span class="attribute">height</span>: <span class="number">300px</span>;</div><div class="line">		<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">		<span class="attribute">margin-top</span>: <span class="number">30px</span>;</div><div class="line">		<span class="attribute">font-size</span>: <span class="number">90px</span>;</div><div class="line">		<span class="attribute">line-height</span>: <span class="number">300px</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-class">.nav</span>&#123;</div><div class="line">		<span class="attribute">position</span>: fixed;</div><div class="line">		<span class="attribute">right</span>:<span class="number">10px</span>;</div><div class="line">		<span class="attribute">top</span>:<span class="number">10px</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"id in [1,2,3,4,5]"</span> <span class="attr">ng-attr-id</span>=<span class="string">"div&#123;&#123;id&#125;&#125;"</span>&gt;</span>id&#123;&#123;id&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"id in [1,2,3,4,5]"</span> <span class="attr">ng-click</span>=<span class="string">"scrollTo('div'+id)"</span>&gt;</span>&#123;&#123;id&#125;&#125;link<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$location'</span>,<span class="string">'$anchorScroll'</span>,<span class="function"><span class="keyword">function</span><span class="params">($scope,$location,$anchorScroll)</span></span>&#123;</div><div class="line">	$scope.scrollTo = <span class="function"><span class="keyword">function</span><span class="params">(url)</span></span>&#123;</div><div class="line">		$location.hash(url);</div><div class="line">		$anchorScroll();</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="cacheFactory-缓存操作方式"><a href="#cacheFactory-缓存操作方式" class="headerlink" title="$cacheFactory 缓存操作方式"></a><code>$cacheFactory</code> 缓存操作方式</h4><p>要注意的是这个应用程序缓存，而不是浏览器本地的缓存，当页面刷新或者初始化时数据会丢失</p>
<h5 id="info-打印缓存信息"><a href="#info-打印缓存信息" class="headerlink" title="info() 打印缓存信息"></a><code>info()</code> 打印缓存信息</h5><h5 id="put-设置信息"><a href="#put-设置信息" class="headerlink" title="put() 设置信息"></a><code>put()</code> 设置信息</h5><h5 id="get-获取信息"><a href="#get-获取信息" class="headerlink" title="get() 获取信息"></a><code>get()</code> 获取信息</h5><h5 id="remove-删除信息"><a href="#remove-删除信息" class="headerlink" title="remove() 删除信息"></a><code>remove()</code> 删除信息</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$cacheFactory'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,$cacheFactory</span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> cache = $cacheFactory(<span class="string">'myCache'</span>);</div><div class="line">	<span class="comment">// 使用put方法设置</span></div><div class="line">	cache.put(<span class="string">'name'</span>,<span class="string">'weison'</span>);</div><div class="line">	cache.put(<span class="string">'job'</span>,<span class="string">'dev'</span>);</div><div class="line">	<span class="built_in">console</span>.log(cache.info());</div><div class="line"></div><div class="line">	<span class="comment">// 使用get方法设置</span></div><div class="line">	<span class="built_in">console</span>.log(cache.get(<span class="string">'name'</span>));</div><div class="line"></div><div class="line">	<span class="comment">//利用remove删除属性</span></div><div class="line">	cache.remove(<span class="string">'name'</span>);</div><div class="line"></div><div class="line">	<span class="comment">// 使用get方法设置</span></div><div class="line">	<span class="built_in">console</span>.log(cache.get(<span class="string">'name'</span>));</div><div class="line">&#125;]);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h4 id="interpolate-插值服务"><a href="#interpolate-插值服务" class="headerlink" title="$interpolate 插值服务"></a><code>$interpolate</code> 插值服务</h4><h4 id="q-对异步操作进行了扩展"><a href="#q-对异步操作进行了扩展" class="headerlink" title="$q 对异步操作进行了扩展"></a><code>$q</code> 对异步操作进行了扩展</h4><p>是一种promise的实现方式，类似于jquery的def延迟对象</p>
<ul>
<li>defer() 定义一个延迟对象</li>
<li>resolve() 成功时触发</li>
<li>reject() 失败时触发</li>
<li>notify() 实时的通知处理</li>
<li>then() 监听成功失败的回调处理</li>
</ul>
<ol>
<li>先定义一个延时对象<code>var dfd = $q.defer();</code></li>
<li>然后当执行函数时假如成功就定义成<code>dfd.reject()</code>，失败就<code>dfd.resolve()</code></li>
<li>函数执行完返回一个promise对象<code>return dfd.promise</code></li>
<li>利用<code>then</code>方法进行处理<br>执行函数名.then(function(){成功时的处理},function(){失败时的处理});</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$q'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$q)</span> </span>&#123;</div><div class="line">	<span class="comment">//定义一下延时对象</span></div><div class="line">	<span class="keyword">var</span> dfd = $q.defer();</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span>&#123;</div><div class="line">		setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			dfd.reject(); <span class="comment">//代表执行成功</span></div><div class="line">		&#125;,<span class="number">1000</span>);</div><div class="line">		<span class="keyword">return</span> dfd.promise;</div><div class="line">	&#125;</div><div class="line">	test().then(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="comment">//当def时resolve时触发</span></div><div class="line">		alert(<span class="string">'成功'</span>);</div><div class="line">	&#125;,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="comment">//当def时reject时触发</span></div><div class="line">		alert(<span class="string">'失败'</span>);</div><div class="line">	&#125;);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="provider供应商"><a href="#provider供应商" class="headerlink" title="provider供应商"></a><code>provider</code>供应商</h4><ol>
<li>服务本来就是任意对象</li>
<li>angular是通过<code>$provider</code>来实现依赖注入的，注入机制是通过调用一个<code>provider</code>的<code>get()</code>方法，把得到的对象作为相关参数进行调用</li>
</ol>
<p>服务的相关初始配置操作<br>要写到模块下的<code>config</code>当中<br>基本上大部分的服务都有供应商,在服务后加上<code>Provider</code>即可变成供应商</p>
<ul>
<li>startSymbol()表达式开始标记</li>
<li>endSymbol()表达式结束标记<br>其它供应商查看官方API</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">@@name@@</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.config([<span class="string">'$interpolateProvider'</span>,<span class="function"><span class="keyword">function</span><span class="params">($interpolateProvider)</span> </span>&#123;</div><div class="line">	$interpolateProvider.startSymbol(<span class="string">"@@"</span>);</div><div class="line">	$interpolateProvider.endSymbol(<span class="string">"@@"</span>);</div><div class="line">&#125;]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</div><div class="line">	$scope.name = <span class="string">"testConfig"</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="自定义服务"><a href="#自定义服务" class="headerlink" title="自定义服务"></a>自定义服务</h4><h5 id="factory"><a href="#factory" class="headerlink" title="factory()"></a><code>factory()</code></h5><p>它返回的数据类型可以是任意的<br>参数：</p>
<pre><code>1. 服务名字
    - 不要使用`$`开头，因为`$`开头一般用于内部服务
    - 先写内部服务，再写自定义的服务
1. 回调，可以是一个函数，如果需要引入其它服务，最好是写成一个数组的形式
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">模块名.factory(<span class="string">'服务名称'</span>,[<span class="string">'依赖的服务1'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">依赖的服务<span class="number">1</span></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		返回的内容</div><div class="line">	&#125;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.factory(<span class="string">'myRamdonNumber'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">n1,n2</span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">Math</span>.random()*(n2-n1)+n1;</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line">myApp.factory(<span class="string">'mySever'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">name</span> : <span class="string">'hello'</span>,</div><div class="line">		<span class="attr">show</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">			alert(<span class="keyword">this</span>.name + <span class="string">' angular'</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;])</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'myRamdonNumber'</span>,<span class="string">'mySever'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,myRamdonNumber,mySever</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(myRamdonNumber(<span class="number">3</span>,<span class="number">9</span>));</div><div class="line">	mySever.show()</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="provider-service-自定义服务"><a href="#provider-service-自定义服务" class="headerlink" title="$provider.service 自定义服务"></a><code>$provider.service</code> 自定义服务</h5><p>返回的必须是引用类型的对象<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[],<span class="function"><span class="keyword">function</span>(<span class="params">$provide</span>)</span>&#123;</div><div class="line">	<span class="comment">//作为模块初始化后的函数调用</span></div><div class="line">	$provide.service(<span class="string">'job'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			<span class="attr">job</span> : <span class="string">'fontEnd developer'</span></div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line">&#125;);</div><div class="line">myApp.factory(<span class="string">'testFactory'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="comment">//自定义工厂 可以是任意内容</span></div><div class="line">	<span class="keyword">return</span> <span class="string">'testFactory'</span>;</div><div class="line">&#125;])</div><div class="line">myApp.service(<span class="string">'testService'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="comment">//自定义服务  返回的必须是引用类型的，不能为基本类型的</span></div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">sex</span> : <span class="string">'male'</span></div><div class="line">	&#125;</div><div class="line">&#125;])</div><div class="line">myApp.provider(<span class="string">'Myservice'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">this</span>.$get = [<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">				<span class="attr">name</span> :<span class="string">'weison'</span></div><div class="line">		&#125;;</div><div class="line">	&#125;];</div><div class="line">&#125;])</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'testFactory'</span>,<span class="string">'job'</span>,<span class="string">'testService'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,testFactory,job,testService</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'testFactory'</span>,testFactory);</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'job'</span>,job);</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'testService'</span>,testService);</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="provider"><a href="#provider" class="headerlink" title="provider()"></a><code>provider()</code></h5><ul>
<li><code>factory</code>不支持利用cofig进行服务配置，而<code>provider</code>支持</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.provider(<span class="string">'showHi'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		name : <span class="string">'wesion'</span>,</div><div class="line">		$<span class="keyword">get</span> : <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			name : <span class="keyword">this</span>.name,</div><div class="line">			sayhi : <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">				alert(<span class="keyword">this</span>.name + <span class="string">' say hi'</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="comment">//利用config来重新配置服务</span></div><div class="line">m1.config([<span class="string">'showHiProvider'</span>,<span class="function"><span class="keyword">function</span><span class="params">(showHiProvider)</span></span>&#123;</div><div class="line">	showHiProvider.name = <span class="string">'newPerson'</span>;</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'showHi'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,showHi)</span> </span>&#123;</div><div class="line">	showHi.sayhi();</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="多个控制器之间数据共享"><a href="#多个控制器之间数据共享" class="headerlink" title="多个控制器之间数据共享"></a>多个控制器之间数据共享</h5><p>通过供应商的service服务，将内容注入到控制器当中<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span> <span class="attr">title</span>=<span class="string">"控制器 c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>控制器 c1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"data.name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c2"</span> <span class="attr">title</span>=<span class="string">"控制器 c2"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>控制器 c2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"data.name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line"><span class="comment">// 通过service来创建公共的数据，要注意返回的内容要是对象</span></div><div class="line">m1.service(<span class="string">'myData'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			name : <span class="string">'weison'</span></div><div class="line">		&#125;</div><div class="line">&#125;])</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'myData'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope,myData)</span> </span>&#123;</div><div class="line">	 <span class="comment">//注入服务后进行数据绑定</span></div><div class="line">		$scope.data = myData;</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c2'</span>, [<span class="string">'$scope'</span>,<span class="string">'myData'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope,myData)</span> </span>&#123;</div><div class="line">	 <span class="comment">//注入服务后进行数据绑定</span></div><div class="line">		$scope.data = myData;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h6 id="模块之间的通信"><a href="#模块之间的通信" class="headerlink" title="模块之间的通信"></a>模块之间的通信</h6><p>把模块名称写在模块声明后的依赖模块名字即可。跟引入插件的方式一样<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="comment">//把module2模块引入的myApp中实现模块之间的通信，这样myApp就可以调用m2下的服务</span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[<span class="string">'module2'</span>]);</div><div class="line"><span class="keyword">var</span> m2 = angular.module(<span class="string">'module2'</span>,[]);</div><div class="line">m2.provider(<span class="string">'mySever'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		$<span class="keyword">get</span> : <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			<span class="keyword">return</span> &#123;</div><div class="line">				name : <span class="string">'hello'</span>,</div><div class="line">				show : <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">					<span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">' angular'</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;])</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'mySever'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,mySever)</span> </span>&#123;</div><div class="line">	console.log(mySever.show());</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<ul>
<li>服务是共享的，但是在不同模块之间进行通信可以利用config来对<code>provider</code>声明的服务进行配置</li>
</ul>
<h5 id="service-针对面向对象的一种方式，支持构造函数"><a href="#service-针对面向对象的一种方式，支持构造函数" class="headerlink" title="service()  针对面向对象的一种方式，支持构造函数"></a><code>service()</code>  针对面向对象的一种方式，支持构造函数</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.service(<span class="string">'mySever2'</span>,serviceFn);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">serviceFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">this</span>.name = <span class="string">'service'</span>;</div><div class="line">&#125;</div><div class="line">serviceFn.prototype.show = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'mySever2'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,mySever2</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(mySever2.name);</div><div class="line">	mySever2.show();</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="constant-value-设置常量"><a href="#constant-value-设置常量" class="headerlink" title="constant() value()设置常量"></a><code>constant()</code> <code>value()</code>设置常量</h5><p>区别在于<code>constant()</code>可以利用config进行配置获取,而<code>config()</code>不可以</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.constant(<span class="string">'myName'</span>, <span class="string">'weison'</span>);</div><div class="line">m1.value(<span class="string">'myJob'</span>, [<span class="string">'fe'</span>,<span class="string">'designer'</span>]);</div><div class="line"><span class="comment">//注意constant来获取配置项是不用加provider</span></div><div class="line">m1.config([<span class="string">'myName'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">myName</span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(myName);</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'myName'</span>,<span class="string">'myJob'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,myName,myJob</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(myName); <span class="comment">// =&gt; weison</span></div><div class="line">	<span class="built_in">console</span>.log(myJob); <span class="comment">//  =&gt; ['fe','designer']</span></div><div class="line"></div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="事件内部传播"><a href="#事件内部传播" class="headerlink" title="事件内部传播"></a>事件内部传播</h3><p>事件默认的传播传播行为</p>
<h4 id="emit向上传播的机制，类似于冒泡的操作"><a href="#emit向上传播的机制，类似于冒泡的操作" class="headerlink" title="$emit向上传播的机制，类似于冒泡的操作"></a><code>$emit</code>向上传播的机制，类似于冒泡的操作</h4><h4 id="broadcast向下传播，类似于捕获的操作"><a href="#broadcast向下传播，类似于捕获的操作" class="headerlink" title="$broadcast向下传播，类似于捕获的操作"></a><code>$broadcast</code>向下传播，类似于捕获的操作</h4><p>传播是意思是只要用<code>$on</code>绑定过的相同命名的函数都会向上/向下触发<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> &gt;</span>&#123;&#123;account&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c2"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-click</span>=<span class="string">"$emit('myEvent')"</span>&gt;</span>&#123;&#123;account&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c2"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-click</span>=<span class="string">"account=account+1"</span>&gt;</span>&#123;&#123;account&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c2'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	$scope.title = <span class="string">"haha"</span>;</div><div class="line">	$scope.account = <span class="number">1</span>;</div><div class="line">	$scope.$on(<span class="string">'myEvent'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(event);</div><div class="line">		$scope.account ++;</div><div class="line">	&#125;);</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	$scope.title = <span class="string">"haha"</span>;</div><div class="line">	$scope.$on(<span class="string">'myEvent'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(event);</div><div class="line">		$scope.account = <span class="number">10</span>;</div><div class="line">	&#125;);</div><div class="line">	$scope.account = <span class="number">0</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="event事件对象"><a href="#event事件对象" class="headerlink" title="event事件对象"></a><code>event</code>事件对象</h4><ol>
<li><code>event.targetScope</code> 发出或者传播原始事件的作用域</li>
<li><code>event.currentScope</code> 目前正在处理的事件的作用域</li>
<li><code>event.name</code> 事件的名字</li>
<li><code>event.stopPropagation()</code> 阻止事件进一步传播 </li>
</ol>
<h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h4 id="ngRouter"><a href="#ngRouter" class="headerlink" title="ngRouter"></a><code>ngRouter</code></h4><h4 id="ngAnimate"><a href="#ngAnimate" class="headerlink" title="ngAnimate"></a><code>ngAnimate</code></h4><h4 id="ngResoure"><a href="#ngResoure" class="headerlink" title="ngResoure"></a><code>ngResoure</code></h4><h4 id="uiRouter"><a href="#uiRouter" class="headerlink" title="uiRouter"></a><code>uiRouter</code></h4><p>核心是通过url里面hash来替换<code>ui-view</code>里面的内容</p>
<h5 id="urlRouterProvider"><a href="#urlRouterProvider" class="headerlink" title="$urlRouterProvider"></a><code>$urlRouterProvider</code></h5><p>主要用于url的跳转、重定向或者在访问页面时给它一个默认的url</p>
<h5 id="stateProvider"><a href="#stateProvider" class="headerlink" title="$stateProvider"></a><code>$stateProvider</code></h5><p>用于定义路由规则</p>
<ol>
<li><p>方式1</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(<span class="string">'main'</span>,&#123;</div><div class="line"> <span class="attr">url</span> :<span class="string">'/main'</span>,</div><div class="line"> <span class="attr">template</span>:<span class="string">'&lt;div&gt;main&#123;&#123;title&#125;&#125;&lt;/div&gt;'</span>,</div><div class="line"> <span class="attr">controller</span> : <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123; $scope.title = <span class="string">'hello'</span>; &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>方式2</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(</div><div class="line"> &#123;</div><div class="line"> <span class="attr">name</span> : <span class="string">'main'</span>,</div><div class="line"> <span class="attr">url</span> :<span class="string">'/main'</span>,</div><div class="line"> <span class="attr">template</span>:<span class="string">'&lt;div&gt;main&#123;&#123;title&#125;&#125;&lt;/div&gt;'</span>,</div><div class="line"> <span class="attr">controller</span> : <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123; $scope.title = <span class="string">'hello'</span>; &#125;</div><div class="line">&#125;</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="激活路由的3种方式"><a href="#激活路由的3种方式" class="headerlink" title="激活路由的3种方式"></a>激活路由的3种方式</h5><ol>
<li><p><code>ui-sref=&#39;state的名称&#39;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a ui-sref=<span class="string">"main"</span> &gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></div></pre></td></tr></table></figure>
</li>
<li><p>通过url地址</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=<span class="string">"#/main"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></div></pre></td></tr></table></figure>
</li>
<li><p>通过<code>$state.go(state名称)</code></p>
</li>
</ol>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#### 定义父子级来定义路由</span></div><div class="line">当直接访问父级时不会有子级的内容，当访问子级时，它会插到父级`template`里的`<span class="variable">&lt;ui-view&gt;</span>&lt;/ui-view&gt;`中</div><div class="line"><span class="number">1</span>. 在`<span class="keyword">state</span>`中带上子级名称 </div><div class="line">````javascript</div><div class="line"> <span class="variable">&lt;script&gt;</span></div><div class="line">   <span class="variable">$stateProvider</span>.<span class="keyword">state</span>('main',&#123;</div><div class="line">       url : '/main',</div><div class="line">       template:'<span class="variable">&lt;div&gt;</span>&#123;&#123;title&#125;&#125;<span class="variable">&lt;ui-view&gt;</span>&lt;/ui-view&gt;&lt;/div&gt;',</div><div class="line">       controller : function()&#123;</div><div class="line">       //执行内容</div><div class="line">     &#125;</div><div class="line">   &#125;)</div><div class="line">   .<span class="keyword">state</span>('main.sub',&#123;</div><div class="line">    url : '/sub',</div><div class="line">    template : '<span class="variable">&lt;p&gt;</span>&#123;&#123;title&#125;&#125;&lt;/p&gt;',</div><div class="line">    controller : function()&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">   &#125;)</div><div class="line"> &lt;/script&gt;</div></pre></td></tr></table></figure>
<p>它的访问方式是<code>&lt;a ui-sref=&quot;main.sub&quot;&gt;&lt;/a&gt;</code></p>
<ol>
<li>在属性中添加<code>parent</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  $stateProvider.state(<span class="string">'main'</span>,&#123;</div><div class="line">      <span class="attr">url</span> : <span class="string">'/main'</span>,</div><div class="line">      <span class="attr">template</span>:<span class="string">'&lt;div&gt;&#123;&#123;title&#125;&#125;&lt;ui-view&gt;&lt;/ui-view&gt;&lt;/div&gt;'</span>,</div><div class="line">      <span class="attr">controller</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="comment">//执行内容</span></div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line">  .state(<span class="string">'sub2'</span>,&#123;</div><div class="line">   <span class="attr">url</span> : <span class="string">'/sub2'</span>,</div><div class="line">   <span class="attr">template</span> : <span class="string">'&lt;p&gt;&#123;&#123;title&#125;&#125;&lt;/p&gt;'</span>,</div><div class="line">   <span class="attr">parent</span> : <span class="string">'main'</span>，</div><div class="line">   controller : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">   &#125;</div><div class="line">  &#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>它的访问方式是<code>&lt;a ui-sref=&quot;sub2&quot;&gt;&lt;/a&gt;</code></p>
<h4 id="在url中添加参数"><a href="#在url中添加参数" class="headerlink" title="在url中添加参数"></a>在url中添加参数</h4><ol>
<li>在路由的<code>url</code>中添加<code>:参数1名称&amp;参数2名称</code></li>
<li>在页面上注入<code>$stateParams</code>来读取页面上的参数</li>
</ol>
<p>若应用在项目的<code>rpc</code>框架中写法为<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="comment">// config的路径配置</span></div><div class="line">  <span class="string">'articleDetail/:id&amp;:type'</span>:basePath+<span class="string">"/helpCenter/articleDetail/articleDetail.html"</span>,</div><div class="line">  <span class="comment">// 注入到读取页面中然后打印属性可看到 </span></div><div class="line">  <span class="built_in">console</span>.log($stateParams);</div><div class="line">  <span class="comment">// 超链接的写法</span></div><div class="line">  <span class="comment">// &lt;li ui-sref-active="active"&gt;&lt;a href="#/articleDetail/id=35&amp;type=2"  &gt;关于我们&lt;/a&gt;&lt;/li&gt;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  .state(<span class="string">'tab.shop-detail'</span>, &#123;</div><div class="line">      <span class="attr">url</span>: <span class="string">'/shops/:shop_id'</span>,</div><div class="line">      <span class="attr">views</span>: &#123;</div><div class="line">        <span class="string">'tab-shops'</span>: &#123;</div><div class="line">          <span class="attr">templateUrl</span>: <span class="string">'templates/shop-detail.html'</span>,</div><div class="line">          <span class="attr">controller</span>: <span class="string">'ShopDetailCtrl'</span></div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">  <span class="comment">//shop controller</span></div><div class="line">  $<span class="built_in">window</span>.location.href = <span class="string">'#/tab/shops/'</span>+shop_id;    </div><div class="line">  <span class="comment">//ShopDetailCtrl </span></div><div class="line">  controller(<span class="string">'ShopDetailCtrl'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,$stateParams</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> ($stateParams.shop_id) &#123;</div><div class="line">          </div><div class="line">      &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ol>
<li><a href="https://github.com/kittencup" target="_blank" rel="external">kittencup</a></li>
<li><a href="http://www.html-js.com/article/1863" target="_blank" rel="external">创建你自己的AngularJS</a></li>
<li><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">angular指令中使用ngModelController</a></li>
<li><a href="http://i.youku.com/i/UNTQzNzEzOTk2/videos" target="_blank" rel="external">angular-ui-router视频教程</a></li>
<li><a href="http://www.tuicool.com/articles/qIBNve" target="_blank" rel="external">AngularJS的学习–$on、$emit和$broadcast的使用 - 疯狂的原始人</a></li>
<li><a href="http://www.jianshu.com/p/1e1aaf0fd30a" target="_blank" rel="external">AngularJS中如何对Controller与Service进行分层设计与编码</a></li>
<li><a href="http://www.aliued.com/?p=3199" target="_blank" rel="external">angular路由</a></li>
<li><a href="https://ui-router.github.io/tutorial/ng1/helloworld" target="_blank" rel="external">官网ui-router教学</a></li>
<li><a href="http://angular-ui.github.io/bootstrap/versioned-docs/1.3.3/#/" target="_blank" rel="external">angular-ui</a></li>
<li><a href="http://sentsin.com/web/659.html" target="_blank" rel="external">AngularJS指令进阶 – ngModelController详解</a></li>
<li><a href="http://ngmodules.org/" target="_blank" rel="external">angluar各种相关插件网站</a></li>
<li><a href="http://www.jackpu.com/qu-diao-dan-ye-ying-yong-zhong-de-ke-e-de-hashbang/" target="_blank" rel="external">去掉单页应用 (SPA) 中的可恶的’#’号</a></li>
<li><a href="http://www.jackpu.com/shi-ge-jing-chang-yu-jian-de-angular-jsmian-shi-wen-ti/" target="_blank" rel="external">十个由浅入深的Angular.js面试问题</a></li>
<li><a href="https://segmentfault.com/q/1010000003839574" target="_blank" rel="external">angualr ui router 如何传递参数</a></li>
<li><a href="http://www.cnblogs.com/JustRun1983/p/3936371.html" target="_blank" rel="external">AngularJs中，如何在render完成之后，执行Js脚本</a></li>
<li><a href="http://www.cnblogs.com/wangmeijian/p/5141266.html" target="_blank" rel="external">利用angular指令监听ng-repeat渲染完成后执行脚本</a></li>
<li><a href="https://segmentfault.com/a/1190000006612247" target="_blank" rel="external">ngVerify - 更高效的 angular 表单验证</a></li>
</ol>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/05/10/function/" rel="next" title="function函数">
                <i class="fa fa-chevron-left"></i> function函数
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/06/19/nodejs/" rel="prev" title="nodejs">
                nodejs <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          

  <p>热评文章</p>
  <div class="ds-top-threads" data-range="weekly" data-num-items="4"></div>


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/06/01/angularjs1X-2/"
           data-title="angularjs1X-2" data-url="weison.org/2016/06/01/angularjs1X-2/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="weison" />
          <p class="site-author-name" itemprop="name">weison</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">64</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#特征"><span class="nav-number">1.</span> <span class="nav-text">特征</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MVVM双向绑定"><span class="nav-number">1.1.</span> <span class="nav-text">MVVM双向绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模块系统"><span class="nav-number">1.2.</span> <span class="nav-text">模块系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#依赖注入"><span class="nav-number">1.3.</span> <span class="nav-text">依赖注入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#表达式"><span class="nav-number">1.4.</span> <span class="nav-text">表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#作用域"><span class="nav-number">1.5.</span> <span class="nav-text">作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#简单购物车功能"><span class="nav-number">1.5.1.</span> <span class="nav-text">简单购物车功能</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#controller-控制器"><span class="nav-number">2.</span> <span class="nav-text">controller 控制器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块化与压缩"><span class="nav-number">3.</span> <span class="nav-text">模块化与压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#工具方法"><span class="nav-number">4.</span> <span class="nav-text">工具方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-bind-改变this的指向"><span class="nav-number">4.1.</span> <span class="nav-text">angular.bind()改变this的指向</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-copy-拷贝对象"><span class="nav-number">4.2.</span> <span class="nav-text">angular.copy()拷贝对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-extend-扩展对象，扩展的参考对象"><span class="nav-number">4.3.</span> <span class="nav-text">angular.extend(扩展对象，扩展的参考对象)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断数据类型"><span class="nav-number">4.4.</span> <span class="nav-text">判断数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-vesion-angular的版本"><span class="nav-number">4.5.</span> <span class="nav-text">angular.vesion angular的版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-equals-判断两个元素是否相等"><span class="nav-number">4.6.</span> <span class="nav-text">angular.equals()判断两个元素是否相等</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-forEach"><span class="nav-number">4.7.</span> <span class="nav-text">angular.forEach()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-fromString-toJson"><span class="nav-number">4.8.</span> <span class="nav-text">angular.fromString/toJson</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-identity-noop设置默认值，避免报错"><span class="nav-number">4.9.</span> <span class="nav-text">angular.identity/noop设置默认值，避免报错</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-bootstrap动态初始化angular"><span class="nav-number">4.10.</span> <span class="nav-text">angular.bootstrap动态初始化angular</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#scope-apply-监听回调函数内的数据变化"><span class="nav-number">4.11.</span> <span class="nav-text">$scope.$apply()监听回调函数内的数据变化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-module-定义模块"><span class="nav-number">4.12.</span> <span class="nav-text">angular.module()定义模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angular-run-可以不通过controller来绑定全局变量"><span class="nav-number">4.13.</span> <span class="nav-text">angular.run() 可以不通过controller来绑定全局变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#filter过滤器"><span class="nav-number">5.</span> <span class="nav-text">filter过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#语法"><span class="nav-number">5.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#currency-货币金额"><span class="nav-number">5.2.</span> <span class="nav-text">currency 货币金额</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#number-数字化格式"><span class="nav-number">5.3.</span> <span class="nav-text">number 数字化格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#date-格式化时间"><span class="nav-number">5.4.</span> <span class="nav-text">date 格式化时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#limitTo-截取几条数据"><span class="nav-number">5.5.</span> <span class="nav-text">limitTo 截取几条数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#uppercase-lowercase-字母转换成全大写或者小写"><span class="nav-number">5.6.</span> <span class="nav-text">uppercase/lowercase 字母转换成全大写或者小写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#json-将一个数组或一个对象格式化json格式，主要用于调试"><span class="nav-number">5.7.</span> <span class="nav-text">json 将一个数组或一个对象格式化json格式，主要用于调试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#orderBy-39-排序的依据-39-true-排序"><span class="nav-number">5.8.</span> <span class="nav-text">orderBy : '排序的依据' : [true] 排序</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#商品表单及过滤及排序功能"><span class="nav-number">5.8.1.</span> <span class="nav-text">商品表单及过滤及排序功能</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#在控制器在使用过滤器"><span class="nav-number">5.9.</span> <span class="nav-text">在控制器在使用过滤器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#filter-可以过滤对象，数组，字符串"><span class="nav-number">5.10.</span> <span class="nav-text">filter 可以过滤对象，数组，字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#js中使用-filter服务来过滤内容"><span class="nav-number">5.11.</span> <span class="nav-text">js中使用$filter服务来过滤内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义过滤器"><span class="nav-number">5.12.</span> <span class="nav-text">自定义过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#方法一"><span class="nav-number">5.12.1.</span> <span class="nav-text">方法一</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#方法二"><span class="nav-number">5.12.2.</span> <span class="nav-text">方法二</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#directive指令"><span class="nav-number">6.</span> <span class="nav-text">directive指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ng-repeat"><span class="nav-number">6.1.</span> <span class="nav-text">ng-repeat</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#index"><span class="nav-number">6.1.1.</span> <span class="nav-text">$index</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#first"><span class="nav-number">6.1.2.</span> <span class="nav-text">$first</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#last"><span class="nav-number">6.1.3.</span> <span class="nav-text">$last</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#middle"><span class="nav-number">6.1.4.</span> <span class="nav-text">$middle</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#odd偶数行-even基数行"><span class="nav-number">6.2.</span> <span class="nav-text">$odd偶数行,$even基数行</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作"><span class="nav-number">6.2.1.</span> <span class="nav-text">ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ng-model-里面的属性"><span class="nav-number">6.3.</span> <span class="nav-text">ng-model 里面的属性</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#parsers属性"><span class="nav-number">6.3.1.</span> <span class="nav-text">$parsers属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#validators-一个json对象"><span class="nav-number">6.3.2.</span> <span class="nav-text">$validators 一个json对象</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#formatters"><span class="nav-number">6.3.3.</span> <span class="nav-text">$formatters</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#setViewValue"><span class="nav-number">6.3.4.</span> <span class="nav-text">$setViewValue</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#render"><span class="nav-number">6.3.5.</span> <span class="nav-text">$render</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#setValidity"><span class="nav-number">6.3.6.</span> <span class="nav-text">$setValidity</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#viewValue"><span class="nav-number">6.3.7.</span> <span class="nav-text">$viewValue</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#modelValue"><span class="nav-number">6.3.8.</span> <span class="nav-text">$modelValue</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#事件指令"><span class="nav-number">6.4.</span> <span class="nav-text">事件指令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input相关指令"><span class="nav-number">6.5.</span> <span class="nav-text">input相关指令</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-disable-当为true时按钮不可用"><span class="nav-number">6.5.1.</span> <span class="nav-text">ng-disable 当为true时按钮不可用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-readonly-只读"><span class="nav-number">6.5.2.</span> <span class="nav-text">ng-readonly 只读</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-checked-当为true时选框会被选中"><span class="nav-number">6.5.3.</span> <span class="nav-text">ng-checked 当为true时选框会被选中</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-value-跟value一样，可以避免在数据没渲染时显示出表达式"><span class="nav-number">6.5.4.</span> <span class="nav-text">ng-value 跟value一样，可以避免在数据没渲染时显示出表达式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据显示优化"><span class="nav-number">6.6.</span> <span class="nav-text">数据显示优化</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-bind"><span class="nav-number">6.6.1.</span> <span class="nav-text">ng-bind</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-bind-template可以同时渲染多个表达式内容"><span class="nav-number">6.6.2.</span> <span class="nav-text">ng-bind-template可以同时渲染多个表达式内容</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-bind-html-配合-sce来解释html"><span class="nav-number">6.6.3.</span> <span class="nav-text">ng-bind-html 配合$sce来解释html</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-cloak-在元素解释完成前，样式会被设置成display-none"><span class="nav-number">6.6.4.</span> <span class="nav-text">ng-cloak 在元素解释完成前，样式会被设置成display:none</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-non-bindable-不进行表达的解释"><span class="nav-number">6.6.5.</span> <span class="nav-text">ng-non-bindable 不进行表达的解释</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#样式指令"><span class="nav-number">6.7.</span> <span class="nav-text">样式指令</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-class"><span class="nav-number">6.7.1.</span> <span class="nav-text">ng-class</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-style-解释行内样式-可以写在行内，也要以单独抽取成表达式"><span class="nav-number">6.7.2.</span> <span class="nav-text">ng-style 解释行内样式,可以写在行内，也要以单独抽取成表达式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-attr-属性名-通用的属性写法"><span class="nav-number">6.7.3.</span> <span class="nav-text">ng-attr-(属性名) 通用的属性写法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM操作"><span class="nav-number">6.8.</span> <span class="nav-text">DOM操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-show-ng-hide"><span class="nav-number">6.8.1.</span> <span class="nav-text">ng-show/ng-hide</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-switch配合on-default-when来有选择性的对元素进行显示隐藏"><span class="nav-number">6.8.2.</span> <span class="nav-text">ng-switch配合on``default``when来有选择性的对元素进行显示隐藏</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-open配合html下的detail来控制内容的显示与隐藏"><span class="nav-number">6.8.3.</span> <span class="nav-text">ng-open配合html下的detail来控制内容的显示与隐藏</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#扩展部分操作"><span class="nav-number">6.9.</span> <span class="nav-text">扩展部分操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-init-初始化数据"><span class="nav-number">6.9.1.</span> <span class="nav-text">ng-init 初始化数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-include-引入外部的文件"><span class="nav-number">6.9.2.</span> <span class="nav-text">ng-include 引入外部的文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-model-双向数据绑定"><span class="nav-number">6.9.3.</span> <span class="nav-text">ng-model 双向数据绑定</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-controller-控制器"><span class="nav-number">6.9.4.</span> <span class="nav-text">ng-controller 控制器</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#标签指令"><span class="nav-number">6.10.</span> <span class="nav-text">标签指令</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#a"><span class="nav-number">6.10.1.</span> <span class="nav-text">a</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#select"><span class="nav-number">6.10.2.</span> <span class="nav-text">select</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#form"><span class="nav-number">6.10.3.</span> <span class="nav-text">form</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#表单验证指令"><span class="nav-number">6.11.</span> <span class="nav-text">表单验证指令</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#验证选项"><span class="nav-number">6.11.1.</span> <span class="nav-text">验证选项</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#验证属性"><span class="nav-number">6.11.2.</span> <span class="nav-text">验证属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#访问表单的属性"><span class="nav-number">6.11.3.</span> <span class="nav-text">访问表单的属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#required为空，当为空时，返回true"><span class="nav-number">6.11.4.</span> <span class="nav-text">required为空，当为空时，返回true</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#valid有效值，当表单通过时，这个值为true"><span class="nav-number">6.11.5.</span> <span class="nav-text">$valid有效值，当表单通过时，这个值为true</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#invalid无效值，不通过时，这个值为true"><span class="nav-number">6.11.6.</span> <span class="nav-text">$invalid无效值，不通过时，这个值为true</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#pristine原始值未经改动时-为true"><span class="nav-number">6.11.7.</span> <span class="nav-text">$pristine原始值未经改动时,为true</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dirty原始值改动时-为true"><span class="nav-number">6.11.8.</span> <span class="nav-text">$dirty原始值改动时,为true</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-minlength-最小长度"><span class="nav-number">6.11.9.</span> <span class="nav-text">ng-minlength 最小长度</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-maxlength-最大长度"><span class="nav-number">6.11.10.</span> <span class="nav-text">ng-maxlength 最大长度</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ng-pattern-正则"><span class="nav-number">6.11.11.</span> <span class="nav-text">ng-pattern 正则</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#touched-表单被触发过"><span class="nav-number">6.11.12.</span> <span class="nav-text">$touched 表单被触发过</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#error记录所有的验证信息-只有这个值有true就证明验证失败了"><span class="nav-number">6.11.13.</span> <span class="nav-text">$error记录所有的验证信息,只有这个值有true就证明验证失败了</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#验证样式"><span class="nav-number">6.12.</span> <span class="nav-text">验证样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#实例-表单验证"><span class="nav-number">6.13.</span> <span class="nav-text">实例 表单验证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义指令"><span class="nav-number">6.14.</span> <span class="nav-text">自定义指令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#angularjs指令编译的三个阶段"><span class="nav-number">6.15.</span> <span class="nav-text">angularjs指令编译的三个阶段</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#restrict-指定指令的类型"><span class="nav-number">6.15.1.</span> <span class="nav-text">restrict 指定指令的类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#template-模板代码"><span class="nav-number">6.15.2.</span> <span class="nav-text">template 模板代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#transclude-保留内容不被覆盖"><span class="nav-number">6.15.3.</span> <span class="nav-text">transclude 保留内容不被覆盖</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#replace-以替换的形式来替代html"><span class="nav-number">6.15.4.</span> <span class="nav-text">replace 以替换的形式来替代html</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#templateUrl-使用路径引入html"><span class="nav-number">6.15.5.</span> <span class="nav-text">templateUrl 使用路径引入html</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#scope"><span class="nav-number">6.15.6.</span> <span class="nav-text">scope</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#controller-创建内部数据绑定"><span class="nav-number">6.15.7.</span> <span class="nav-text">controller 创建内部数据绑定</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#controllerAs-为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用"><span class="nav-number">6.15.8.</span> <span class="nav-text">controllerAs 为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#require-引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享"><span class="nav-number">6.15.9.</span> <span class="nav-text">require 引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#选项卡指令"><span class="nav-number">6.15.9.1.</span> <span class="nav-text">选项卡指令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#实例"><span class="nav-number">6.16.</span> <span class="nav-text">实例</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#tab"><span class="nav-number">6.16.1.</span> <span class="nav-text">tab</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dragg-拖拽"><span class="nav-number">6.16.2.</span> <span class="nav-text">dragg 拖拽</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#PC"><span class="nav-number">6.16.2.1.</span> <span class="nav-text">PC</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mobile"><span class="nav-number">6.16.2.2.</span> <span class="nav-text">mobile</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#servier服务"><span class="nav-number">7.</span> <span class="nav-text">servier服务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#http"><span class="nav-number">7.1.</span> <span class="nav-text">$http</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#location"><span class="nav-number">7.2.</span> <span class="nav-text">$location</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#absUrl-网址信息的绝对地址"><span class="nav-number">7.2.1.</span> <span class="nav-text">absUrl() 网址信息的绝对地址</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#path-跟路由挂钩的路径信息，可以实现前进后退"><span class="nav-number">7.2.2.</span> <span class="nav-text">path() 跟路由挂钩的路径信息，可以实现前进后退</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#replace-以替换路径的方式实现页面跳转，使路由的前进后退失效"><span class="nav-number">7.2.3.</span> <span class="nav-text">replace() 以替换路径的方式实现页面跳转，使路由的前进后退失效</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#hash-设置hash值"><span class="nav-number">7.2.4.</span> <span class="nav-text">hash() 设置hash值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#search-设置搜索内容"><span class="nav-number">7.2.5.</span> <span class="nav-text">search() 设置搜索内容</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#url-获取页面路径"><span class="nav-number">7.2.6.</span> <span class="nav-text">url() 获取页面路径</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#host-获取主机名"><span class="nav-number">7.2.7.</span> <span class="nav-text">host() 获取主机名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#post-获取端口号"><span class="nav-number">7.2.8.</span> <span class="nav-text">post() 获取端口号</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#protocol-获取协议"><span class="nav-number">7.2.9.</span> <span class="nav-text">protocol() 获取协议</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#anchorScroll-锚点跳转功能"><span class="nav-number">7.3.</span> <span class="nav-text">$anchorScroll 锚点跳转功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cacheFactory-缓存操作方式"><span class="nav-number">7.4.</span> <span class="nav-text">$cacheFactory 缓存操作方式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#info-打印缓存信息"><span class="nav-number">7.4.1.</span> <span class="nav-text">info() 打印缓存信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#put-设置信息"><span class="nav-number">7.4.2.</span> <span class="nav-text">put() 设置信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#get-获取信息"><span class="nav-number">7.4.3.</span> <span class="nav-text">get() 获取信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#remove-删除信息"><span class="nav-number">7.4.4.</span> <span class="nav-text">remove() 删除信息</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#interpolate-插值服务"><span class="nav-number">7.5.</span> <span class="nav-text">$interpolate 插值服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#q-对异步操作进行了扩展"><span class="nav-number">7.6.</span> <span class="nav-text">$q 对异步操作进行了扩展</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#provider供应商"><span class="nav-number">7.7.</span> <span class="nav-text">provider供应商</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义服务"><span class="nav-number">7.8.</span> <span class="nav-text">自定义服务</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#factory"><span class="nav-number">7.8.1.</span> <span class="nav-text">factory()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#provider-service-自定义服务"><span class="nav-number">7.8.2.</span> <span class="nav-text">$provider.service 自定义服务</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#provider"><span class="nav-number">7.8.3.</span> <span class="nav-text">provider()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#多个控制器之间数据共享"><span class="nav-number">7.8.4.</span> <span class="nav-text">多个控制器之间数据共享</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#模块之间的通信"><span class="nav-number">7.8.4.1.</span> <span class="nav-text">模块之间的通信</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#service-针对面向对象的一种方式，支持构造函数"><span class="nav-number">7.8.5.</span> <span class="nav-text">service()  针对面向对象的一种方式，支持构造函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#constant-value-设置常量"><span class="nav-number">7.8.6.</span> <span class="nav-text">constant() value()设置常量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件内部传播"><span class="nav-number">8.</span> <span class="nav-text">事件内部传播</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#emit向上传播的机制，类似于冒泡的操作"><span class="nav-number">8.1.</span> <span class="nav-text">$emit向上传播的机制，类似于冒泡的操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#broadcast向下传播，类似于捕获的操作"><span class="nav-number">8.2.</span> <span class="nav-text">$broadcast向下传播，类似于捕获的操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#event事件对象"><span class="nav-number">8.3.</span> <span class="nav-text">event事件对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#插件"><span class="nav-number">9.</span> <span class="nav-text">插件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ngRouter"><span class="nav-number">9.1.</span> <span class="nav-text">ngRouter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ngAnimate"><span class="nav-number">9.2.</span> <span class="nav-text">ngAnimate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ngResoure"><span class="nav-number">9.3.</span> <span class="nav-text">ngResoure</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#uiRouter"><span class="nav-number">9.4.</span> <span class="nav-text">uiRouter</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#urlRouterProvider"><span class="nav-number">9.4.1.</span> <span class="nav-text">$urlRouterProvider</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#stateProvider"><span class="nav-number">9.4.2.</span> <span class="nav-text">$stateProvider</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#激活路由的3种方式"><span class="nav-number">9.4.3.</span> <span class="nav-text">激活路由的3种方式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#在url中添加参数"><span class="nav-number">9.5.</span> <span class="nav-text">在url中添加参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考链接"><span class="nav-number">10.</span> <span class="nav-text">参考链接</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">weison</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"weison"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
