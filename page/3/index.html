<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="hey">
<meta property="og:url" content="weison.org/page/3/index.html">
<meta property="og:site_name" content="hey">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hey">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="weison.org/page/3/"/>





  <title> hey </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7df39855abf2510dc7b61bc4c6862373";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">hey</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'zoXgrR2S_YkhZkfmy-Rq','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/08/08/html5/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/html5/" itemprop="url">
                  html5
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-08T23:45:20+08:00">
                2016-08-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/08/html5/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/08/html5/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="文档声明"><a href="#文档声明" class="headerlink" title="文档声明"></a>文档声明</h1><h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><h2 id="用于结构划分"><a href="#用于结构划分" class="headerlink" title="用于结构划分"></a>用于结构划分</h2><ol>
<li><code>&lt;header&gt;&lt;/header&gt;</code> 用于网站或版块头部</li>
<li><code>&lt;footer&gt;&lt;/footer&gt;</code> 用于网站或版块底部</li>
<li><code>&lt;section&gt;&lt;/section&gt;</code> 划分页面区域</li>
<li><code>&lt;article&gt;&lt;/article&gt;</code>相对独立并且完整的一部分内容</li>
<li><code>&lt;aside&gt;&lt;/aside&gt;</code> 和主体相关的附属信息,aside应该与article内容相关</li>
<li><code>&lt;nav&gt;&lt;/nav&gt;</code> 导航</li>
<li><code>&lt;hgroup&gt;&lt;/hgroup&gt;</code>主要用于标题组合</li>
</ol>
<h2 id="语义化的标签"><a href="#语义化的标签" class="headerlink" title="语义化的标签"></a>语义化的标签</h2><ol>
<li><p><code>&lt;figure&gt;&lt;/figure&gt;</code>媒体元素组合,代表里面包含了图片或视频之类媒体元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/s?wd=%E4%B8%83%E5%A4%95%E8%8A%82&amp;tn=SE_pshlcjsy_xef5bmh9"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>图片描述文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;time&gt;&lt;/time&gt;</code>用于表示时间或日期</p>
</li>
<li><code>&lt;adress&gt;&lt;/adress&gt;</code> 定义作者信息 </li>
<li><code>&lt;mark&gt;&lt;/mark&gt;</code>  标记标签</li>
</ol>
<h2 id="功能性标签"><a href="#功能性标签" class="headerlink" title="功能性标签"></a>功能性标签</h2><ol>
<li><p><code>&lt;datalist&gt;&lt;/datalist&gt;</code> 用于表示input框有可能出现的值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">list</span>=<span class="string">"data"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"data"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"javascript"</span>&gt;</span>javascript<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"html"</span>&gt;</span>html<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"html"</span>&gt;</span>html<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"css"</span>&gt;</span>css<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;details&gt;&lt;/details&gt;</code>表示缩略信息，一般配合<code>summy</code>使用，假如加上<code>open</code>属性，会默认打开</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">details</span> <span class="attr">open</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">summy</span>&gt;</span>标题------------<span class="tag">&lt;/<span class="name">summy</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>赛后，傅园慧再次展现了自己搞怪的一面，她的表情十分夸张可爱，堪称中国代表团第一逗比，也给观众们带来了欢乐。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;progress&gt;&lt;/progress&gt;</code> 进度条<br>属性：</p>
<ul>
<li>‘max’ 是指最大的到达值</li>
<li><code>value</code> 当前的进度</li>
<li>内部的span主要用于当浏览器不兼容时，直接要那个<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">max</span>=<span class="string">"200"</span> <span class="attr">value</span>=<span class="string">"100"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>76<span class="tag">&lt;/<span class="name">span</span>&gt;</span>% </div><div class="line"><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h1 id="新增标签的低版本兼容方案"><a href="#新增标签的低版本兼容方案" class="headerlink" title="新增标签的低版本兼容方案"></a>新增标签的低版本兼容方案</h1><ol>
<li>使用js中的<code>document.createElement()</code>来创建标签</li>
<li>在css中定义创建出来的标签样式即可</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-tag">header</span>,<span class="selector-tag">article</span>&#123;<span class="attribute">display</span>: block&#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span>header<span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span>article<span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="built_in">window</span>.createElement(<span class="string">'header'</span>);</div><div class="line">    <span class="built_in">window</span>.createElement(<span class="string">'article'</span>);</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="使用现在的插件"><a href="#使用现在的插件" class="headerlink" title="使用现在的插件"></a>使用现在的插件</h2><p><a href="https://github.com/aFarkas/html5shiv" target="_blank" rel="external">html5shiv</a></p>
<h2 id="Form表单"><a href="#Form表单" class="headerlink" title="Form表单"></a>Form表单</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ol>
<li><code>placeholder=&quot;&quot;</code>提示信息</li>
<li><code>autocomplete</code> 是否自动保存用户输入的信息<ul>
<li><code>on</code>为开启,<code>off</code>为关闭</li>
</ul>
</li>
<li><code>autofocus</code> 焦点自动聚焦在输入框</li>
<li><code>require</code> 必填，不能为空</li>
<li><code>pattern</code> 正则校验</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">pattern</span>=<span class="string">"/^\d+/$"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li><code>formaction</code> 保存至草稿箱<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http:www.163.com"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">pattern</span>=<span class="string">"/^\d+/$"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">formaction</span>=<span class="string">"www.baidu.com"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h1><h1 id="JSON的浅克隆与深克隆"><a href="#JSON的浅克隆与深克隆" class="headerlink" title="JSON的浅克隆与深克隆"></a>JSON的浅克隆与深克隆</h1><h1 id="data数据自定义"><a href="#data数据自定义" class="headerlink" title="data数据自定义"></a>data数据自定义</h1><h1 id="历史事件"><a href="#历史事件" class="headerlink" title="历史事件"></a>历史事件</h1><h1 id="拖放"><a href="#拖放" class="headerlink" title="拖放"></a>拖放</h1><h1 id="canvas"><a href="#canvas" class="headerlink" title="canvas"></a>canvas</h1><h1 id="svg"><a href="#svg" class="headerlink" title="svg"></a>svg</h1><h1 id="跨文档通信"><a href="#跨文档通信" class="headerlink" title="跨文档通信"></a>跨文档通信</h1><h1 id="地理位置"><a href="#地理位置" class="headerlink" title="地理位置"></a>地理位置</h1><h1 id="离线缓存"><a href="#离线缓存" class="headerlink" title="离线缓存"></a>离线缓存</h1><h1 id="webWorkers"><a href="#webWorkers" class="headerlink" title="webWorkers"></a>webWorkers</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/08/01/mobileDevelop/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/01/mobileDevelop/" itemprop="url">
                  移动开发
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-01T00:58:46+08:00">
                2016-08-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/01/mobileDevelop/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/01/mobileDevelop/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h2 id="像素比"><a href="#像素比" class="headerlink" title="像素比"></a>像素比</h2><h3 id="PPI-每英寸所拥有的像素数目。PPI越高，就越能用高密码来显示图像"><a href="#PPI-每英寸所拥有的像素数目。PPI越高，就越能用高密码来显示图像" class="headerlink" title="PPI 每英寸所拥有的像素数目。PPI越高，就越能用高密码来显示图像"></a><code>PPI</code> 每英寸所拥有的像素数目。PPI越高，就越能用高密码来显示图像</h3><h3 id="meta"><a href="#meta" class="headerlink" title="meta"></a><code>meta</code></h3><ol>
<li><code>name=&quot;viewport&quot;</code> 视口</li>
<li><code>content</code><ul>
<li><code>width=&quot;[pixel_value || device-width ]&quot;</code> 设置屏幕宽度</li>
<li><code>user-scalable = &quot;[yes || no]&quot;</code> 是否允许用户缩放（例如双击或双指放大）</li>
<li><code>initial-scale</code> 初始比例，改变元素的渲染像素，比如一个元素大小为400，那个当<code>initial-scale=2</code>时，它的渲染像素是800</li>
<li><code>minimum-scale</code> 允许缩放的最小比例</li>
<li><code>maximum-scale</code> 允许缩放的最大比例<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="window-devicePixelRatio获取屏幕像素比例"><a href="#window-devicePixelRatio获取屏幕像素比例" class="headerlink" title="window.devicePixelRatio获取屏幕像素比例"></a><code>window.devicePixelRatio</code>获取屏幕像素比例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">   <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> iCalc = <span class="built_in">window</span>.devicePixelRatio; <span class="comment">//获取屏幕像素比</span></div><div class="line">          iCalc = <span class="number">1</span>/iCalc; <span class="comment">//计算出假如在像素比下，一像素等于多于渲染像素</span></div><div class="line">          <span class="keyword">var</span> checkMeta = <span class="built_in">document</span>.createElement(<span class="string">'meta'</span>);</div><div class="line">          checkMeta.name = <span class="string">'viewport'</span>;</div><div class="line">          checkMeta.content = <span class="string">'width=device-width, user-scalable=no, initial-scale='</span>+ iCalc +<span class="string">', maximum-scale='</span>+iCalc+<span class="string">', minimum-scale='</span>+iCalc + <span class="string">''</span>;</div><div class="line">          <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(checkMeta);</div><div class="line">   &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.oBox</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">400px</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#8BC34A</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"oBox"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="动态设置rem的大小"><a href="#动态设置rem的大小" class="headerlink" title="动态设置rem的大小"></a>动态设置rem的大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  //获取屏幕宽度</div><div class="line">  var iWidth = document.documentElement.clientWidth;</div><div class="line">  //根据屏幕宽度/16计算出1rem是多少 ,16是随意数据，可以随意定</div><div class="line">  var iCalc = iWidth / 16;</div><div class="line">  //设置html的字体大小</div><div class="line">  document.getElementsByTagName(&apos;html&apos;)[0].style.fontSize = iCalc + &apos;px&apos;;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<ol>
<li>取消点击超链接时的背景颜色</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-tag">a</span>&#123;<span class="attribute">-webkit-tap-highlight-color</span>:transparent&#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  </div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li>取消老版本下input的样式</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">input</span>&#123;<span class="attribute">-webkit-appearance</span>:none&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="屏幕适配"><a href="#屏幕适配" class="headerlink" title="屏幕适配"></a>屏幕适配</h2><h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><ul>
<li>all 用于所有设备</li>
<li>aural 已废弃。用于语音和声音合成器</li>
<li>braille 已废弃。 应用于盲文触摸式反馈设备</li>
<li>embossed  已废弃。 用于打印的盲人印刷设备</li>
<li>handheld  已废弃。 用于掌上设备或更小的装置，如PDA和小型电话</li>
<li>print 用于打印机和打印预览</li>
<li>projection  已废弃。 用于投影设备</li>
<li>screen  用于电脑屏幕，平板电脑，智能手机等。</li>
<li>speech  应用于屏幕阅读器等发声设备</li>
<li>tty 已废弃。 用于固定的字符网格，如电报、终端设备和对字符有限制的便携设备</li>
<li>tv  已废弃。 用于电视和网络电视</li>
</ul>
<figure class="highlight css"><figcaption><span>css</span><a href="http://www.runoob.com/cssref/css3-pr-mediaquery.html" target="_blank" rel="external">runoob</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*当媒体类型是tv时,body背景颜色为红色*/</span></div><div class="line">@<span class="keyword">media</span> tv&#123;</div><div class="line">  <span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">background</span>:red;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> &#123;</div><div class="line">  <span class="selector-tag">body</span> &#123;</div><div class="line">    <span class="comment">/*因为这里写的是所有设备，且样式写在前面的媒体查询后面，所以会覆盖前面的样式*/</span></div><div class="line">    <span class="attribute">background</span>:blue;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="媒体特性"><a href="#媒体特性" class="headerlink" title="媒体特性"></a>媒体特性</h3><p>在写媒体特性时，要用括号包起来</p>
<ol>
<li><code>min-width</code> 当分辨率宽度大于或等于时，启用 </li>
<li><code>max-width</code> 当分辨率宽度小于或等于时，启用 </li>
<li><code>orientation : landscape</code> 横屏</li>
<li><code>orientation : portrait</code> 竖屏 <figure class="highlight css"><figcaption><span>css</span><a href="http://www.runoob.com/cssref/css3-pr-mediaquery.html" target="_blank" rel="external">runoob</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*当媒体类型是tv时,body背景颜色为红色*/</span></div><div class="line">@<span class="keyword">media</span> (min-width:<span class="number">960px</span>)&#123;</div><div class="line"> <span class="comment">/*当分辨率大于或者等于960像素时，使用*/</span></div><div class="line"> <span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">background</span>:red;</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><h4 id="and-并且，和"><a href="#and-并且，和" class="headerlink" title="and 并且，和"></a><code>and</code> 并且，和</h4><figure class="highlight arduino"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@media (<span class="built_in">min</span>-<span class="built_in">width</span>:<span class="number">200</span>px) and (<span class="built_in">max</span>-<span class="built_in">width</span>:<span class="number">400</span>px)&#123;</div><div class="line">  body&#123;</div><div class="line">  <span class="comment">/*当宽度大于200px且小于400时使用*/</span></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="not-排除"><a href="#not-排除" class="headerlink" title="not 排除"></a><code>not</code> 排除</h4><figure class="highlight css"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*除了tv以外的设备，都使用该样式*/</span></div><div class="line">@<span class="keyword">media</span> not tv&#123;</div><div class="line">  <span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">background</span>:red;</div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="only-指定设备"><a href="#only-指定设备" class="headerlink" title="only 指定设备"></a><code>only</code> 指定设备</h4><p>很多时候是用来对那些不支持媒体特性但却支持媒体类型的设备</p>
<h2 id="离线存储"><a href="#离线存储" class="headerlink" title="离线存储"></a>离线存储</h2><h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><h1 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h1><ol>
<li><a href="http://m.sui.taobao.org/" target="_blank" rel="external">SUI Mobile 阿里巴巴国际UED前端出品的移动端UI库</a> </li>
<li><a href="https://weui.io/#/" target="_blank" rel="external">Weui 为微信Web服务量身设计</a></li>
<li><a href="http://imweb.io/topic/578392f6ba724c663b83527d" target="_blank" rel="external">腾讯 sheral——一个方便定制及扩展的UI组件库</a></li>
<li><a href="http://ant.design/" target="_blank" rel="external">ANT DESIGN一个 UI 设计语言</a></li>
</ol>
<h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><p>参考链接</p>
<ol>
<li><a href="https://www.iyuxy.com/w/" target="_blank" rel="external">推荐几个精致的web UI框架</a></li>
<li><a href="http://www.imooc.com/activity/planhtml5" target="_blank" rel="external">慕课精选38小时视频</a></li>
<li><a href="http://www.imooc.com/view/125" target="_blank" rel="external">Web App下图片滑动组件的开发</a></li>
<li><a href="http://www.imooc.com/view/140" target="_blank" rel="external">移动端的WEB相册</a></li>
<li><a href="http://www.imooc.com/view/104" target="_blank" rel="external">HTML5存储</a></li>
<li><a href="http://www.w3school.com.cn/html5/html_5_app_cache.asp" target="_blank" rel="external">HTML 5 应用程序缓存-Application Cache</a></li>
<li><a href="http://www.imooc.com/learn/46" target="_blank" rel="external">HTML5离线应用实战演练</a></li>
<li><a href="http://www.shejidaren.com/iphone-resolutions-guide.html" target="_blank" rel="external">iPhone屏幕分辨率终极指南</a></li>
<li><a href="http://www.runoob.com/cssref/css3-pr-mediaquery.html" target="_blank" rel="external">CSS3 @media查询 | 菜鸟教程</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/07/21/jquery/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/21/jquery/" itemprop="url">
                  jquery
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-21T07:08:25+08:00">
                2016-07-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/21/jquery/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/21/jquery/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="元素尺寸"><a href="#元素尺寸" class="headerlink" title="元素尺寸"></a>元素尺寸</h4><h5 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h5><ol>
<li><code>width()</code> 单纯地获取宽度</li>
<li><code>innerWidth()</code> width+padding值</li>
<li><code>outerWidth()</code> width+padding+border</li>
<li><code>outerWidth(true)</code> width+padding+border + margin</li>
</ol>
<h5 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h5><ol>
<li><code>width(200)</code> 单纯地获取宽度</li>
<li><code>innerWidth(200)</code> width=200-padding</li>
<li><code>outerWidth(200)</code> width= 200 - padding-border</li>
<li><code>outerWidth(200,true)</code> width=200-padding-border-margin</li>
</ol>
<h5 id="原生js的差异"><a href="#原生js的差异" class="headerlink" title="原生js的差异"></a>原生js的差异</h5><p>原生js当中是获取隐藏元素的宽度是0，而jq不会<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">style</span>=<span class="string">"background: red;width:100px;height:30px;display: none;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log($(<span class="string">'#div1'</span>).width()); <span class="comment">// =&gt; 100</span></div><div class="line">	<span class="built_in">console</span>.log($(<span class="string">'#div1'</span>).get(<span class="number">0</span>).offsetWidth); <span class="comment">// =&gt;0</span></div><div class="line">&#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="获取浏览器"><a href="#获取浏览器" class="headerlink" title="获取浏览器"></a>获取浏览器</h5><ol>
<li><p>可视图</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">window</span>).width();</div><div class="line">$(<span class="built_in">window</span>).height();</div></pre></td></tr></table></figure>
</li>
<li><p>整个视图</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).width();</div><div class="line">$(<span class="built_in">document</span>).height();</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-id">#div1</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">120px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">150px</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">3px</span>;</div><div class="line">    <span class="attribute">margin</span>:<span class="number">6px</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#8BC34A</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#8BC34A</span>;</div><div class="line">    <span class="attribute">float</span>:left;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	#div1 &#123;</div><div class="line">	    width: 120px;</div><div class="line">	    height: 150px;</div><div class="line">	    margin: 10px;</div><div class="line">	    padding: 3px;</div><div class="line">	    margin:6px;</div><div class="line">	    border: 2px solid #8BC34A;</div><div class="line">	    background: #8BC34A;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"width"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"innerWidth"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"outerWidth"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"outerWidthTrue"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="string">"#width"</span>).text(<span class="string">"width="</span>+$(<span class="string">'#div1'</span>).width());</div><div class="line">	$(<span class="string">"#innerWidth"</span>).text(<span class="string">"innerWidth="</span>+$(<span class="string">'#div1'</span>).innerWidth());</div><div class="line">	$(<span class="string">"#outerWidth"</span>).text(<span class="string">"outerWidt="</span>+$(<span class="string">'#div1'</span>).outerWidth());</div><div class="line">	$(<span class="string">"#outerWidthTrue"</span>).text(<span class="string">"outerWidthTrue="</span>+$(<span class="string">'#div1'</span>).outerWidth(<span class="literal">true</span>));</div><div class="line">&#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="滚动距离"><a href="#滚动距离" class="headerlink" title="滚动距离"></a>滚动距离</h5><ol>
<li><code>scrollTop</code>页面出了可视区的高度</li>
<li><code>scrollLeft</code>页面出了可视区的宽度</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert($(<span class="built_in">document</span>).scrollTop());</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>当页面滚动到底部时</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).height - $(<span class="built_in">window</span>).height() = $(<span class="built_in">document</span>).offsetTop();</div></pre></td></tr></table></figure>
<p>当内部元素滚动到包含框底部时</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="built_in">document</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		$(<span class="string">'#div2'</span>).height() - $(<span class="string">'#div1'</span>).height() = $(<span class="string">'#div1'</span>).scrollTop()</div><div class="line">		$(<span class="string">'#div2'</span>).scrollTop(<span class="number">300</span>)</div><div class="line">		<span class="built_in">console</span>.log($(<span class="built_in">document</span>).scrollTop());</div><div class="line">	&#125;);</div><div class="line">&#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="到整个页面的距离offset"><a href="#到整个页面的距离offset" class="headerlink" title="到整个页面的距离offset()"></a>到整个页面的距离<code>offset()</code></h5><ol>
<li>与父级是否定位过postion无关</li>
<li>是相对于整个文档的，跟滚动条无关<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#div1'</span>).offset().left;</div><div class="line">$(<span class="string">'#div1'</span>).offset().top;</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="到有定位属性的祖先元素的距离position"><a href="#到有定位属性的祖先元素的距离position" class="headerlink" title="到有定位属性的祖先元素的距离position()"></a>到有定位属性的祖先元素的距离<code>position()</code></h5><ol>
<li>与父级是否定位过postion无关</li>
<li>是相对于整个文档的，跟滚动条无关</li>
<li>要注意它会忽略margin值</li>
<li>浮动是支持的<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#div1'</span>).offset().left;</div><div class="line">$(<span class="string">'#div1'</span>).offset().top;</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h5><p>原理：将路径存放在自定义属性当中，当浏览器滚动时，判断图片距离文档顶部的高度是否小于(当前窗口的可视高度+文档移出可视区的值)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">"http://img.zcool.cn/community/01d11d57345ba200000080ed92585f.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span>  <span class="attr">data-src</span>=<span class="string">"http://img.zcool.cn/community/01b47057345ba200000080edd9e6cd.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span>  <span class="attr">data-src</span>=<span class="string">"http://img.zcool.cn/community/01e39c57345ba200000080ed08a335.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		$(<span class="string">"img"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,e</span>)</span>&#123;</div><div class="line">			<span class="comment">// 当元素距离文档顶部的距离&lt;(当窗口可视区高度+文档移出可视区的距离时)</span></div><div class="line">			<span class="keyword">if</span>($(e).offset().top&lt; ($(<span class="built_in">window</span>).height()+$(<span class="built_in">document</span>).scrollTop()))&#123;</div><div class="line">				<span class="comment">// 替换图片路径</span></div><div class="line">				$(e).attr(<span class="string">'src'</span>,$(e).data(<span class="string">'src'</span>));</div><div class="line">			&#125;</div><div class="line">		&#125;)</div><div class="line">	&#125;);</div><div class="line">&#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="遍历操作"><a href="#遍历操作" class="headerlink" title="遍历操作"></a>遍历操作</h4><h5 id="each-针对元素进行循环遍历的"><a href="#each-针对元素进行循环遍历的" class="headerlink" title="$().each() 针对元素进行循环遍历的"></a><code>$().each()</code> 针对元素进行循环遍历的</h5><h5 id="each-同时可以对元素和原生的数组-对象进行遍历"><a href="#each-同时可以对元素和原生的数组-对象进行遍历" class="headerlink" title="$.each()   同时可以对元素和原生的数组,对象进行遍历"></a><code>$.each()</code>   同时可以对元素和原生的数组,对象进行遍历</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> arr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</div><div class="line">	<span class="comment">//记住回调函数的参数顺序是i,e(index,ele);</span></div><div class="line">	$.each(arr,<span class="function"><span class="keyword">function</span>(<span class="params">index,ele</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(index,ele);</div><div class="line">		<span class="comment">//0 "a"</span></div><div class="line">		<span class="comment">//1 "b"</span></div><div class="line">		<span class="comment">//2 "c</span></div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	<span class="comment">//针对对象进行遍历</span></div><div class="line">	<span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">'weison'</span>,<span class="attr">age</span>:<span class="number">25</span>&#125;;</div><div class="line">	$.each(obj,<span class="function"><span class="keyword">function</span>(<span class="params">key,val</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(key,val);</div><div class="line">		<span class="comment">// name weison</span></div><div class="line">		<span class="comment">// age 25</span></div><div class="line">	&#125;);</div><div class="line">&#125;);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h4 id="Callbacks-回调对象"><a href="#Callbacks-回调对象" class="headerlink" title="$.Callbacks() 回调对象"></a><code>$.Callbacks()</code> 回调对象</h4><h4 id="fn-extend-extend-插件编写"><a href="#fn-extend-extend-插件编写" class="headerlink" title="$.fn.extend() $.extend()插件编写"></a><code>$.fn.extend()</code> <code>$.extend()</code>插件编写</h4><h4 id="queue-dequeue-队列"><a href="#queue-dequeue-队列" class="headerlink" title="$.queue() $.dequeue() 队列"></a><code>$.queue()</code> <code>$.dequeue()</code> 队列</h4><p>队列是顺序执行的，一个执行完再到下一个，就像买车票一样，只有前一个出队(<code>$.dequeue()</code>)了，后一个人才能入队(<code>$.queue()</code>)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$.queue(入队元素,队列名称,执行的函数);</div><div class="line">$.dequeue(出队元素,队列名称);</div></pre></td></tr></table></figure></p>
<p>出队的执行其实就相当于找到队伍中的第一个函数，并执行它<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">aa</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="string">'a'</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bb</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="string">'b'</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">cc</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="string">'c'</span>);</div><div class="line">&#125;</div><div class="line">$.queue(<span class="built_in">document</span>,<span class="string">'t1'</span>,aa);</div><div class="line">$.queue(<span class="built_in">document</span>,<span class="string">'t1'</span>,bb);</div><div class="line">$.queue(<span class="built_in">document</span>,<span class="string">'t1'</span>,cc);</div><div class="line"></div><div class="line">$.dequeue(<span class="built_in">document</span>,<span class="string">'t1'</span>);</div><div class="line">$.dequeue(<span class="built_in">document</span>,<span class="string">'t1'</span>);</div></pre></td></tr></table></figure></p>
<h4 id="Callbacks-回调函数"><a href="#Callbacks-回调函数" class="headerlink" title="$.Callbacks() 回调函数"></a><code>$.Callbacks()</code> 回调函数</h4><ol>
<li>方法</li>
</ol>
<ul>
<li><code>add()</code> 添加执行的函数</li>
<li><code>remove()</code> 删除已添加的函数</li>
<li><code>fire()</code> 顺序执行已添加的函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//实例化一个回调对象</span></div><div class="line"><span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>);&#125;</div><div class="line"><span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>);&#125;</div><div class="line"><span class="keyword">var</span> cb = $.Callbacks();</div><div class="line">cb.add(fn1);</div><div class="line">cb.add(fn2);</div><div class="line">cb.fire(); </div><div class="line">cb.remove(fn1);</div><div class="line">cb.fire();</div></pre></td></tr></table></figure>
<ol>
<li>参数</li>
</ol>
<ul>
<li><code>once()</code> 只调用第一个fire()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">3</span>);&#125;</div><div class="line">	<span class="keyword">var</span> cb = $.Callbacks(<span class="string">'once'</span>);</div><div class="line">	cb.add(fn1);</div><div class="line">	cb.add(fn2);</div><div class="line">	cb.fire(); </div><div class="line">	cb.add(fn3);</div><div class="line">	cb.fire();</div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>memory()</code> 记忆<br>后缀的add也会在前面的fire()中执行</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">3</span>);&#125;</div><div class="line">	<span class="keyword">var</span> cb = $.Callbacks(<span class="string">'memory'</span>);</div><div class="line">	cb.add(fn1);</div><div class="line">	cb.add(fn2);</div><div class="line">	cb.fire();  <span class="comment">// 1 2 3</span></div><div class="line">	cb.add(fn3); </div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>unique</code> 去重<br>不会执行之前已经执行过的函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">3</span>);&#125;</div><div class="line">	<span class="keyword">var</span> cb = $.Callbacks(<span class="string">'unique'</span>);</div><div class="line">	cb.add(fn1);</div><div class="line">	cb.add(fn2);</div><div class="line">	cb.fire();  <span class="comment">// 1 2 </span></div><div class="line">	cb.add(fn1); </div><div class="line">	cb.add(fn1); </div><div class="line">	cb.add(fn3); </div><div class="line">	cb.fire();  <span class="comment">// 1 2 3</span></div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>stopOnFalse</code> 停止运行<br>当遇到return false的函数时，后缀的函数不会继续执行</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>); <span class="keyword">return</span> <span class="literal">false</span>;&#125;</div><div class="line">	<span class="keyword">var</span> fn3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">3</span>);&#125;</div><div class="line">	<span class="keyword">var</span> cb = $.Callbacks(<span class="string">'stopOnFalse'</span>);</div><div class="line">	cb.add(fn1);</div><div class="line">	cb.add(fn2);</div><div class="line">	cb.fire();  <span class="comment">// 1 2 </span></div><div class="line">	cb.add(fn3); <span class="comment">//因为fn2加上了return false所以fn3不会被执行</span></div><div class="line">	cb.fire();  <span class="comment">// 1 2</span></div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<p>参数也可以同时用，只要有空格隔开即可<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">1</span>);&#125;</div><div class="line">	<span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>); <span class="keyword">return</span> <span class="literal">false</span>;&#125;</div><div class="line">	<span class="keyword">var</span> fn3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="number">3</span>);&#125;</div><div class="line">	<span class="keyword">var</span> cb = $.Callbacks(<span class="string">'once memory '</span>);</div><div class="line">	cb.add(fn1);</div><div class="line">	cb.add(fn2);</div><div class="line">	cb.fire();  <span class="comment">// 1 2  3</span></div><div class="line">	cb.add(fn3); </div><div class="line">	cb.fire(); </div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="Deferred-延迟对象"><a href="#Deferred-延迟对象" class="headerlink" title="$.Deferred() 延迟对象"></a><code>$.Deferred()</code> 延迟对象</h4><p>主要应用场景在于异步操作,它的初始状态是pending(等待)</p>
<ul>
<li><code>$.Deferred()</code>内部其实也是通过<code>$.Callbacks()</code>实现的</li>
<li><code>resolve()</code> 是对<code>fire()</code>的二次封装</li>
<li><code>done()</code> 是<code>add()</code>的二次封装</li>
</ul>
<p>参数</p>
<ol>
<li><code>resolve()</code>对应<code>done</code>函数</li>
<li><code>reject()</code>对应<code>fail</code>函数</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> dfd = $.Deferred();</div><div class="line">	setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		alert(<span class="number">1</span>);</div><div class="line">		dfd.resolve(); <span class="comment">//相当于$.Callbacks()的fire()方法</span></div><div class="line">	&#125;,<span class="number">1000</span>);</div><div class="line">	<span class="comment">//done相当于$.Callbacks()的add()方法的二次封装</span></div><div class="line">	dfd.done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		alert(<span class="number">2</span>);</div><div class="line">	&#125;)</div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h5 id="when"><a href="#when" class="headerlink" title="$.when()"></a><code>$.when()</code></h5><p>可以在多个异步对象的状态为resolve时再执行done方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ajax1 = $.ajax&#123;<span class="attr">method</span>:<span class="string">'get'</span>,<span class="attr">url</span>:xxxx&#125;</div><div class="line"><span class="keyword">var</span> ajax2 = $.ajax&#123;<span class="attr">method</span>:<span class="string">'get'</span>,<span class="attr">url</span>:xxxx&#125;</div><div class="line">$.when(ajax1,ajax2).done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="comment">//只有ajax1和ajax2两个的状态为resolve时才会执行</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h5 id="then-successCallback-errorCallback"><a href="#then-successCallback-errorCallback" class="headerlink" title="$.then(successCallback,errorCallback)"></a><code>$.then(successCallback,errorCallback)</code></h5><p>$.then(function(<br>    //成功时执行的函数<br>){},function(){<br>    //失败时执行的函数<br>});</p>
<p>利用保持状态的特征<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> dfd = $.Deferred();</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">aa</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line">$(<span class="string">'html'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		dfd.resolve();</div><div class="line">	&#125;,<span class="number">1000</span>);</div><div class="line">	dfd.done(aa); <span class="comment">//第二次点击时，因为状态的保持，所以会被直接执行</span></div><div class="line">&#125;);</div><div class="line">&#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="noConflict-解决库冲突"><a href="#noConflict-解决库冲突" class="headerlink" title="$.noConflict() 解决库冲突"></a><code>$.noConflict()</code> 解决库冲突</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="comment">//这样就把$符号替换成newJq,从而避免冲突</span></div><div class="line">	<span class="keyword">var</span> newJq = $.noConflict();</div><div class="line">	newJq(<span class="string">'body'</span>).css(<span class="string">'background'</span>,<span class="string">'#333'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="JQ源码架构"><a href="#JQ源码架构" class="headerlink" title="JQ源码架构"></a>JQ源码架构</h4><h4 id="jq编写插件"><a href="#jq编写插件" class="headerlink" title="jq编写插件"></a>jq编写插件</h4><h5 id="fn-extend"><a href="#fn-extend" class="headerlink" title="$.fn.extend()"></a><code>$.fn.extend()</code></h5><p>扩展jq对象下的方法，要注意的是使用<code>$.fn.extend</code>时this指向的是对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$.fn.extend(&#123;</div><div class="line">		<span class="attr">setTxt</span> : <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">			<span class="keyword">this</span>.html(str); <span class="comment">//这里的this指向了div1</span></div><div class="line">		&#125;</div><div class="line">	&#125;)</div><div class="line">	$(<span class="string">'#div1'</span>).setTxt(<span class="string">'199111123123'</span>);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h5 id="extend"><a href="#extend" class="headerlink" title="$.extend()"></a><code>$.extend()</code></h5><ol>
<li>对象复制的功能<br>利用它后面属性会覆盖前面的特征，在写插件时可以把默认参数写在自定义配置后<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="keyword">default</span> = &#123;</div><div class="line">	<span class="attr">fontSize</span> : <span class="number">12</span>,</div><div class="line">	<span class="attr">color</span> : <span class="string">'red'</span></div><div class="line">&#125;	</div><div class="line"><span class="keyword">var</span> option = &#123;</div><div class="line">	</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> setting = $.extend(setting,<span class="keyword">default</span>,option);</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$.extend(a,b,c);</div><div class="line"><span class="comment">//相当于把b,c身上的属性复制到a身上</span></div></pre></td></tr></table></figure>
<ol>
<li>扩展插件接口的功能<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">$.extend(a);</div><div class="line"><span class="comment">//当只写一个对象时，相当于把a扩展到$对象当中</span></div><div class="line"></div><div class="line">$.trim();</div><div class="line">$.type();</div><div class="line"><span class="comment">//等价于</span></div><div class="line"><span class="comment">//静态方法</span></div><div class="line">$.extend(&#123;</div><div class="line">	<span class="attr">trim</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">	type : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">&#125;)</div><div class="line"><span class="comment">//实例方法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Jquery</span>(<span class="params">selector</span>)</span>&#123;&#125;</div><div class="line">Jquery.prototype.html = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">Jquery.prototype.css = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line"><span class="comment">//等价于</span></div><div class="line">Jquery.fn.extend(&#123;</div><div class="line">	<span class="attr">html</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">	<span class="attr">css</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<p>参考链接</p>
<ol>
<li><a href="http://www.ruanyifeng.com/blog/2011/08/a_detailed_explanation_of_jquery_deferred_object.html" target="_blank" rel="external">阮一峰 jQuery的deferred对象详解</a></li>
<li><a href="http://v.miaov.com/special/jquery/" target="_blank" rel="external">杜鹏-jquery集中营</a></li>
<li><a href="http://jingyan.baidu.com/article/fec4bce259ef67f2608d8b10.html" target="_blank" rel="external">jQuery.extend和jQuery.fn.extend的区别</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/07/17/es6/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/17/es6/" itemprop="url">
                  es6
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-17T10:31:20+08:00">
                2016-07-17
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/17/es6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/17/es6/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="十大"><a href="#十大" class="headerlink" title="十大"></a>十大</h1><h2 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> str = <span class="string">`李冰冰男友证件照日本试射火箭失败柜底发现战</span></div><div class="line">  国宝剑摄影师拍岩浆入海男生地铁当众脱裤中</div><div class="line">  国死海变玫瑰湖华北多地灰霾堆积作弊被发现后跳楼`;</div><div class="line">  <span class="built_in">console</span>.log(str);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h2 id="模板对象"><a href="#模板对象" class="headerlink" title="模板对象"></a>模板对象</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> firstName = <span class="string">'weison'</span>;</div><div class="line">  <span class="keyword">var</span> lastName =  <span class="string">'l'</span>;</div><div class="line">  <span class="keyword">var</span> name = <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>; <span class="comment">// weison l</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ol>
<li>参数默认值 Default,这个参数可以是任意值</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">&#123;a,b=<span class="number">1</span>&#125;</span>)</span>&#123;&#125;    </div><div class="line">  <span class="comment">// es5</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> a = a || <span class="number">10</span>,</div><div class="line">        b = b || <span class="number">20</span>;</div><div class="line">    <span class="keyword">return</span> a+b;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// es6</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">a=<span class="number">20</span>,b=<span class="number">30</span></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> a+b;</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">person=&#123;say:<span class="string">'hi'</span>&#125;</span>)</span>&#123;</div><div class="line">    alert(person.say);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">say</span> : <span class="string">'hello'</span></div><div class="line">  &#125;</div><div class="line">  fn3(obj);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<ol>
<li><p><code>...rest</code>rest参数<br>类似于<code>arguments</code>,代表剩余的参数。当参数有多个时，为了不用一个个地声明形参，可以使用<code>...rest</code>代表没有形参的部分,<br>它与<code>arguments</code>的区别在于:</p>
<ul>
<li>剩余参数只包含那些没有对应形参的实参，而 arguments 对象包含了传给函数的所有实参。</li>
<li><p>arguments 对象不是一个真实的数组,而剩余参数是真实的 Array实例，也就是说你能够在它上面直接使用所有的数组方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">arguments</span>) ) &#125;; </div><div class="line">  fn1(); <span class="comment">// =&gt; [object Arguments]</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">...rest</span>)</span>&#123; <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(rest) ) &#125;</div><div class="line">  fn2(); <span class="comment">// =&gt; [object Array]</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>arguments 对象对象还有一些附加的属性 (比如callee属性)。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  // es5</div><div class="line">  function fn1()&#123;</div><div class="line">   return Math.max.apply(null,arguments);</div><div class="line">  &#125;</div><div class="line">  //es6</div><div class="line">  function fn2(...rest)&#123;</div><div class="line">   return Math.max.apply(null,rest);</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">//剩余参数包含了从第二个到最后的所有实参. 然后用第一个实参依次乘以它们:</div><div class="line">//map() 方法返回一个由原数组中的每个元素调用一个指定方法后的返回值组成的新数组 ele代表当前数组被传递的元素</div><div class="line">  function multiply(multiplier, ...theArgs) &#123;</div><div class="line">    return theArgs.map(function (element) &#123;</div><div class="line">      return multiplier * element;</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  var arr = multiply(2, 1, 2, 3); </div><div class="line">  // [2, 4, 6]</div><div class="line">  console.log(arr);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>箭头函数,用于作用回调函数使用</p>
<ul>
<li><p>当只有一行语句时，它将变成一个表达式，并返回结果，如果超过一个，则需要明确使用return</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> fn1 = <span class="function">(<span class="params">a,b</span>) =&gt;</span> a*b;</div><div class="line">  fn1(<span class="number">3</span>,<span class="number">5</span>); <span class="comment">//=&gt;15</span></div><div class="line">  <span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">15</span>,<span class="number">20</span>],</div><div class="line">      arr2 = [<span class="number">1</span>,<span class="number">15</span>,<span class="number">20</span>];</div><div class="line">  <span class="comment">//es5</span></div><div class="line">  arr1.map(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index</span>)</span>&#123;</div><div class="line">   <span class="keyword">return</span> <span class="string">'索引值'</span> + index + <span class="string">':'</span>+ ele;</div><div class="line">  &#125;); <span class="comment">// ["索引值0:1", "索引值1:15", "索引值2:20"]</span></div><div class="line">  </div><div class="line">  <span class="comment">//es6</span></div><div class="line">  arr2.map(<span class="function">(<span class="params">ele,index</span>) =&gt;</span> <span class="string">`索引值<span class="subst">$&#123;index&#125;</span>:<span class="subst">$&#123;ele&#125;</span>`</span>);<span class="comment">//["索引值0:1", "索引值1:15", "索引值2:20"]</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>超过一行需明确return</p>
</li>
<li><p>this的指向不由调用的对象决定，而且定义时所在的对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="keyword">this</span>.string = <span class="keyword">this</span>.string.toUpperCase();</div><div class="line">     <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="keyword">this</span>.string);</div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>不能当作是构造函数，不能使用<code>new</code>命令，否则抛异常</p>
</li>
<li>该函数内没有<code>arguments</code><br>因此它不能当作是正常的函数</li>
</ul>
</li>
</ol>
<ol>
<li>扩展运算符,将一个数组转换成用逗号分隔的参数序列(把数组或者类数组拆解成N个独立的内容)。主要用于函数调用<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr)); <span class="comment">// =&gt; 10</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...arr)); <span class="comment">// =&gt; 10</span></div><div class="line">  <span class="keyword">var</span> str = <span class="string">"hello"</span>;</div><div class="line">  <span class="built_in">console</span>.log(...str); <span class="comment">// =&gt; h e l l o</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h2><ul>
<li>只在代码块内有效</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  &#123;</div><div class="line">    <span class="keyword">let</span> a = <span class="number">10</span>;</div><div class="line">    <span class="keyword">var</span> b = <span class="number">20</span>;</div><div class="line">  &#125;    </div><div class="line">  <span class="built_in">console</span>.log(a,b); <span class="comment">// a is not defined</span></div><div class="line">  <span class="keyword">var</span> arr = [];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">      arr[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(i);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">  arr[<span class="number">6</span>](); <span class="comment">// 10 var声明的，全局有效，每次循环，新的i都会覆盖旧的i，因为最后输入为最后的i值。</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> arr2 = [];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">      arr2[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(i);</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">  arr2[<span class="number">6</span>](); <span class="comment">// 6,变量i是let声明的，当前的i只在本轮循环有效，所以每次i其实都是一个新的变量</span></div><div class="line"></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><p>不存在变量提升</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="built_in">console</span>.log(a);</div><div class="line">  <span class="built_in">console</span>.log(b); <span class="comment">//Uncaught ReferenceError: b is not defined</span></div><div class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</div><div class="line">  <span class="keyword">let</span> b = <span class="number">20</span>;</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<ul>
<li>暂存死区<br>如果在代码块中使用<code>let</code>或<code>cost</code>来声明变量，那么这个变量从一开始形成封闭的作用域，不受外界影响 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">  <span class="keyword">if</span>(<span class="literal">true</span>)&#123;</div><div class="line">    a = <span class="number">20</span>; <span class="comment">// ReferenceError: a is not defined</span></div><div class="line">    <span class="keyword">let</span> a = <span class="number">30</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(a)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h1 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h1><h2 id="let"><a href="#let" class="headerlink" title="let"></a><code>let</code></h2><h3 id="不允许重复声明"><a href="#不允许重复声明" class="headerlink" title="不允许重复声明"></a>不允许重复声明</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</div><div class="line">  <span class="keyword">let</span> a = <span class="number">20</span>; </div><div class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// =&gt;报错： Uncaught SyntaxError: Identifier 'a' has already been declared</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="没有预解释"><a href="#没有预解释" class="headerlink" title="没有预解释"></a>没有预解释</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="built_in">console</span>.log(b); <span class="comment">// Uncaught ReferenceError: b is not defined</span></div><div class="line">  <span class="keyword">let</span> b = <span class="number">20</span>;</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h3 id="块级作用域-1"><a href="#块级作用域-1" class="headerlink" title="块级作用域"></a>块级作用域</h3><p>块级作用域指的是{代码块}在代码块内声明的变量，只能在代码块中访问</p>
<ol>
<li><p>避免内部变量覆盖外部变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> tmp = <span class="number">10</span>;</div><div class="line">  &#123;</div><div class="line">    <span class="keyword">var</span> tmp = <span class="number">20</span></div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(tmp); <span class="comment">// =&gt; 20</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>计数的循环变量泄露为全局变量 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">    <span class="comment">//每次循环时，都是一个独立的作用域，i读取的是每次传进来的i,所以会打印出0到9</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'内部'</span>,i);</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'外部'</span>,i); <span class="comment">//Uncaught ReferenceError: i is not defined</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>应用tab</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">    *&#123;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">list-style</span>:none;<span class="attribute">font-family</span>: <span class="string">"microsoft yahei"</span>&#125;</div><div class="line">    <span class="selector-tag">li</span>&#123;</div><div class="line">      <span class="attribute">float</span>: left;</div><div class="line">      </div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.tab_h</span> <span class="selector-tag">li</span>&#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">      <span class="attribute">line-height</span>: <span class="number">40px</span>;</div><div class="line">      <span class="attribute">text-align</span>: center;</div><div class="line">      <span class="attribute">cursor</span>: pointer;</div><div class="line">      <span class="attribute">background</span>: <span class="number">#f3f3f3</span>;</div><div class="line">      <span class="attribute">text-transform</span>: uppercase;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.tab_h</span> <span class="selector-class">.active</span>&#123;</div><div class="line">      <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.tab_b</span>&#123;</div><div class="line">      <span class="attribute">clear</span>:both;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.tab_b</span> <span class="selector-tag">li</span>&#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">300px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">      <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">      <span class="attribute">font-size</span>: <span class="number">80px</span>;</div><div class="line">      <span class="attribute">display</span>: none;</div><div class="line">      <span class="attribute">text-transform</span>: uppercase;</div><div class="line">      <span class="attribute">line-height</span>: <span class="number">200px</span>;</div><div class="line">      <span class="attribute">text-align</span>: center;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.tab_b</span> <span class="selector-class">.active</span>&#123;</div><div class="line">      <span class="attribute">display</span>: block;</div><div class="line">    &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab_h"</span> <span class="attr">id</span>=<span class="string">"tab_h"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span>tab1<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>tab2<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>tab3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab_b"</span> <span class="attr">id</span>=<span class="string">"tab_b"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span>con1<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>con2<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>con3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> tabHeadLi = <span class="built_in">document</span>.getElementById(<span class="string">'tab_h'</span>).querySelectorAll(<span class="string">'li'</span>);</div><div class="line">      <span class="keyword">var</span> tabBdLi = <span class="built_in">document</span>.getElementById(<span class="string">'tab_b'</span>).querySelectorAll(<span class="string">'li'</span>);</div><div class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;tabHeadLi.length;i++)&#123;</div><div class="line">        tabHeadLi[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;tabHeadLi.length;i++)&#123;</div><div class="line">            tabHeadLi[i].className = <span class="string">''</span>;</div><div class="line">            tabBdLi[i].className = <span class="string">''</span>;</div><div class="line">          &#125;</div><div class="line">          <span class="keyword">this</span>.className = <span class="string">"active"</span>;</div><div class="line">          tabBdLi[i].className = <span class="string">"active"</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a><code>const</code></h2><ul>
<li>变量一经声明不能被改变,一般用于防止命名上的冲突，或者一些错误的修改。</li>
<li>对于复合型数据，变量名指向的不是数据，而是数据地址。const只是保证变量名指向的地址不变，并不保证该地址的数据不变。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">const</span> obj = &#123;&#125;</div><div class="line">      obj.name = <span class="string">'weison'</span>;</div><div class="line">      <span class="built_in">console</span>.log(obj.name);</div><div class="line">      <span class="keyword">const</span> obj = &#123;<span class="attr">age</span> : <span class="number">20</span>&#125;; <span class="comment">// =&gt;由于赋值给一个新的对象，改变了地址，所以会报错。Uncaught SyntaxError: Identifier 'obj' has already been declared</span></div><div class="line">    &#125;</div><div class="line">  &lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h1 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h1><p>  本质上，这种写法属于“模式匹配”，只要等号两边的模式相同，左右的变量就会被赋予对应的值</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>按照位置对应关系对变量赋值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; <span class="comment">//</span></div><div class="line">  <span class="built_in">console</span>.log(c); <span class="comment">//3</span></div><div class="line"></div><div class="line">  <span class="keyword">let</span> [x,,y] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">  <span class="built_in">console</span>.log(x,y); <span class="comment">// 1 3</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> [e,f] = [<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>]];</div><div class="line">  <span class="built_in">console</span>.log(e,f); <span class="comment">// =&gt; 1 [2, 3]</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>对象的解构是根据属性名对应的，不用考虑顺序<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="comment">//相同属性名的写法</span></div><div class="line">  <span class="keyword">let</span> &#123;str,obj,arr&#125; = &#123;</div><div class="line">      <span class="attr">fn</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(fn)&#125;,</div><div class="line">      <span class="attr">str</span> : <span class="string">'字符串'</span>,</div><div class="line">      <span class="attr">arr</span> : [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">      <span class="attr">obj</span> : &#123;<span class="attr">name</span> : <span class="string">'obj'</span>&#125;</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(str,obj,arr); <span class="comment">//=&gt; 字符串 &#123;name: "obj"&#125; [1, 2, 3]</span></div><div class="line"></div><div class="line">  <span class="comment">//不同属性名 右侧对应的属性名：新的属性名</span></div><div class="line">  <span class="keyword">let</span> &#123;<span class="attr">d</span>:c,<span class="attr">e</span>:d&#125; = &#123;<span class="attr">d</span>:<span class="string">'css'</span>,<span class="attr">e</span>:<span class="string">'angualrjs'</span>&#125;</div><div class="line">  <span class="built_in">console</span>.log(c,d);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ol>
<li>从对象中取出对应的值</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">objFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">name</span> : <span class="string">'weison'</span>,</div><div class="line">      <span class="attr">age</span>  : <span class="number">27</span>,</div><div class="line">      <span class="attr">obj</span> : <span class="string">'FE'</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> &#123;name,age&#125; = objFn();</div><div class="line">  <span class="built_in">console</span>.log(name,age); <span class="comment">// =&gt; weison 27</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li>值的交换</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> x = <span class="number">10</span>,</div><div class="line">    y = <span class="number">20</span>;</div><div class="line">  <span class="keyword">var</span> [x,y] = [y,x];</div><div class="line">  <span class="built_in">console</span>.log(x,y); <span class="comment">// =&gt; 20 10</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h1 id="字符串扩展"><a href="#字符串扩展" class="headerlink" title="字符串扩展"></a>字符串扩展</h1><h2 id="str-codePointAt-返回字符对应的编码"><a href="#str-codePointAt-返回字符对应的编码" class="headerlink" title="str.codePointAt() 返回字符对应的编码"></a><code>str.codePointAt()</code> 返回字符对应的编码</h2><p>js使用utf-16来储存字符，每个字符固定占2个字节。对于需要4个字节来储存的字符（unicode码点大于0xFFF的字符），javascript会认为是两个字符。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> s = <span class="string">'𠮷'</span>;</div><div class="line">  s.codePointAt(<span class="number">0</span>); <span class="comment">// =&gt;134071</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="String-fromCodePoint-返回编码对应的字符"><a href="#String-fromCodePoint-返回编码对应的字符" class="headerlink" title="String.fromCodePoint()返回编码对应的字符"></a><code>String.fromCodePoint()</code>返回编码对应的字符</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="built_in">String</span>.fromCodePoint(<span class="number">134071</span>); <span class="comment">// =&gt; "𠮷"</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="str-repeat-n-重复生成字符串"><a href="#str-repeat-n-重复生成字符串" class="headerlink" title="str.repeat(n)重复生成字符串"></a><code>str.repeat(n)</code>重复生成字符串</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> str = <span class="string">"weison"</span>;</div><div class="line">  str.repeat(<span class="number">3</span>); <span class="comment">//=&gt; "weisonweisonweison"</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p>反引号``里面放模板内容，它可以用来串联多行字符串及引入变量${} ,在{}中可以进行运算，也可以进行引用对象的属性<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> name = <span class="string">"weison"</span>;</div><div class="line">  <span class="keyword">var</span> age = <span class="number">25</span>;</div><div class="line">  <span class="keyword">var</span> str = <span class="string">`<span class="subst">$&#123;name&#125;</span> is <span class="subst">$&#123;age+<span class="number">2</span>&#125;</span> years old`</span>;</div><div class="line">  <span class="built_in">console</span>.log(str); <span class="comment">// weison is 27 years old</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="unicode表示法"><a href="#unicode表示法" class="headerlink" title="unicode表示法"></a>unicode表示法</h2><p>javascript允许采用”uXXXX”表示一个字符，其实XXXX表示字符编码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"\u0061"</span>); <span class="comment">// =&gt; a</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p>但这个表示只能限于\u0000 ~ uFFFF之间的字符，超出这个字节以双字节表示<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"\uD842\uDFB7"</span>); <span class="comment">// =&gt; 𠮷</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p>es6中对这一点进行了改变，只要将码点放在大括号内，就能正确解读<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"> <span class="built_in">console</span>.log(<span class="string">"\u&#123;20BB7&#125;"</span>);<span class="comment">// =&gt; 𠮷 </span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="str-includes"><a href="#str-includes" class="headerlink" title="str.includes()"></a><code>str.includes()</code></h2><p>查看字符串中是否包含特定字符，返回布尔值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> name = <span class="string">"weison"</span>;</div><div class="line">  name.includes(<span class="string">'so'</span>); <span class="comment">// = &gt; true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="str-startsWith"><a href="#str-startsWith" class="headerlink" title="str.startsWith()"></a><code>str.startsWith()</code></h2><p>查找的字符串是不是字符串的首位(可以是多个字符)，返回布尔值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> name = <span class="string">"weison"</span>;</div><div class="line"> name.startsWith(<span class="string">'w'</span>); <span class="comment">// = &gt; true</span></div><div class="line"> name.startsWith(<span class="string">'wei'</span>); <span class="comment">// = &gt; true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="str-endsWith"><a href="#str-endsWith" class="headerlink" title="str.endsWith()"></a><code>str.endsWith()</code></h2><p>查找的字符串是不是字符串的尾部(可以是多个字符)，返回布尔值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"> <span class="keyword">var</span> name = <span class="string">"weison"</span>;</div><div class="line"> name.endsWith(<span class="string">'n'</span>); <span class="comment">// = &gt; true</span></div><div class="line"> name.endsWith(<span class="string">'on'</span>); <span class="comment">// = &gt; true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="数字扩展"><a href="#数字扩展" class="headerlink" title="数字扩展"></a>数字扩展</h1><h2 id="二进制与八进制"><a href="#二进制与八进制" class="headerlink" title="二进制与八进制"></a>二进制与八进制</h2><ol>
<li>二进制<code>0b</code></li>
<li>八进制<code>0o</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num1 = <span class="number">0b11</span>, <span class="comment">//二进制</span></div><div class="line"><span class="keyword">var</span> num2 = <span class="number">0o11</span>; <span class="comment">//八进制</span></div><div class="line"><span class="built_in">console</span>.log(num1,num2); <span class="comment">// =》 3，9</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Math对象扩展"><a href="#Math对象扩展" class="headerlink" title="Math对象扩展"></a>Math对象扩展</h2><h3 id="Math-trunc-省略小数"><a href="#Math-trunc-省略小数" class="headerlink" title="Math.trunc 省略小数"></a><code>Math.trunc</code> 省略小数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.trunc(<span class="number">1.5678</span>)); <span class="comment">// =&gt; 1</span></div></pre></td></tr></table></figure>
<h3 id="Math-sign-判断数值是负数，正数还是0"><a href="#Math-sign-判断数值是负数，正数还是0" class="headerlink" title="Math.sign() 判断数值是负数，正数还是0"></a><code>Math.sign()</code> 判断数值是负数，正数还是0</h3><ul>
<li>正数时，返回1</li>
<li>负数时，返回-1</li>
<li>0时，看是+0还是-0<br>这个方法的重点是可以判断是否为正0还是-0<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.sign(<span class="number">-5</span>)); <span class="comment">// =》-1</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.sign(<span class="number">4</span>));  <span class="comment">// =》 1</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.sign(<span class="number">0</span>));  <span class="comment">// =》 0</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.sign(<span class="number">-0</span>)); <span class="comment">// =》-0</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Math-hypot-勾股定理"><a href="#Math-hypot-勾股定理" class="headerlink" title="Math.hypot()勾股定理"></a><code>Math.hypot()</code>勾股定理</h3><p>返回所有参数的平方和的平方根<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.hypot(<span class="number">3</span>,<span class="number">4</span>)); <span class="comment">// =&gt;5,相当于3的平方加上4的平方，最后再开方</span></div></pre></td></tr></table></figure></p>
<h1 id="数组扩展"><a href="#数组扩展" class="headerlink" title="数组扩展"></a>数组扩展</h1><h2 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a><code>Array.from()</code></h2><p>用于将两类对象转换成真正的数组</p>
<ol>
<li>类数组的对象(array-like object)。所谓类数组对象，本质特征是必须要有<code>length</code>属性。因此，只有对象有<code>length</code>属性，就可以通过<code>Array.from()</code>转换成真正的数组</li>
<li>可遍历(ierable)的对象(包括ES6新增的数据结构<code>Set</code>和<code>Map</code>)<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><h4 id="DOM操作的NodeList集合转换为真正数组"><a href="#DOM操作的NodeList集合转换为真正数组" class="headerlink" title="DOM操作的NodeList集合转换为真正数组"></a>DOM操作的NodeList集合转换为真正数组</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>);</div><div class="line">	<span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(oDiv));</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="函数内部的arguments对象"><a href="#函数内部的arguments对象" class="headerlink" title="函数内部的arguments对象"></a>函数内部的arguments对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="字符串也是类数组，也可以转换成数组"><a href="#字符串也是类数组，也可以转换成数组" class="headerlink" title="字符串也是类数组，也可以转换成数组"></a>字符串也是类数组，也可以转换成数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="string">'weison'</span>)); <span class="comment">//=&gt;["w", "e", "i", "s", "o", "n"]</span></div></pre></td></tr></table></figure>
<h2 id="Array-of-把参数变成数组的内容"><a href="#Array-of-把参数变成数组的内容" class="headerlink" title="Array.of()把参数变成数组的内容"></a><code>Array.of()</code>把参数变成数组的内容</h2><p>主要解决使用<code>new Array()</code>或者<code>Array()</code>当所传递的参数只有一个是，它会生成指定个数的空数据<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">5</span>);</div><div class="line">  <span class="built_in">console</span>.log(arr,arr.length); <span class="comment">//=&gt; [] 5</span></div><div class="line">  <span class="keyword">var</span> arr2 = <span class="built_in">Array</span>.of(<span class="number">5</span>);</div><div class="line">  <span class="built_in">console</span>.log(arr2,arr2.length); <span class="comment">// =&gt; [5] 1</span></div><div class="line">  <span class="keyword">var</span> arr3 = <span class="built_in">Array</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line">  <span class="built_in">console</span>.log(arr3); <span class="comment">// =&gt; [1,2,3,4]</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="arr-find"><a href="#arr-find" class="headerlink" title="arr.find()"></a><code>arr.find()</code></h2><p>数组实例上的方法，用于找出第1个符合条件的数组成员。它的参数是一个回调函数，所有数组成员依次执行回调函数</p>
<ul>
<li>查找出第一个返回为true的成员</li>
<li>如果都不成员，返回<code>undefined</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">  <span class="comment">/**</span></div><div class="line">   * @param  &#123;[type]&#125; value  [当前被遍历的数组成员]</div><div class="line">   * @param  &#123;[type]&#125; index  [当前成员的索引值]</div><div class="line">   * @param  &#123;[type]&#125; arr    [原数组]</div><div class="line">   * @return &#123;[Booean]&#125;      [返回第一个符合条件的成员]</div><div class="line">   */</div><div class="line">  <span class="keyword">var</span> n = arr.find(<span class="function"><span class="keyword">function</span>(<span class="params">value,index,arr</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> value &gt; <span class="number">2</span>;</div><div class="line">  &#125;);</div><div class="line">  <span class="built_in">console</span>.log(n); <span class="comment">// =&gt; 3 返回第一个符合条件的内容</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="arr-findIndex"><a href="#arr-findIndex" class="headerlink" title="arr.findIndex()"></a><code>arr.findIndex()</code></h2><ul>
<li>返回第一个符合条件的数组元素位置,跟<code>arr.find()</code>很相似。如果所有成员都不成立，则返回-1</li>
<li>两个方法都可以查找出<code>NaN</code>,可以弥补<code>indexOf</code>方法的不足</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="comment">/**</span></div><div class="line">   * @param  &#123;[type]&#125; value  [当前被遍历的数组成员]</div><div class="line">   * @param  &#123;[type]&#125; index  [当前成员的索引值]</div><div class="line">   * @param  &#123;[type]&#125; arr    [原数组]</div><div class="line">   * @return &#123;[Booean]&#125;      [返回第一个符合条件的成员的索引值]</div><div class="line">   */</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>].findIndex(<span class="function">(<span class="params">value,index,arr</span>) =&gt;</span> value &gt; <span class="number">7</span>); <span class="comment">// 4</span></div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>,<span class="number">4</span>,<span class="number">8</span>].indexOf(<span class="literal">NaN</span>); <span class="comment">// -1</span></div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="literal">NaN</span>,<span class="number">4</span>,<span class="number">8</span>].findIndex(<span class="function">(<span class="params">value,index,arr</span>) =&gt;</span> <span class="built_in">Object</span>.is(<span class="literal">NaN</span>,value)); <span class="comment">// 2</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="arr-fill-value-start-end-数组填充"><a href="#arr-fill-value-start-end-数组填充" class="headerlink" title="arr.fill(value, start, end)数组填充"></a><code>arr.fill(value, start, end)</code>数组填充</h2><ul>
<li>value 当前填充数值的内容</li>
<li>start 填充开始的位置</li>
<li>end   填充结束的位置(不包含end位)</li>
<li>返回修改后的数组。<br>start 和 end 参数是可选的, 其默认值分别为 0 和 this 对象的 length 属性值.</li>
<li>如果 start 是个负数, 则开始索引会被自动计算成为 length+start, 其中 length 是 this 对象的 length 属性值. </li>
<li>如果 end 是个负数, 则结束索引会被自动计算成为 length+end.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].fill(); <span class="comment">// =&gt;[undefined, undefined, undefined, undefined]</span></div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].fill(<span class="number">1</span>); <span class="comment">// =&gt;[1, 1, 1, 1]</span></div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].fill(<span class="number">8</span>,<span class="number">0</span>,<span class="number">2</span>); <span class="comment">// =&gt;[8, 8, 3, 4]</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="for-of-遍历数据的value值"><a href="#for-of-遍历数据的value值" class="headerlink" title="for..of 遍历数据的value值"></a><code>for..of</code> 遍历数据的value值</h2><p>要该数据类型有遍历接口(有length属性)</p>
<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> arr)&#123;</div><div class="line">    <span class="built_in">console</span>.log(value);</div><div class="line">  &#125;   </div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="遍历字符串"><a href="#遍历字符串" class="headerlink" title="遍历字符串"></a>遍历字符串</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> str = <span class="string">'weison'</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> arr)&#123;</div><div class="line">    <span class="built_in">console</span>.log(value); <span class="comment">// =&gt; w e i s o n</span></div><div class="line">  &#125;   </div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="使用keys-来返回对象的key值"><a href="#使用keys-来返回对象的key值" class="headerlink" title="使用keys()来返回对象的key值"></a>使用<code>keys()</code>来返回对象的key值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">   <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">of</span> arr.keys())&#123;</div><div class="line">    <span class="built_in">console</span>.log(key); <span class="comment">// =&gt;数组的Key值是索引值 0 1 2 3</span></div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="使用entries来同时遍历key和value值"><a href="#使用entries来同时遍历key和value值" class="headerlink" title="使用entries来同时遍历key和value值"></a>使用<code>entries</code>来同时遍历key和value值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">   <span class="keyword">for</span>(<span class="keyword">var</span> [key,value] <span class="keyword">of</span> arr.entries())&#123;</div><div class="line">    <span class="built_in">console</span>.log(key,value)</div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="数组推导"><a href="#数组推导" class="headerlink" title="数组推导"></a>数组推导</h2><p>允许直接从已有的数组直接生成新的数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="comment">// 暂时只在firefox可使用</span></div><div class="line">  <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">  <span class="keyword">var</span> arr2 = [<span class="keyword">for</span> (value <span class="keyword">of</span> arr) value * <span class="number">10</span>];</div><div class="line">  <span class="built_in">console</span>.log(arr2);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<h1 id="对象扩展"><a href="#对象扩展" class="headerlink" title="对象扩展"></a>对象扩展</h1><h2 id="简洁表示法"><a href="#简洁表示法" class="headerlink" title="简洁表示法"></a>简洁表示法</h2><h3 id="属性的简洁表示法"><a href="#属性的简洁表示法" class="headerlink" title="属性的简洁表示法"></a>属性的简洁表示法</h3><p>es6允许对象中只写属性名，不写属性值。这时，属性名等于属性名所代表的属性值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> foo = <span class="string">'bar'</span>;</div><div class="line">  <span class="keyword">var</span> baz = &#123;foo&#125;; <span class="comment">// 等价于 var baz = &#123;foo:foo&#125;</span></div><div class="line">  <span class="built_in">console</span>.log(baz); <span class="comment">// =&gt;&#123;foo: "bar"&#125;</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">x,y</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;x,y&#125; <span class="comment">// 等价于 return &#123;x:x,y:y&#125;</span></div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(fn(<span class="number">3</span>,<span class="number">4</span>)); <span class="comment">//Object &#123;x: 3, y: 4&#125;  </span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="方法的简洁表示法"><a href="#方法的简洁表示法" class="headerlink" title="方法的简洁表示法"></a>方法的简洁表示法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> obj = &#123; <span class="attr">name</span>:<span class="string">'weison'</span>,</div><div class="line">              show()&#123; <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)&#125; <span class="comment">// 等价于 show : function()&#123;console.log(this.name)&#125;</span></div><div class="line">            &#125;</div><div class="line">  obj.show(); <span class="comment">//weison</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="属性名的表达式"><a href="#属性名的表达式" class="headerlink" title="属性名的表达式"></a>属性名的表达式</h2><p>es6允许字面量定义对象时，用表达式作为对象的属性名，即把表达式放在方括号内<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">   <span class="keyword">var</span> a1 = <span class="string">"age"</span></div><div class="line">   <span class="keyword">var</span> obj = &#123;</div><div class="line">       <span class="attr">name</span> : <span class="string">'weison'</span>,</div><div class="line">       [a1] : <span class="number">27</span>,</div><div class="line">       [<span class="string">'get'</span>+<span class="string">'Name'</span>]()&#123;</div><div class="line">          <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">       &#125;  </div><div class="line">   &#125;</div><div class="line">   obj.getName(); <span class="comment">// =&gt; weison</span></div><div class="line">   obj[a1];</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<ul>
<li>注意属性名表达式与简洁表达式不能同时使用，否则会报错<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="comment">// 报错</span></div><div class="line">  <span class="keyword">var</span> foo = <span class="string">"bar"</span>;</div><div class="line">  <span class="keyword">var</span> bar = <span class="string">'abc'</span>;</div><div class="line">  <span class="keyword">var</span> baz = &#123;[foo]&#125;</div><div class="line"></div><div class="line">  <span class="comment">//正确</span></div><div class="line">  <span class="keyword">var</span> foo = <span class="string">"bar"</span></div><div class="line">  <span class="keyword">var</span> baz = &#123;[foo]:<span class="string">'abc'</span>&#125;;</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Object-is-判断传入的参数是否相等"><a href="#Object-is-判断传入的参数是否相等" class="headerlink" title="Object.is()判断传入的参数是否相等"></a><code>Object.is()</code>判断传入的参数是否相等</h2><p>跟<code>===</code>类似，不过比·<code>===</code>强大</p>
<ol>
<li><p>可以判断0与-0</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="string">'user strict'</span>;</div><div class="line">  <span class="number">0</span> === <span class="number">-0</span>; <span class="comment">//=&gt;true</span></div><div class="line">  <span class="built_in">Object</span>.is(<span class="number">0</span>,<span class="number">-0</span>); <span class="comment">//false</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>判断<code>NaN</code>为true</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>); <span class="comment">//=&gt; true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Object-assign-target-source1-source2"><a href="#Object-assign-target-source1-source2" class="headerlink" title="Object.assign(target,source1,source2)"></a><code>Object.assign(target,source1,source2)</code></h2><ul>
<li>合并对象中可枚举的属性，添加到第一个参数上,类似的jquery的<code>$.extend()</code>方法</li>
<li>假如目标对象于源对象有同名属性，或者多个源对象有重名的属性，则后面的属性会覆盖前面的属性</li>
<li>只要有一个参数不是对象，就会抛出<code>TypeError</code>错误</li>
<li>不可枚举的属性（<code>enumerable</code>为<code>false</code>）和继承的属性不会被复制</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">'name1'</span>&#125;</div><div class="line">  <span class="keyword">var</span> obj2 = &#123;<span class="attr">name</span>:<span class="string">'name2'</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</div><div class="line">  <span class="keyword">var</span> obj3 = &#123;<span class="attr">name</span>:<span class="string">''</span>,<span class="attr">hobby</span>:<span class="string">'sport'</span>&#125;</div><div class="line">  <span class="keyword">var</span> assignObj = <span class="built_in">Object</span>.assign(obj,obj2,obj3); <span class="comment">//Object &#123;name: "", age: 20, hobby: "sport"&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> target = &#123;&#125;;</div><div class="line">  <span class="keyword">var</span> source1 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</div><div class="line">  <span class="keyword">var</span> source2 = &#123;<span class="attr">a</span>:<span class="number">2</span>,<span class="attr">b</span>:<span class="number">3</span>&#125;;</div><div class="line">  <span class="built_in">Object</span>.assign(target,source1,source2,<span class="built_in">Object</span>.defineProperty(&#123;&#125;,<span class="string">'invisible'</span>,&#123;</div><div class="line">     <span class="attr">enumerable</span>:<span class="literal">false</span>,</div><div class="line">     <span class="attr">value</span> : <span class="string">'hello'</span></div><div class="line">  &#125;));</div><div class="line">  <span class="built_in">console</span>.log(target); <span class="comment">// =&gt; &#123;a: 2, b: 3&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Object-getPrototypeOf-object"><a href="#Object-getPrototypeOf-object" class="headerlink" title="Object.getPrototypeOf(object)"></a><code>Object.getPrototypeOf(object)</code></h2><p>获取一个对象的prototype属性<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span>  Company = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  Company.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">  Company.prototype.speak = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'speak'</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> IBM = <span class="keyword">new</span> Company(<span class="string">'IBM'</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(IBM));</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<h2 id="Object-setPrototypeOf-object-prototype"><a href="#Object-setPrototypeOf-object-prototype" class="headerlink" title="Object.setPrototypeOf(object,prototype)"></a><code>Object.setPrototypeOf(object,prototype)</code></h2><p>设置一个对象的prototype对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span>  Company = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  Company.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">  Company.prototype.speak = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'speak'</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> IBM = <span class="keyword">new</span> Company(<span class="string">'IBM'</span>);</div><div class="line">  <span class="keyword">var</span> test = &#123;&#125;;</div><div class="line">  <span class="built_in">Object</span>.setPrototypeOf(test,<span class="built_in">Object</span>.getPrototypeOf(IBM));</div><div class="line">  <span class="built_in">console</span>.log(test);</div><div class="line">  test.speak(); <span class="comment">//=&gt; 'speak'</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="proxy代理服务"><a href="#proxy代理服务" class="headerlink" title="proxy代理服务"></a><code>proxy</code>代理服务</h2><p>Proxy 对象用来为基础操作（例如：属性查找(get)、赋值(set)、枚举、方法调用等）定义用户自定义行为<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="external">mdn-Proxy</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;&#125;,&#123;</div><div class="line">    get(target,key,receiver)&#123;</div><div class="line"></div><div class="line">    &#125;,</div><div class="line">    set()&#123;&#125;</div><div class="line">  &#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="访问属性值，当该属性值不存时，默认返回25"><a href="#访问属性值，当该属性值不存时，默认返回25" class="headerlink" title="访问属性值，当该属性值不存时，默认返回25"></a>访问属性值，当该属性值不存时，默认返回25</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> hander = &#123;</div><div class="line">    <span class="attr">get</span> : <span class="function"><span class="keyword">function</span>(<span class="params">target,name</span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> name <span class="keyword">in</span> target ? target[name] : <span class="number">25</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;<span class="attr">name</span>:<span class="string">'weison'</span>&#125;,hander);</div><div class="line">  <span class="built_in">console</span>.log(obj.age); <span class="comment">// =&gt; 25</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'age'</span> <span class="keyword">in</span> obj); <span class="comment">// =&gt; false</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="无操作转发代理"><a href="#无操作转发代理" class="headerlink" title="无操作转发代理"></a>无操作转发代理</h3><p>代理会将所有应用到它的操作转发到这个对象上,如对代理进行赋值，那么也会同时赋值给被代理虚拟化的对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> target = &#123;&#125;,</div><div class="line">      obj1 = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target,&#123;&#125;);</div><div class="line">  target.name = <span class="string">'weison'</span>;</div><div class="line">  <span class="built_in">console</span>.log(obj1); <span class="comment">// &#123;name:'weison'&#125;</span></div><div class="line">  obj1.age = <span class="number">25</span>;</div><div class="line">  <span class="built_in">console</span>.log(target); <span class="comment">// Object &#123;name: "weison", age: 25&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="Object-keys-获取对象的所有Key值"><a href="#Object-keys-获取对象的所有Key值" class="headerlink" title="Object.keys()获取对象的所有Key值"></a><code>Object.keys()</code>获取对象的所有Key值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">name</span> : <span class="string">'weison'</span>,</div><div class="line">    <span class="attr">age</span> : <span class="number">25</span></div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj)); <span class="comment">// =&gt; ["name", "age"]</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.ownKeys(obj)); <span class="comment">// =&gt; ["name", "age"] 方法的作用跟Object.keys()一样</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h1 id="函数的扩展"><a href="#函数的扩展" class="headerlink" title="函数的扩展"></a>函数的扩展</h1><h2 id="函数默认值"><a href="#函数默认值" class="headerlink" title="函数默认值"></a>函数默认值</h2><ol>
<li>默认值必须是末尾的参数，因为一旦设置了默认值，就代表这个参数是可以被忽略的</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a=<span class="number">1</span>,b=<span class="number">2</span></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(a+b);</div><div class="line">  &#125;    </div><div class="line">  fn(); <span class="comment">// =&gt; 3</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h2><p>把没有形参对象的值保存下来，<code>...</code>+变量名<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a,b,c,...rest</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(...rest);</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(fn(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)); <span class="comment">// =&gt; 4 5 6 7s</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h2><p>把数组或类数组,或有遍历接口的数据折分,并用逗号串联起来<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> str = <span class="string">"weison"</span>;</div><div class="line">  <span class="keyword">var</span> arr = [...str]; <span class="comment">// =&gt; ["w", "e", "i", "s", "o", "n"]</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>作为一个回调函数来使用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  arr.sort(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a-b ) <span class="comment">// =&gt;等价于 arr.sort(function(a,b)&#123; return a-b&#125;);</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<ul>
<li>箭头函数的this对象，绑定的是定义时的对象，而不是使用时所在的对象</li>
<li>不可以当作构造函数，因为不能使用new命令</li>
<li>该函数体内不存在<code>arguments</code>对象</li>
</ul>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="set"><a href="#set" class="headerlink" title="set"></a><code>set</code></h2><p>作为一种新的数据结构，它不允许重复值的产生，有重复值会删除多余的<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>]);</div><div class="line">  <span class="built_in">console</span>.log(set); <span class="comment">// =&gt; Set &#123;1, 2, 3, 4, 5&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="set-size实例成员个数"><a href="#set-size实例成员个数" class="headerlink" title="set.size实例成员个数"></a><code>set.size</code>实例成员个数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>]);</div><div class="line">  <span class="built_in">console</span>.log(set.size); <span class="comment">//  5</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="set-add-增加成员"><a href="#set-add-增加成员" class="headerlink" title="set.add()增加成员"></a><code>set.add()</code>增加成员</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>]);</div><div class="line">  set.add(<span class="number">8</span>);</div><div class="line">  <span class="built_in">console</span>.log(set.size); <span class="comment">// =&gt; 6</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="set-delete-成员的值-删除成员"><a href="#set-delete-成员的值-删除成员" class="headerlink" title="set.delete(成员的值)删除成员"></a><code>set.delete(成员的值)</code>删除成员</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</div><div class="line">  set.delete(<span class="number">3</span>);</div><div class="line">  <span class="built_in">console</span>.log(set);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h3 id="set-has-查找是否包含某个成员"><a href="#set-has-查找是否包含某个成员" class="headerlink" title="set.has()查找是否包含某个成员"></a><code>set.has()</code>查找是否包含某个成员</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">8</span>]);</div><div class="line">  <span class="built_in">console</span>.log(set.has(<span class="number">8</span>)); <span class="comment">// true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="set-clear-清空所有数据"><a href="#set-clear-清空所有数据" class="headerlink" title="set.clear()清空所有数据"></a><code>set.clear()</code>清空所有数据</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">8</span>]);</div><div class="line">  <span class="built_in">console</span>.log(set.clear()); <span class="comment">// =&gt; &#123;&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="new-Map-key-value"><a href="#new-Map-key-value" class="headerlink" title="new Map([key,value])"></a><code>new Map([key,value])</code></h2><ul>
<li>它是一个构造函数，以键值对形式出现。</li>
<li>不允许重复的值,如果重复，后面的值会覆盖前面的值</li>
<li>可以使用对象来充当<code>key</code>值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">n1</span> : <span class="string">'text1'</span>,</div><div class="line">    <span class="attr">n2</span> : <span class="string">"text2"</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]); <span class="comment">// Map &#123;"name" =&gt; "weison", "age" =&gt; 26&#125;    </span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-size返回成员数量"><a href="#map-size返回成员数量" class="headerlink" title="map.size返回成员数量"></a><code>map.size</code>返回成员数量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">   <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">   <span class="built_in">console</span>.log(weison.size); <span class="comment">// =&gt; 2</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-set-key-value-添加值"><a href="#map-set-key-value-添加值" class="headerlink" title="map.set(key,value)添加值"></a><code>map.set(key,value)</code>添加值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"> <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line"> weison.set(<span class="string">'name'</span>,<span class="string">'weison'</span>);</div><div class="line"> <span class="built_in">console</span>.log(weison); <span class="comment">// Map &#123;"name" =&gt; "weison"&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-get-key-获取值"><a href="#map-get-key-获取值" class="headerlink" title="map.get(key)获取值"></a><code>map.get(key)</code>获取值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="built_in">console</span>.log(weison.get(<span class="string">'age'</span>)); <span class="comment">// 26</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-has-key-查找是否包含某个成员"><a href="#map-has-key-查找是否包含某个成员" class="headerlink" title="map.has(key)查找是否包含某个成员"></a><code>map.has(key)</code>查找是否包含某个成员</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="built_in">console</span>.log(weison.has(<span class="string">'job'</span>)); <span class="comment">// false</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-delete-key-删除包含某个成员"><a href="#map-delete-key-删除包含某个成员" class="headerlink" title="map.delete(key)删除包含某个成员"></a><code>map.delete(key)</code>删除包含某个成员</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="built_in">console</span>.log(weison.delete(<span class="string">'job'</span>)); <span class="comment">// &#123;"name" =&gt; "weison"&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-clear-删除所有成员"><a href="#map-clear-删除所有成员" class="headerlink" title="map.clear()删除所有成员"></a><code>map.clear()</code>删除所有成员</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="built_in">console</span>.log(weison.clear()); <span class="comment">// Map &#123;&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-keys-遍历所有key值"><a href="#map-keys-遍历所有key值" class="headerlink" title="map.keys()遍历所有key值"></a><code>map.keys()</code>遍历所有key值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">of</span> weison.keys())&#123;</div><div class="line">    <span class="built_in">console</span>.log(key); <span class="comment">// =&gt; name age</span></div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-values-遍历所有value值"><a href="#map-values-遍历所有value值" class="headerlink" title="map.values()遍历所有value值"></a><code>map.values()</code>遍历所有value值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> weison.values())&#123;</div><div class="line">    <span class="built_in">console</span>.log(value); <span class="comment">// =&gt; 'weison' 26]</span></div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-entries-遍历key和value值"><a href="#map-entries-遍历key和value值" class="headerlink" title="map.entries()遍历key和value值"></a><code>map.entries()</code>遍历key和value值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="keyword">var</span> weison = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'name'</span>,<span class="string">'weison'</span>],[<span class="string">"age"</span>,<span class="number">26</span>]]);</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> [key,value] <span class="keyword">of</span> weison.entries())&#123;</div><div class="line">    <span class="built_in">console</span>.log(key,value); <span class="comment">// =&gt; name weison   age 26</span></div><div class="line">  &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="map-forEach-function-value-key-遍历key和value值"><a href="#map-forEach-function-value-key-遍历key和value值" class="headerlink" title="map.forEach(function(value,key){})遍历key和value值"></a><code>map.forEach(function(value,key){})</code>遍历key和value值</h3><p>待深入问题</p>
<ul>
<li>箭头函数的this指向</li>
<li><code>proxy</code>代理的使用</li>
<li>扩展运算符的使用</li>
</ul>
<p>参考链接</p>
<ul>
<li>阮一峰 ES6 标准入门</li>
<li><a href="http://www.zcfy.cc/article/using-es6-arrow-functions-in-production-ready-apps-2372.html" target="_blank" rel="external">使用 ES6 箭头函数</a></li>
<li><a href="http://www.zcfy.cc/article/6-compelling-use-cases-for-es6-proxies-888.html" target="_blank" rel="external">6种ES6 proxies的使用案例</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/06/19/nodejs/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/19/nodejs/" itemprop="url">
                  nodejs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-19T12:34:44+08:00">
                2016-06-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/19/nodejs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/19/nodejs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h1><ol>
<li>构建高性能web服务器</li>
<li>事件处理机制</li>
<li>异步IO模式
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/06/19/nodejs/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/06/01/angularjs1X-2/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/01/angularjs1X-2/" itemprop="url">
                  angularjs1X-2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-01T22:30:43+08:00">
                2016-06-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/01/angularjs1X-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/01/angularjs1X-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<ol>
<li>安装 npm install angular</li>
</ol>
<h3 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h3><h4 id="MVVM双向绑定"><a href="#MVVM双向绑定" class="headerlink" title="MVVM双向绑定"></a>MVVM双向绑定</h4><p>视图与数据双向绑定，当数据发生变化时，视图会发生改变；当视图发生改变时，数据也会发化变化</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Bbb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"job"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'Bbb'</span>, [<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$rootScope)</span> </span>&#123;</div><div class="line">	$scope.name = <span class="string">'weison'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="模块系统"><a href="#模块系统" class="headerlink" title="模块系统"></a>模块系统</h4><h4 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h4><h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><ol>
<li>angularjs的表达式是通过<code>$parse</code>来进行解释的</li>
</ol>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><ol>
<li><p><code>$scope</code> angular中，所有数据必须挂载在$scope下面才可以在视图中找到。<br>它是一种作用域，仅会作用于它所定义的controller中</p>
</li>
<li><p><code>$rootScope</code>相对于整个页面的作用域,让表达式里的内容可以不放在controller内也可以被读取<br>它们的作用域也类似于js的作用域一样，从近到远，从内到外</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Bbb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"job"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'Bbb'</span>, [<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$rootScope)</span> </span>&#123;</div><div class="line">	$scope.name = <span class="string">'weison'</span>;</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'Aaa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$rootScope)</span> </span>&#123;</div><div class="line">	$rootScope.job = <span class="string">'fontDev'</span>;</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="简单购物车功能"><a href="#简单购物车功能" class="headerlink" title="简单购物车功能"></a>简单购物车功能</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">label</span>&#123;<span class="attribute">display</span>: block;<span class="attribute">margin-bottom</span>:<span class="number">20px</span>;&#125;</div><div class="line"><span class="selector-tag">input</span>&#123;<span class="attribute">margin-left</span>: <span class="number">10px</span>;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">ng-controller</span>=<span class="string">"shopping"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>单价<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"iphone.price"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>数量<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"iphone.num"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>小计<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind</span>=<span class="string">"sum() | currency : '￥'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>邮费<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"iphone.fre"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>合计<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind</span>=<span class="string">"sum() + iphone.fre | currency : '￥'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'shopping'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	<span class="comment">//1.创建双向绑定数据</span></div><div class="line">	$scope.iphone = &#123;</div><div class="line">		<span class="attr">price</span> : <span class="number">10</span>,</div><div class="line">		<span class="attr">num</span> : <span class="number">5</span>,</div><div class="line">		<span class="attr">fre</span> :<span class="number">10</span></div><div class="line">	&#125;</div><div class="line">	<span class="comment">//2.计算出单位*数量的值</span></div><div class="line">	$scope.sum = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> $scope.iphone.price * $scope.iphone.num;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//3.利用过滤器currency来格式化金额</span></div><div class="line">	</div><div class="line">	<span class="comment">//4.利用$watch方式监听函数的变化 ,假如小结超过1000元，则免邮</span></div><div class="line">	$scope.$watch($scope.sum,<span class="function"><span class="keyword">function</span>(<span class="params">newVal,oldVal</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(newVal);</div><div class="line">		$scope.iphone.fre = (newVal &gt;= <span class="number">1000</span> ? <span class="number">0</span> : <span class="number">10</span>);</div><div class="line">	&#125;,<span class="literal">true</span>);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="controller-控制器"><a href="#controller-控制器" class="headerlink" title="controller 控制器"></a><code>controller</code> 控制器</h3><p>连接model和view</p>
<h3 id="模块化与压缩"><a href="#模块化与压缩" class="headerlink" title="模块化与压缩"></a>模块化与压缩</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'模块名称'</span>,[<span class="string">'依赖的模块'</span>]);</div><div class="line"><span class="comment">//避免因压缩而出现问题，采用数组的形式</span></div><div class="line">m1.controller(<span class="string">'控制器名字'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<h3 id="工具方法"><a href="#工具方法" class="headerlink" title="工具方法"></a>工具方法</h3><h4 id="angular-bind-改变this的指向"><a href="#angular-bind-改变this的指向" class="headerlink" title="angular.bind()改变this的指向"></a><code>angular.bind()</code>改变this的指向</h4><p>angular.bind(指向的元素,执行的函数)(参数1，参数 2)<br>类似于jquery的$.proxy()<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">n1,n2</span>)</span>&#123;</div><div class="line">	alert(n1+n2);</div><div class="line">	alert(<span class="keyword">this</span>.id);</div><div class="line">&#125;</div><div class="line">angular.bind(<span class="built_in">document</span>.querySelector(<span class="string">'#div1'</span>),test)(<span class="number">2</span>,<span class="number">3</span>);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="angular-copy-拷贝对象"><a href="#angular-copy-拷贝对象" class="headerlink" title="angular.copy()拷贝对象"></a><code>angular.copy()</code>拷贝对象</h4><p>angular.copy(‘参考对象’,’被覆盖的对象’);</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> a = &#123;<span class="attr">age</span> : <span class="number">20</span>&#125;</div><div class="line"><span class="keyword">var</span> b = &#123;<span class="attr">name</span> : <span class="string">'weison'</span>&#125;;</div><div class="line"><span class="keyword">var</span> c = angular.copy(a,b);</div><div class="line"><span class="built_in">console</span>.log(c); <span class="comment">// Object &#123;age: 20&#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span>,b);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h4 id="angular-extend-扩展对象，扩展的参考对象"><a href="#angular-extend-扩展对象，扩展的参考对象" class="headerlink" title="angular.extend(扩展对象，扩展的参考对象)"></a><code>angular.extend(扩展对象，扩展的参考对象)</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> a = &#123;<span class="attr">age</span> : <span class="number">20</span>&#125;</div><div class="line"><span class="keyword">var</span> b = &#123;<span class="attr">name</span> : <span class="string">'weison'</span>&#125;;</div><div class="line"><span class="keyword">var</span> c = angular.extend(b,a);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span>,a); <span class="comment">//a Object &#123;age: 20&#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'b'</span>,b);	<span class="comment">//b Object &#123;name: "weison", age: 20&#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'c'</span>,c); <span class="comment">//c Object &#123;name: "weison", age: 20&#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="判断数据类型"><a href="#判断数据类型" class="headerlink" title="判断数据类型"></a>判断数据类型</h4><ol>
<li><code>angular.isArray(判断内容)</code> 判断是否数组</li>
<li>angular.isData()`  是否时间对象</li>
<li><code>angular.isDefind()</code> 对象是否被定义</li>
<li><code>angular.isUndefined()</code> 对象是否未被定义</li>
<li><code>angular.isFunciton()</code> 判断是否对象</li>
<li><code>angular.isNumber()</code> 判断是否数字类型</li>
<li><code>angular.isObject()</code> 判断是否对象</li>
<li><code>angular.isString()</code> 判断是否为字符串</li>
<li><code>angular.isElement()</code> 判断是否元素</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="built_in">console</span>.log(angular.isArray([])); <span class="comment">// =&gt; true</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-vesion-angular的版本"><a href="#angular-vesion-angular的版本" class="headerlink" title="angular.vesion angular的版本"></a><code>angular.vesion</code> angular的版本</h4><h4 id="angular-equals-判断两个元素是否相等"><a href="#angular-equals-判断两个元素是否相等" class="headerlink" title="angular.equals()判断两个元素是否相等"></a><code>angular.equals()</code>判断两个元素是否相等</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> a = <span class="number">10</span>,</div><div class="line">	b = <span class="number">10</span>,</div><div class="line">	c = <span class="literal">NaN</span>,</div><div class="line">	d = <span class="literal">NaN</span>,</div><div class="line">	e = [],</div><div class="line">	f = [];</div><div class="line"><span class="built_in">console</span>.log(angular.equals(a,b)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(angular.equals(c,d)); <span class="comment">// =&gt; true,不考虑指向不同的对象</span></div><div class="line"><span class="built_in">console</span>.log(angular.equals(c,d)); <span class="comment">// =&gt; true angular中,NaN= NaN</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-forEach"><a href="#angular-forEach" class="headerlink" title="angular.forEach()"></a><code>angular.forEach()</code></h4><p>angular.forEach(数据源,function(数据源的value,数据源的key){<br>    this.push(更改的变化); // this 指向回调的结果<br>},回调的结果);<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> json = &#123;<span class="string">'name'</span>:<span class="string">'weison'</span>,<span class="string">'age'</span>:<span class="number">20</span>&#125;,</div><div class="line">	result = [];</div><div class="line">angular.forEach(json,<span class="function"><span class="keyword">function</span>(<span class="params">value,key</span>)</span>&#123;</div><div class="line">	<span class="keyword">this</span>.push(key + value); <span class="comment">//=&gt;["nameweison", "age20"],注意reslut是一个数组</span></div><div class="line">&#125;,result);</div><div class="line"><span class="built_in">console</span>.log(result);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<h4 id="angular-fromString-toJson"><a href="#angular-fromString-toJson" class="headerlink" title="angular.fromString/toJson"></a><code>angular.fromString/toJson</code></h4><p>类似于JSON.parse() 和JSON.stringify<br>对字符串的json进行解释，和把json转换成字符串<br>angular.toJson(数据源,true),加上true后，会格式化一下字符<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">	<span class="keyword">var</span> str = <span class="string">'&#123;"name":"weison","age":"20"&#125;'</span>;</div><div class="line">	<span class="keyword">var</span> json = angular.fromJson(str);</div><div class="line">	<span class="built_in">console</span>.info(json); <span class="comment">// =&gt; Object &#123;name: "weison", age: "20"&#125;</span></div><div class="line">	<span class="built_in">console</span>.info(angular.toJson(json,<span class="literal">true</span>)); </div><div class="line">	<span class="comment">// &#123;</span></div><div class="line">	<span class="comment">//   "name": "weison",</span></div><div class="line">	<span class="comment">//   "age": "20"</span></div><div class="line">	<span class="comment">// &#125;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="angular-identity-noop设置默认值，避免报错"><a href="#angular-identity-noop设置默认值，避免报错" class="headerlink" title="angular.identity/noop设置默认值，避免报错"></a><code>angular.identity/noop</code>设置默认值，避免报错</h4><h4 id="angular-bootstrap动态初始化angular"><a href="#angular-bootstrap动态初始化angular" class="headerlink" title="angular.bootstrap动态初始化angular"></a><code>angular.bootstrap</code>动态初始化angular</h4><p>angular.bootstrap(初始化的范围，初始化的模块名称)；</p>
<h4 id="scope-apply-监听回调函数内的数据变化"><a href="#scope-apply-监听回调函数内的数据变化" class="headerlink" title="$scope.$apply()监听回调函数内的数据变化"></a><code>$scope.$apply()</code>监听回调函数内的数据变化</h4><p>常用的原生js中，对$scope里的内容进行改变,它是可以直接在第三方的插件或者库内直接使用的</p>
<p>检测一个变量是否发生变化的方法：</p>
<ol>
<li>能通过固定的接口才能修改变量的值。例如只有通过<code>set()</code>方法才能改变变量的值，那么只要<code>set()</code>方法被调用时，对比一下就好了</li>
<li>脏检查，将对象复制一份快照，在某个时间 ，将新的值与这份快照作对比，假如有不同，就证明更新了。这个方法要保留两份数据，而且要遍历对象，比较每个属性，因此比较消耗性能。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-bind</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">$scope.say = <span class="string">"hello"</span>;</div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		$scope.$apply(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			$scope.say = <span class="string">'hi'</span>;</div><div class="line">		&#125;);</div><div class="line">	&#125;,<span class="number">1000</span>);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-module-定义模块"><a href="#angular-module-定义模块" class="headerlink" title="angular.module()定义模块"></a><code>angular.module()</code>定义模块</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">ng-bind</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.run([<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($rootScope)</span></span>&#123;</div><div class="line">	$rootScope.say = <span class="string">'xixi'</span>;</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="angular-run-可以不通过controller来绑定全局变量"><a href="#angular-run-可以不通过controller来绑定全局变量" class="headerlink" title="angular.run() 可以不通过controller来绑定全局变量"></a><code>angular.run()</code> 可以不通过controller来绑定全局变量</h4><p>1。 初始化一些全局的数据，不需要再创建控制器才能访问数据</p>
<ol>
<li>不能挂载局部作用域<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"runText"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.run([<span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($rootScope)</span></span>&#123;</div><div class="line">	$rootScope.runText = <span class="string">'无需绑定controller，即可显示'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="filter过滤器"><a href="#filter过滤器" class="headerlink" title="filter过滤器"></a><code>filter</code>过滤器</h3><p>格式化内容输出结果，和对数据进行筛选（比如大于30的保留）</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; experssion | filter&#125;&#125;	</div><div class="line">&#123;&#123; experssion | filter1 | filter2 &#125;&#125;	</div><div class="line">&#123;&#123; experssion | filter : params1 : params2 ,...&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="currency-货币金额"><a href="#currency-货币金额" class="headerlink" title="currency 货币金额"></a><code>currency</code> 货币金额</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--每三位加一个逗号，并且保留角分 $123,456,789.00  --&gt;</span></div><div class="line">&#123;&#123;123456789 | currency&#125;&#125;	</div><div class="line"></div><div class="line"><span class="comment">&lt;!--参数用于修改货币符号 ￥123,456,789.00--&gt;</span></div><div class="line">&#123;&#123;123456789 | currency : '￥'&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="number-数字化格式"><a href="#number-数字化格式" class="headerlink" title="number 数字化格式"></a><code>number</code> 数字化格式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--每三位加一个逗号 123,456,789  --&gt;</span></div><div class="line">&#123;&#123;123456789 | number&#125;&#125;	</div><div class="line"></div><div class="line"><span class="comment">&lt;!--四舍五入，参数代表保留几位小数 123,456,789.000--&gt;</span></div><div class="line">&#123;&#123;123456789 | number : 3&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="date-格式化时间"><a href="#date-格式化时间" class="headerlink" title="date 格式化时间"></a><code>date</code> 格式化时间</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>处理内容：Mon Aug 01 2016 23:33:59 GMT+0800 (中国标准时间)<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- Aug 1, 2016 11:24:57 PM  --&gt;</span></div><div class="line">  &#123;&#123; today | date : 'medium'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 8/1/16 11:24 PM --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'short'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- Monday, August 1, 2016 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'fullDate'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- August 1, 2016 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'longDate'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- Aug 1, 2016 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'mediumDate'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 11:24:57 PM --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'mediumTime'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 11:24 PM --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'shortTime'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"年份"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 2016--&gt;</span></div><div class="line">	&#123;&#123; today | date : 'y'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 16 省掉前两个数字 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'yy'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 2016--&gt;</span></div><div class="line">	&#123;&#123; today | date : 'yyyy'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"月份"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 8--&gt;</span></div><div class="line">	&#123;&#123; today | date : 'M'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 08 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'MM'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- Aug  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'MMM'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- August --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'MMMM'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"几号"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 1 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'd'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 01 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'dd'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"星期几"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- Mon  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'EEE'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- Monday --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'EEEE'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"小时，24小时制"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 23  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'H'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 23 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'HH'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"小时，12小时制"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 11  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'h'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 11 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'hh'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"分钟"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 43  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'm'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 43 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'mm'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">title</span>=<span class="string">"秒"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 1  --&gt;</span></div><div class="line">	&#123;&#123; today | date : 's'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- 01 --&gt;</span></div><div class="line">	&#123;&#123; today | date : 'ss'&#125;&#125;</div><div class="line">	<span class="comment">&lt;!-- .416 --&gt;</span></div><div class="line">	&#123;&#123; today | date : '.sss'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"组合使用"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 2016-08-1 23:49:31 --&gt;</span></div><div class="line">	&#123;&#123;today | date : 'y-MM-d H:m:s'&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	$scope.today = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="limitTo-截取几条数据"><a href="#limitTo-截取几条数据" class="headerlink" title="limitTo 截取几条数据"></a><code>limitTo</code> 截取几条数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- [1,2,3,4,5] 保留前5个数据 --&gt;</span></div><div class="line">&#123;&#123;[1,2,3,4,5,6,7,8,9] | limitTo:5&#125;&#125;</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- [5,6,7,8,9] 负数时，保留后几位数字 --&gt;</span></div><div class="line">&#123;&#123;[1,2,3,4,5,6,7,8,9] | limitTo: -5&#125;&#125;</div></pre></td></tr></table></figure>
<h4 id="uppercase-lowercase-字母转换成全大写或者小写"><a href="#uppercase-lowercase-字母转换成全大写或者小写" class="headerlink" title="uppercase/lowercase 字母转换成全大写或者小写"></a><code>uppercase/lowercase</code> 字母转换成全大写或者小写</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"uppercase 小写转为大写"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- HELLO ANGULAR --&gt;</span></div><div class="line">	&#123;&#123;'hello ANGULAR' | uppercase&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">"lowercase 大写转为小写"</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- hello angular --&gt;</span></div><div class="line">	&#123;&#123;'hello ANGULAR' | lowercase&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="json-将一个数组或一个对象格式化json格式，主要用于调试"><a href="#json-将一个数组或一个对象格式化json格式，主要用于调试" class="headerlink" title="json 将一个数组或一个对象格式化json格式，主要用于调试"></a><code>json</code> 将一个数组或一个对象格式化json格式，主要用于调试</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"city"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"city | json"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'北京'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'beijing'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'上海1212'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'shangehai'</span>,</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'广州e'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'guangzhou'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">		<span class="built_in">console</span>.log($scope.city);</div><div class="line">		<span class="built_in">console</span>.log($filter(<span class="string">'json'</span>)($scope.city));</div><div class="line">		<span class="comment">// 为了方便调试，当打印在控制台上可以看到格式化好的数据</span></div><div class="line">		<span class="comment">// [</span></div><div class="line">		<span class="comment">//   &#123;</span></div><div class="line">		<span class="comment">//     "name": "北京",</span></div><div class="line">		<span class="comment">//     "py": "beijing"</span></div><div class="line">		<span class="comment">//   &#125;,</span></div><div class="line">		<span class="comment">//   &#123;</span></div><div class="line">		<span class="comment">//     "name": "上海1212",</span></div><div class="line">		<span class="comment">//     "py": "shangehai"</span></div><div class="line">		<span class="comment">//   &#125;,</span></div><div class="line">		<span class="comment">//   &#123;</span></div><div class="line">		<span class="comment">//     "name": "广州e",</span></div><div class="line">		<span class="comment">//     "py": "guangzhou"</span></div><div class="line">		<span class="comment">//   &#125;</span></div><div class="line">		<span class="comment">// ]</span></div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="orderBy-39-排序的依据-39-true-排序"><a href="#orderBy-39-排序的依据-39-true-排序" class="headerlink" title="orderBy : &#39;排序的依据&#39; : [true] 排序"></a><code>orderBy : &#39;排序的依据&#39; : [true]</code> 排序</h4><ol>
<li>假如加上true,就变成了从大到小排序</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;tab2Data | orderBy : 'content' : true&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">		<span class="comment">&lt;!--  默认正向排序 a~z orderBy后面带排序的字段名称</span></div><div class="line">		[&#123;"name":"北京","py":"beijing"&#125;,&#123;"name":"广州e","py":"guangzhou"&#125;,&#123;"name":"上海1212","py":"shangehai"&#125;] --&gt;</div><div class="line">		&#123;&#123;city | orderBy : 'py'&#125;&#125;</div><div class="line">		<span class="comment">&lt;!--  在排序字段前加上负号后变成反向排序 z~a </span></div><div class="line">		[&#123;"name":"上海1212","py":"shangehai"&#125;,&#123;"name":"广州e","py":"guangzhou"&#125;,&#123;"name":"北京","py":"beijing"&#125;]--&gt;</div><div class="line">		&#123;&#123;city | orderBy : '-py'&#125;&#125;</div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			name : <span class="string">'北京'</span>,</div><div class="line">			py : <span class="string">'beijing'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'上海1212'</span>,</div><div class="line">			py : <span class="string">'shangehai'</span>,</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'广州e'</span>,</div><div class="line">			py : <span class="string">'guangzhou'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="商品表单及过滤及排序功能"><a href="#商品表单及过滤及排序功能" class="headerlink" title="商品表单及过滤及排序功能"></a>商品表单及过滤及排序功能</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-tag">table</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</div><div class="line">    <span class="attribute">text-align</span>: center;</div><div class="line">    <span class="attribute">vertical-align</span>: middle;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">td</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">52px</span>;</div><div class="line">    <span class="attribute">border-bottom</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">th</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#236fae</span>;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.up</span>&#123;</div><div class="line">    <span class="attribute">background</span>: red;</div><div class="line">  &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"n1"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"search"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"search"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('brands')"</span>&gt;</span>品牌<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('price')"</span>&gt;</span>价格<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('number')"</span>&gt;</span>数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 利用ng-model进行双向数据绑定，利用filter进行数据过滤</span></div><div class="line">              filter : search 即搜索value值中带有search指向内容的数据</div><div class="line">              filter : &#123;name : search&#125; 只通过键名为name的search值</div><div class="line"></div><div class="line">              orderBy用于排序 </div><div class="line">                dire 决定是升序还是降序</div><div class="line">                type 决定是的排序的类型</div><div class="line">         --&gt;</div><div class="line">        <span class="comment">&lt;!-- &lt;tr ng-repeat="x in data | filter:search"&gt; --&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">tr</span> <span class="attr">ng-repeat</span>=<span class="string">"x in data | filter:&#123;brands:search&#125; | orderBy:(dire+type)"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"x.brands"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"x.price | currency:'￥'"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"x.number"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line">    <span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">   myApp.service(<span class="string">'phone'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      data : [ </div><div class="line">                &#123;brands:<span class="string">'samsung'</span>,price:<span class="number">2999</span>, number:<span class="number">20</span>&#125;,</div><div class="line">                &#123;brands:<span class="string">'apple'</span>,price:<span class="number">4999</span>, number:<span class="number">10</span>&#125;,</div><div class="line">                &#123;brands:<span class="string">'xiaomi'</span>,price:<span class="number">1999</span>, number:<span class="number">388</span>&#125;,</div><div class="line">            ]</div><div class="line">    &#125;</div><div class="line">   &#125;])</div><div class="line">    myApp.controller(<span class="string">'n1'</span>, [<span class="string">'$scope'</span>,<span class="string">'phone'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,phone)</span> </span>&#123;</div><div class="line">      $scope.data = phone.data;</div><div class="line">      $scope.dire = <span class="string">''</span>;</div><div class="line">      $scope.order = <span class="function"><span class="keyword">function</span><span class="params">(type)</span></span>&#123;</div><div class="line">        $scope.type = type;</div><div class="line">        <span class="comment">//当dire为空时，为升序，当为-时为降序</span></div><div class="line">        <span class="keyword">if</span>(!$scope.dire)&#123;</div><div class="line">           $scope.dire = <span class="string">'-'</span>;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">          $scope.dire = <span class="string">''</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">    &#125;])</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="在控制器在使用过滤器"><a href="#在控制器在使用过滤器" class="headerlink" title="在控制器在使用过滤器"></a>在控制器在使用过滤器</h4><ol>
<li>把<code>$filter</code>依赖注入<code>controller</code>中</li>
<li>把要使用的过滤器添加到括号内,如<code>$filter(&#39;number&#39;)</code></li>
<li>后面写数据源和参数<code>$filter(&#39;currency&#39;)(money)</code></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">"n"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.n = $filter(<span class="string">'currency'</span>)(<span class="number">311231</span>); <span class="comment">//$311,231.00</span></div><div class="line"></div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="filter-可以过滤对象，数组，字符串"><a href="#filter-可以过滤对象，数组，字符串" class="headerlink" title="filter 可以过滤对象，数组，字符串"></a><code>filter</code> 可以过滤对象，数组，字符串</h4><p>针对数据的value值来进行筛选的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">"过滤字符串"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'原始数据'</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- [&#123;"name":"北京","py":"beijing"&#125;,&#123;"name":"上海","py":"shangehai"&#125;,&#123;"name":"广州","py":"guangzhou"&#125;] --&gt;</span></div><div class="line">			&#123;&#123;city&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'过滤带有上海为value值的数据'</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- [&#123;"name":"上海1212","py":"shangehai"&#125;]  --&gt;</span></div><div class="line">			&#123;&#123;city | filter : '上海'&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'它是不能搜索key值的'</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- [],空，因为它只能搜索value值 --&gt;</span></div><div class="line">			&#123;&#123;city | filter : 'name'&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">'通过对象搜索，py中带有e的对象'</span>&gt;</span></div><div class="line">		<span class="comment">&lt;!-- [&#123;"name":"北京","py":"beijing"&#125;,&#123;"name":"上海1212","py":"shangehai"&#125;] --&gt;</span></div><div class="line">			&#123;&#123;city | filter:&#123;py:'e'&#125; &#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			name : <span class="string">'北京'</span>,</div><div class="line">			py : <span class="string">'beijing'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'上海1212'</span>,</div><div class="line">			py : <span class="string">'shangehai'</span>,</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			name : <span class="string">'广州e'</span>,</div><div class="line">			py : <span class="string">'guangzhou'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="js中使用-filter服务来过滤内容"><a href="#js中使用-filter服务来过滤内容" class="headerlink" title="js中使用$filter服务来过滤内容"></a>js中使用$filter服务来过滤内容</h4><ol>
<li>注入$filter服务</li>
<li>绑定对应的值在作用域上</li>
<li>$scope.属性名 = $filter(‘过滤器名称’)(过滤内容,过滤格式)；</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"num"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.say = $filter(<span class="string">'uppercase'</span>)(<span class="string">'Haha'</span>);</div><div class="line">	$scope.num = $filter(<span class="string">'number'</span>)(<span class="string">'1231231.1289808'</span>,<span class="number">4</span>);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h4><h5 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h5><p>在<code>controller</code>中定于一个方法，方法的首个参数是要处理的过滤内容，处理这个数据后return 即可，<br>要注意假如要使用<code>if</code>判断语句，<code>return false</code>而不返回这条数据,<code>return true</code>则返回，如果写<code>reture true</code>会返回内容<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">" x in city  | filter : checKPop"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"x.name + ' 人口是:'+x.population"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">		$scope.city = [&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'北京'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'beijing'</span>,</div><div class="line">			<span class="attr">population</span> : <span class="string">'100'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'上海'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'shangehai'</span>,</div><div class="line">			<span class="attr">population</span> : <span class="string">'200'</span></div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">			<span class="attr">name</span> : <span class="string">'广州'</span>,</div><div class="line">			<span class="attr">py</span> : <span class="string">'guangzhou'</span>,</div><div class="line">			<span class="attr">population</span> : <span class="string">'300'</span></div><div class="line">		&#125;</div><div class="line">		];</div><div class="line">		$scope.checKPop = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">			<span class="built_in">console</span>.log(obj);</div><div class="line">			<span class="keyword">if</span>(obj.population == <span class="string">'200'</span>)&#123;</div><div class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h5><ol>
<li>使用的是模块下的filter</li>
<li>传送的参数在第一个return内的函数执行</li>
<li>处理完的数据以return的形式返回出去</li>
<li>使用方法跟普通的filter一致</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"firstUp | firstUpper"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"sec"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.filter(<span class="string">'firstUpper'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(str,num)</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> str.charAt(<span class="number">0</span>).toUpperCase() + str.slice(<span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.firstUp = <span class="string">"ba"</span>;</div><div class="line">	$scope.sec = $filter(<span class="string">'firstUpper'</span>)(<span class="string">'second'</span>);</div><div class="line"></div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="directive指令"><a href="#directive指令" class="headerlink" title="directive指令"></a><code>directive</code>指令</h3><p>一个强大的 DOM 转换引擎，以声明式的方式扩展HTML表示能力</p>
<h4 id="ng-repeat"><a href="#ng-repeat" class="headerlink" title="ng-repeat"></a><code>ng-repeat</code></h4><ol>
<li>利用<code>ng-repeat</code>对数据进行循环</li>
<li>通过<code>ng-click</code>指令，及<code>$filter</code>服务的<code>orderBy</code>进行数据的点击排序</li>
<li>最后通过配合<code>arguments.callee</code>当前在执行的对象及<code>$filter</code>下的’filter’来进行数据搜索，同时要注意要创建一个原始数据，在搜索的时候是搜索这份原始数据，而在呈现的时候$scope到另一个变量上</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">table</span> &#123;</div><div class="line">		<span class="attribute">width</span>: <span class="number">400px</span>;</div><div class="line">		<span class="attribute">text-align</span>: center;</div><div class="line">		<span class="attribute">border-collapse</span>: collapse;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-tag">td</span>,<span class="selector-tag">th</span>&#123;</div><div class="line">		<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>  <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> &gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"searchVal"</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">ng-click</span>=<span class="string">"search(searchVal)"</span>&gt;</span>搜索<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('subject')"</span>&gt;</span>科目<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span> <span class="attr">ng-click</span>=<span class="string">"order('score')"</span>&gt;</span>分数<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span> <span class="attr">ng-repeat</span>=<span class="string">"data in datas"</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.subject"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.score"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> oriData = [</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'mathematics'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">70</span>&#125;,</div><div class="line">	];</div><div class="line">	$scope.datas = oriData;</div><div class="line">	$scope.order = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">		<span class="built_in">arguments</span>.callee[<span class="string">'order'</span> + name] = !<span class="built_in">arguments</span>.callee[<span class="string">'order'</span> + name];</div><div class="line">		$scope.datas = $filter(<span class="string">'orderBy'</span>)($scope.datas,name,<span class="built_in">arguments</span>.callee[<span class="string">'order'</span> + name]);</div><div class="line">	&#125;</div><div class="line">	$scope.search = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</div><div class="line">		$scope.datas = $filter(<span class="string">'filter'</span>)(oriData,val);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="index"><a href="#index" class="headerlink" title="$index"></a><code>$index</code></h5><p>从0开始，每个<code>ng-repeat</code>所对应的索引号</p>
<h5 id="first"><a href="#first" class="headerlink" title="$first"></a><code>$first</code></h5><p>只有数据的第一个会返回<code>true</code>，其他的返回<code>false</code></p>
<h5 id="last"><a href="#last" class="headerlink" title="$last"></a><code>$last</code></h5><p>跟<code>$first</code>相似，最后一个返回<code>true</code>，其他的返回<code>false</code></p>
<h5 id="middle"><a href="#middle" class="headerlink" title="$middle"></a><code>$middle</code></h5><p>除了第一个和最后一个，都会返回<code>true</code></p>
<h4 id="odd偶数行-even基数行"><a href="#odd偶数行-even基数行" class="headerlink" title="$odd偶数行,$even基数行"></a><code>$odd</code>偶数行,<code>$even</code>基数行</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>  <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>科目<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>分数<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$index<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$first<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$last<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$middle<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$even<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">th</span>&gt;</span>$odd<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">				<span class="tag">&lt;<span class="name">tr</span> <span class="attr">ng-repeat</span>=<span class="string">"data in datas"</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.subject"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"data.score"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$index"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$first"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$last"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$middle"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$even"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">					<span class="tag">&lt;<span class="name">td</span> <span class="attr">ng-bind</span>=<span class="string">"$odd"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">				<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.datas = [</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'mathematics'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">70</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'sport'</span>,<span class="string">'score'</span>:<span class="number">85</span>&#125;,</div><div class="line">	];</div><div class="line">	</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作"><a href="#ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作" class="headerlink" title="ng-repeat-star和ng-repeat-end实现兄弟节点的循环操作"></a><code>ng-repeat-star</code>和<code>ng-repeat-end</code>实现兄弟节点的循环操作</h5><p>避免加在父级会把父级也循环出来<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-class">.t</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#ddd</span>;</div><div class="line">		<span class="attribute">margin-top</span>: <span class="number">40px</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>  <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat-start</span>=<span class="string">"data in datas"</span> <span class="attr">ng-bind</span>=<span class="string">"$index"</span> <span class="attr">class</span>=<span class="string">"t"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"data.subject"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat-end</span>=<span class="string">"data in datas"</span> <span class="attr">ng-bind</span>=<span class="string">"data.score"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$filter)</span> </span>&#123;</div><div class="line">	$scope.datas = [</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'mathematics'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">70</span>&#125;,</div><div class="line">		&#123;<span class="string">'subject'</span>:<span class="string">'sport'</span>,<span class="string">'score'</span>:<span class="number">85</span>&#125;,</div><div class="line">	];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="ng-model-里面的属性"><a href="#ng-model-里面的属性" class="headerlink" title="ng-model 里面的属性"></a><code>ng-model</code> 里面的属性</h4><h5 id="parsers属性"><a href="#parsers属性" class="headerlink" title="$parsers属性"></a><code>$parsers</code>属性</h5><h5 id="validators-一个json对象"><a href="#validators-一个json对象" class="headerlink" title="$validators 一个json对象"></a><code>$validators</code> 一个json对象</h5><figure class="highlight css"><figcaption><span>json</span><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">流浪猫の窝</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  &#123;</div><div class="line">   <span class="attribute">validateName</span>: <span class="built_in">function</span>(modelValue,viewValue)&#123;</div><div class="line">       return ...</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当<code>$setViewValue(value)</code>被赋值给<code>$modelValue</code>之前,会经过<code>$parsers</code>管道,经过<code>$parsers</code>管道时,就会经过这个<code>$validators</code>管道.其中validateName是验证的名字,函数是这个验证的方法,其中的参数<code>modelValue</code>和<code>viewValue</code>就是<code>$modelValue</code>和<code>$viewValue</code>,如果返回值是<code>true</code>,则通过validateName验证,如果返回值是<code>false</code>,则没有通过validateName验证,如果没有通过validateName验证,<code>$error.validateName</code>就会为<code>true</code>.这就是angular内部验证表单项的原理.</p>
<figure class="highlight javascript"><figcaption><span>html</span><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">流浪猫の窝</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"alert alert-danger"</span> role=<span class="string">"alert"</span></div><div class="line"> ng-show=<span class="string">"myForm.myWidget.$error.validCharacters"</span>&gt;</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>Oh!<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span> 不符合自定义的验证规则!</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><figcaption><span>javascript</span><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">流浪猫の窝</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;scritp&gt;</div><div class="line">  ngModel.$validators.validCharacters = <span class="function"><span class="keyword">function</span>(<span class="params">modelValue, viewValue</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> value = modelValue || viewValue;</div><div class="line">      <span class="keyword">return</span> <span class="regexp">/[0-9]+/</span>.test(value);</div><div class="line">  &#125;;</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">scritp</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="formatters"><a href="#formatters" class="headerlink" title="$formatters"></a><code>$formatters</code></h5><p>它保存的是从modelValue向viewValue绑定过程中的处理函数</p>
<h5 id="setViewValue"><a href="#setViewValue" class="headerlink" title="$setViewValue"></a><code>$setViewValue</code></h5><p>当view发生了某件事情时，从view向model绑定调用$setViewValue 把viewValue保存下来</p>
<h5 id="render"><a href="#render" class="headerlink" title="$render"></a><code>$render</code></h5><p>当模型发生变化时，应该怎么去更新视图，从model向view绑定，调用ctrl.$render方法，将viewValue渲染到页面上</p>
<h5 id="setValidity"><a href="#setValidity" class="headerlink" title="$setValidity"></a><code>$setValidity</code></h5><p>设置验证结果</p>
<h5 id="viewValue"><a href="#viewValue" class="headerlink" title="$viewValue"></a><code>$viewValue</code></h5><p>视图的值</p>
<h5 id="modelValue"><a href="#modelValue" class="headerlink" title="$modelValue"></a><code>$modelValue</code></h5><p>模型里的值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"reg"</span> <span class="attr">ng-controller</span>=<span class="string">"myFrom"</span> <span class="attr">ng-submit</span>=<span class="string">"submit(reg)"</span> <span class="attr">novalidate</span>=<span class="string">"true"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"phone"</span> <span class="attr">ng-model</span>=<span class="string">"myPhone"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">required</span> </span></div><div class="line">            <span class="attr">ng-maxlength</span>=<span class="string">"11"</span> </div><div class="line">            <span class="attr">valid</span> <span class="attr">number-type</span>=<span class="string">"integer"</span> <span class="attr">number-valid</span> <span class="attr">show-error</span> &gt;</div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;myPhone&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;reg.phone.$error&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"mypw"</span> <span class="attr">ng-model</span>=<span class="string">"myPassword"</span> <span class="attr">show-error</span> </span></div><div class="line">    <span class="attr">minLength</span>=<span class="string">"6"</span> <span class="attr">maxlength</span>=<span class="string">"10"</span> <span class="attr">ng-maxlength</span>=<span class="string">"8"</span> <span class="attr">placeholder</span>=<span class="string">"请输入密码"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;reg.mypw.$error&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;reg.$invalid&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">    m1.controller(<span class="string">'myFrom'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">      $scope.submit = <span class="function"><span class="keyword">function</span>(<span class="params">form</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(form)</div><div class="line">      &#125;</div><div class="line">    &#125;])</div><div class="line">    .directive(<span class="string">'numberValid'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">restrict</span>: <span class="string">'A'</span>,</div><div class="line">        <span class="attr">require</span>:<span class="string">'ngModel'</span>,</div><div class="line">        <span class="attr">scope</span> : &#123;</div><div class="line">          <span class="attr">numberType</span> : <span class="string">'@'</span> <span class="comment">//Integer整数 decimal小数</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs,ctrl</span>) </span>&#123;</div><div class="line">          scope.$watch(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> ctrl.$viewValue</div><div class="line">          &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">newVal,oldVal</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(newVal === <span class="string">''</span>)&#123;</div><div class="line">              <span class="keyword">if</span>(oldVal.length == <span class="number">1</span>)&#123;</div><div class="line">                oldVal = <span class="string">''</span>;</div><div class="line">              &#125;</div><div class="line">              iElement.val(oldVal);</div><div class="line">              ctrl.$setViewValue(oldVal);</div><div class="line">            &#125;</div><div class="line">          &#125;,<span class="literal">true</span>);</div><div class="line">          <span class="comment">// $parsers: viewValue =&gt; modelValue</span></div><div class="line">          <span class="comment">// 绑定数据时都会执行$parsers函数</span></div><div class="line">          ctrl.$parsers.push(<span class="function"><span class="keyword">function</span>(<span class="params">viewVal</span>)</span>&#123;</div><div class="line">            <span class="comment">/**</span></div><div class="line">             * $setValidity 设置验证是否通过</div><div class="line">             * true 通过验证</div><div class="line">             * false 不通过验证 </div><div class="line">             */</div><div class="line">              <span class="keyword">if</span>(<span class="built_in">isNaN</span>(viewVal))&#123;</div><div class="line">                ctrl.$setValidity(<span class="string">'number'</span>,<span class="literal">false</span>);</div><div class="line">                <span class="built_in">console</span>.warn(<span class="string">'输入正确的数字'</span>);</div><div class="line">              &#125;<span class="keyword">else</span>&#123;</div><div class="line">                ctrl.$setValidity(<span class="string">'number'</span>,<span class="literal">true</span>);</div><div class="line">              &#125;</div><div class="line">              <span class="comment">//注意要return viewVal 不然不能进行双向绑定</span></div><div class="line">              <span class="keyword">return</span> viewVal;</div><div class="line">          &#125;)</div><div class="line"></div><div class="line">          <span class="comment">//当model的数据绑定到view上时会调用这个函数</span></div><div class="line">          <span class="comment">// ctrl.$formatters.push(function(modelVal)&#123;</span></div><div class="line">          <span class="comment">//   return modelVal + 'formatters'</span></div><div class="line">          <span class="comment">// &#125;)</span></div><div class="line"></div><div class="line">          <span class="comment">//$setViewValue 决定着用户输入的数据怎么保留到modelVaule中去</span></div><div class="line">        &#125;</div><div class="line">      &#125;;</div><div class="line">    &#125;])</div><div class="line">    .directive(<span class="string">'showError'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">restrict</span>: <span class="string">'A'</span>,</div><div class="line">        <span class="attr">require</span>: <span class="string">'ngModel'</span>,</div><div class="line">        <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs,ctrl</span>) </span>&#123;</div><div class="line">          iElement.on(<span class="string">'blur'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(ctrl.$invalid)&#123;</div><div class="line">              <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> ctrl.$error)&#123;</div><div class="line">                <span class="keyword">if</span>(ctrl.$error[key])&#123;</div><div class="line">                  <span class="built_in">console</span>.log(key);</div><div class="line">                  <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">              &#125;</div><div class="line">            &#125;</div><div class="line">          &#125;)</div><div class="line">        &#125;</div><div class="line">      &#125;;</div><div class="line">    &#125;])</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="事件指令"><a href="#事件指令" class="headerlink" title="事件指令"></a>事件指令</h4><p>跟原生最大的区别在于可以</p>
<ol>
<li>写上数据的变量名来获取数据</li>
<li>支持表达式的写法</li>
</ol>
<ul>
<li><code>ng-click</code>/<code>ng-dbclick</code> 鼠标点击</li>
<li><code>ng-mousedown</code>/<code>ng-mouseup</code> 鼠标按下/抬起</li>
<li><code>ng-mouseenter</code>/<code>ng-mouseleave</code></li>
<li><code>ng-mousemove</code>/<code>ng-mouseove</code>/<code>ng=mouseout</code></li>
<li><code>ng-keydown</code>/<code>ng-keyup</code>/<code>ng-keypress</code> 键盘按下、键盘抬起</li>
<li><code>ng-focus</code>/<code>ng-blur</code> 获取焦点、失去焦点</li>
<li><code>ng-submit</code> 表单提交</li>
<li><code>ng-selected</code> 下拉菜单被选中的时候返回true<br>将复选框的选择状态与下拉菜单的第二个选项绑定，当下拉菜单的第二个被选中时，复选框也会被选中 </li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"mySelect"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">ng-selected</span>=<span class="string">"mySelect"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>ng-change</code>当输入框的值发生改变时会触发<br>注意要配合<code>ng-model</code>来一起使用</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"change"</span> <span class="attr">ng-change</span>=<span class="string">"console1(change)"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$filter'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,$filter</span>) </span>&#123;</div><div class="line">	$scope.console1 = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(val);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>ng-copy</code> 输入框中进行复制操作时会触发</li>
<li><code>ng-cut</code>    输入框中进行剪切操作时会触发</li>
<li><code>ng-paste</code> 输入框中进行粘贴操作时会触发</li>
</ul>
<h4 id="input相关指令"><a href="#input相关指令" class="headerlink" title="input相关指令"></a>input相关指令</h4><h5 id="ng-disable-当为true时按钮不可用"><a href="#ng-disable-当为true时按钮不可用" class="headerlink" title="ng-disable 当为true时按钮不可用"></a><code>ng-disable</code> 当为true时按钮不可用</h5><ol>
<li>不可以进行表单提交</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;sec&#125;&#125;"</span>  <span class="attr">ng-disabled</span>=<span class="string">"false"</span> <span class="attr">ng-click</span>=<span class="string">"resetTime()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$interval'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$interval)</span> </span>&#123;</div><div class="line">	<span class="keyword">var</span> cutTime = <span class="number">5</span>,</div><div class="line">		timer = <span class="literal">null</span>;</div><div class="line">	$scope.isDisable = <span class="literal">false</span>;</div><div class="line">	$scope.sec = cutTime + <span class="string">'秒'</span>;</div><div class="line">	<span class="comment">//把函数写在外部方便重复调用</span></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">cutDown</span><span class="params">()</span></span>&#123;</div><div class="line">			cutTime--;</div><div class="line">			$scope.sec = cutTime + <span class="string">'秒'</span>;</div><div class="line">			<span class="keyword">if</span>(cutTime == <span class="number">0</span>)&#123;</div><div class="line">				<span class="comment">//使用$interval.calcel(定时器名称)来清除定时器</span></div><div class="line">				$interval.cancel(timer);</div><div class="line">				$scope.isDisable = <span class="literal">false</span>;</div><div class="line">				$scope.sec = <span class="string">"重新开始"</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	timer = $interval(cutDown,<span class="number">1</span>*<span class="number">1000</span>);</div><div class="line">	$scope.resetTime = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		cutTime = <span class="number">5</span>;</div><div class="line">		<span class="comment">//注意当重启定时器时，要带上之前已定义的定时器名称，否则会产品定时器叠加</span></div><div class="line">		<span class="comment">//参考文章:http://my.oschina.net/u/2602502/blog/603498?fromerr=b3aTLBX0</span></div><div class="line">		timer = $interval(cutDown,<span class="number">1</span>*<span class="number">1000</span>);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-readonly-只读"><a href="#ng-readonly-只读" class="headerlink" title="ng-readonly 只读"></a><code>ng-readonly</code> 只读</h5><ol>
<li>只针对input为<code>text</code>或<code>textarea</code>这类文本输入框有效</li>
<li>可以进行表单提交</li>
</ol>
<h5 id="ng-checked-当为true时选框会被选中"><a href="#ng-checked-当为true时选框会被选中" class="headerlink" title="ng-checked 当为true时选框会被选中"></a><code>ng-checked</code> 当为<code>true</code>时选框会被选中</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-checked</span>=<span class="string">"true"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-value-跟value一样，可以避免在数据没渲染时显示出表达式"><a href="#ng-value-跟value一样，可以避免在数据没渲染时显示出表达式" class="headerlink" title="ng-value 跟value一样，可以避免在数据没渲染时显示出表达式"></a><code>ng-value</code> 跟<code>value</code>一样，可以避免在数据没渲染时显示出表达式</h5><h4 id="数据显示优化"><a href="#数据显示优化" class="headerlink" title="数据显示优化"></a>数据显示优化</h4><h5 id="ng-bind"><a href="#ng-bind" class="headerlink" title="ng-bind"></a><code>ng-bind</code></h5><h5 id="ng-bind-template可以同时渲染多个表达式内容"><a href="#ng-bind-template可以同时渲染多个表达式内容" class="headerlink" title="ng-bind-template可以同时渲染多个表达式内容"></a><code>ng-bind-template</code>可以同时渲染多个表达式内容</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind-template</span>=<span class="string">"&#123;&#123;name&#125;&#125;,&#123;&#123;txt | uppercase&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$interval'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$interval)</span> </span>&#123;</div><div class="line">	$scope.name = <span class="string">'weison'</span></div><div class="line">	$scope.txt = <span class="string">'learn angular'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-bind-html-配合-sce来解释html"><a href="#ng-bind-html-配合-sce来解释html" class="headerlink" title="ng-bind-html 配合$sce来解释html"></a><code>ng-bind-html</code> 配合<code>$sce</code>来解释html</h5><p>参考资料<a href="https://segmentfault.com/a/1190000000639561" target="_blank" rel="external">angular中的ng-bind-html指令和$sce服务</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind-html</span>=<span class="string">" txt | toTrust"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind-html</span>=<span class="string">"t2 | toTrust"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$sce)</span> </span>&#123;</div><div class="line">	$scope.txt = <span class="string">'&lt;h1&gt;hello&lt;/h1&gt;&lt;br /&gt;123123'</span>;</div><div class="line">	$scope.t2 = <span class="string">'&lt;span&gt;1231&lt;/span&gt;'</span>;</div><div class="line">&#125;]);</div><div class="line">myApp.filter(<span class="string">'toTrust'</span>,[<span class="string">'$sce'</span>,<span class="function"><span class="keyword">function</span><span class="params">($sce)</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(html)</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> $sce.trustAsHtml(html);</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-cloak-在元素解释完成前，样式会被设置成display-none"><a href="#ng-cloak-在元素解释完成前，样式会被设置成display-none" class="headerlink" title="ng-cloak 在元素解释完成前，样式会被设置成display:none"></a><code>ng-cloak</code> 在元素解释完成前，样式会被设置成display:none</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cloak</span>&gt;</span>&#123;&#123;t2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cloak</span>&gt;</span>&#123;&#123;t3&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$sce)</span> </span>&#123;</div><div class="line">	$scope.t2 = <span class="string">'2212'</span>;</div><div class="line">	<span class="keyword">return</span>;</div><div class="line">	$scope.t3 = <span class="string">'3333'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-non-bindable-不进行表达的解释"><a href="#ng-non-bindable-不进行表达的解释" class="headerlink" title="ng-non-bindable 不进行表达的解释"></a><code>ng-non-bindable</code> 不进行表达的解释</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cloak</span>&gt;</span>&#123;&#123;t2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-non-bindable</span>&gt;</span>&#123;&#123;t2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">	$scope.t2 = <span class="string">'2212'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="样式指令"><a href="#样式指令" class="headerlink" title="样式指令"></a>样式指令</h4><h5 id="ng-class"><a href="#ng-class" class="headerlink" title="ng-class"></a><code>ng-class</code></h5><p>类似于对象的形式,{样式名:判断条件}<br>当判断条件成立时，使用样式名<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123;样式1:判断条件&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-class">.bg</span>&#123;</div><div class="line">	<span class="attribute">background</span>: red;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.bd</span>&#123;</div><div class="line">	<span class="attribute">border</span>:<span class="number">5px</span> solid green;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-class</span>=<span class="string">"&#123;bg:true,bd:&#123;&#123;1&lt;2&#125;&#125;&#125;"</span>&gt;</span>ngClass<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-style-解释行内样式-可以写在行内，也要以单独抽取成表达式"><a href="#ng-style-解释行内样式-可以写在行内，也要以单独抽取成表达式" class="headerlink" title="ng-style 解释行内样式,可以写在行内，也要以单独抽取成表达式"></a><code>ng-style</code> 解释行内样式,可以写在行内，也要以单独抽取成表达式</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-class">.b</span>&#123;	<span class="attribute">background</span>: <span class="number">#FFEB3B</span>;&#125;</div><div class="line">	<span class="selector-class">.c</span>&#123;	<span class="attribute">border</span>: <span class="number">1px</span> solid blue;	&#125;</div><div class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123;b:true,c:true&#125;"</span>&gt;</span>1111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-style</span>=<span class="string">"&#123;'background':'blue','color':'#fff'&#125;"</span>&gt;</span>2222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-style</span>=<span class="string">"&#123;&#123;myStyle&#125;&#125;"</span>&gt;</span>3333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123;&#123;myClass&#125;&#125;"</span>&gt;</span>4444<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$sce)</span> </span>&#123;</div><div class="line">	$scope.t2 = <span class="string">'2212'</span>;</div><div class="line">	$scope.myStyle = &#123;<span class="string">'background'</span>:<span class="string">'blue'</span>,<span class="string">'color'</span>:<span class="string">'#fff'</span>&#125;;</div><div class="line">	$scope.myClass = &#123;b:<span class="literal">true</span>,c:<span class="literal">true</span>&#125;;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-attr-属性名-通用的属性写法"><a href="#ng-attr-属性名-通用的属性写法" class="headerlink" title="ng-attr-(属性名) 通用的属性写法"></a><code>ng-attr-(属性名)</code> 通用的属性写法</h5><h4 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h4><h5 id="ng-show-ng-hide"><a href="#ng-show-ng-hide" class="headerlink" title="ng-show/ng-hide"></a><code>ng-show</code>/<code>ng-hide</code></h5><ul>
<li><code>ng-show</code> true时内容显示，false时内容隐藏</li>
<li><code>ng-hide</code> true时隐藏，flase时显示</li>
<li><code>ng-if</code> true时插入标签，flase时删除标签</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"cb"</span> <span class="attr">ng-init</span>=<span class="string">"cb=false"</span>&gt;</span> </div><div class="line">	<span class="tag">&lt;<span class="name">div</span> &gt;</span>ng-show:&#123;&#123;cb&#125;&#125;,<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-show</span>=<span class="string">"cb"</span>&gt;</span>ng-show<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> &gt;</span>ng-hide:&#123;&#123;cb&#125;&#125;,<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-hide</span>=<span class="string">"cb"</span>&gt;</span>ng-hide<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> &gt;</span>ng-if:&#123;&#123;cb&#125;&#125;,<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-if</span>=<span class="string">"cb"</span>&gt;</span>ng-if<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-switch配合on-default-when来有选择性的对元素进行显示隐藏"><a href="#ng-switch配合on-default-when来有选择性的对元素进行显示隐藏" class="headerlink" title="ng-switch配合on``default``when来有选择性的对元素进行显示隐藏"></a><code>ng-switch</code>配合<code>on``default``when</code>来有选择性的对元素进行显示隐藏</h5><ul>
<li><code>on</code> 绑定的变量</li>
<li><code>default</code> 默认情况下的内容</li>
<li><code>when</code> 当on绑定的内容发生改变时，进行选择</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">ng-model</span>=<span class="string">"switchTest"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"default"</span>  &gt;</span>default<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span> &gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-switch</span> <span class="attr">on</span>=<span class="string">"switchTest"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-switch-default</span>&gt;</span>default<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-switch-when</span>=<span class="string">"1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-switch-when</span>=<span class="string">"2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">	$scope.switchTest = <span class="string">'default'</span>;</div><div class="line">	$scope.switchT = <span class="function"><span class="keyword">function</span><span class="params">(str)</span></span>&#123;</div><div class="line">		$scpe.switchTest = str;</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>要注意的是<code>ng-if</code>及<code>ng-switch</code>的指令都会创建出子scope，因此在父级scope访问时不到，解决方案是将ng-model的数据绑定到<code>$pent</code>中去<br><figure class="highlight xml"><figcaption><span>javascript</span><a href="http://blog.csdn.net/gua_381091614/article/details/48544585" target="_blank" rel="external">流海阔山遥，未知何处是潇湘</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="handlebars"><span class="xml"></span></span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">ng-if</span>=<span class="string">"1===1"</span> <span class="attr">ng-model</span>=<span class="string">"$parent.name"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello !<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><br>或者参考<a href="http://stackoverflow.com/questions/18342917/angularjs-ng-model-doesnt-work-inside-ng-if" target="_blank" rel="external">Angularjs ng-model doesn’t work inside ng-if</a></p>
<h5 id="ng-open配合html下的detail来控制内容的显示与隐藏"><a href="#ng-open配合html下的detail来控制内容的显示与隐藏" class="headerlink" title="ng-open配合html下的detail来控制内容的显示与隐藏"></a><code>ng-open</code>配合html下的<code>detail</code>来控制内容的显示与隐藏</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"cb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">details</span> <span class="attr">ng-open</span>=<span class="string">"cb"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">summary</span>&gt;</span>Copyright 2011.<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>All pages and graphics on this web site are the property of W3School.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">details</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>	</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="扩展部分操作"><a href="#扩展部分操作" class="headerlink" title="扩展部分操作"></a>扩展部分操作</h4><h5 id="ng-init-初始化数据"><a href="#ng-init-初始化数据" class="headerlink" title="ng-init 初始化数据"></a><code>ng-init</code> 初始化数据</h5><p>一般情况下建议还是在控制器上写，相对来说比较清晰，减少出错的几率，但在<code>ng-repeat</code>的时候有可能用到，因为它的属性挂载在标签上<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> &gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"outter in datas"</span> <span class="attr">ng-init</span>=<span class="string">"outterIndex = $index"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-repeat</span>=<span class="string">"inner in outter"</span> <span class="attr">ng-init</span>=<span class="string">"innerIndex = $index"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-bind-template</span>=<span class="string">"&#123;&#123;outterIndex&#125;&#125;&#123;&#123;innerIndex&#125;&#125;:&#123;&#123;inner&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope)</span> </span>&#123;</div><div class="line">	$scope.datas = [[<span class="string">'a'</span>,<span class="string">'b'</span>],[<span class="string">'c'</span>,<span class="string">'d'</span>]];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="ng-include-引入外部的文件"><a href="#ng-include-引入外部的文件" class="headerlink" title="ng-include 引入外部的文件"></a><code>ng-include</code> 引入外部的文件</h5><p>要注意它的引入符号是”‘’”中间还带上了单引号<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-include</span>=<span class="string">"'include.html'"</span> <span class="attr">scope</span>=<span class="string">""</span> <span class="attr">onload</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="ng-model-双向数据绑定"><a href="#ng-model-双向数据绑定" class="headerlink" title="ng-model 双向数据绑定"></a><code>ng-model</code> 双向数据绑定</h5><ol>
<li>利用<code>ng-model-option</code>下的<code>updateOn</code>来控制数据的更新时机</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"updateOn"</span> <span class="attr">ng-model-options</span>=<span class="string">"&#123;updateOn :'blur'&#125;"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"updateOn"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="ng-controller-控制器"><a href="#ng-controller-控制器" class="headerlink" title="ng-controller 控制器"></a><code>ng-controller</code> 控制器</h5><ol>
<li>它是支持面向对象编程的</li>
<li>可以利用funciton的<code>prototype</code>属性来构建函数</li>
<li>通过controller下的<code>as</code>来实例化对象</li>
<li>通过访问实例化对象下的属性和方法来读取数据和运行函数</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"fnCon as a1"</span> &gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind-template</span>=<span class="string">"&#123;&#123;a1.text&#125;&#125; &#123;&#123;a1.show()&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-click</span>=<span class="string">"a1.sum(1,2)"</span>&gt;</span>1,2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, fnCon]);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fnCon</span><span class="params">($scope)</span> </span>&#123;</div><div class="line">&#125;</div><div class="line">fnCon.prototype.text = <span class="string">'hello'</span>;</div><div class="line">fnCon.prototype.show = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="string">'angular'</span>;</div><div class="line">&#125;</div><div class="line">fnCon.prototype.sum = <span class="function"><span class="keyword">function</span><span class="params">(n1,n2)</span></span>&#123;</div><div class="line">	alert (n1+n2);</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="标签指令"><a href="#标签指令" class="headerlink" title="标签指令"></a>标签指令</h4><h5 id="a"><a href="#a" class="headerlink" title="a"></a><code>a</code></h5><p>阻止了系统默认刷新页面的事件</p>
<h5 id="select"><a href="#select" class="headerlink" title="select"></a><code>select</code></h5><ol>
<li>利用<code>ng-options</code>来生成生拉菜单的内容</li>
<li>单项下的某一属性 for 单项 in 数据集合</li>
<li>要配合<code>ng-model</code>来使用,然后可以通过它先绑定默认的值</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> &gt;</span>&#123;&#123;selectData&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">ng-options</span>=<span class="string">"myData.subject for myData in datas"</span> <span class="attr">ng-model</span>=<span class="string">"selectData"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</div><div class="line">	$scope.datas = [&#123;<span class="string">'subject'</span>:<span class="string">'english'</span>,<span class="string">'score'</span>:<span class="number">90</span>&#125;,&#123;<span class="string">'subject'</span>:<span class="string">'chinese'</span>,<span class="string">'score'</span>:<span class="number">80</span>&#125;];</div><div class="line">	$scope.selectData = $scope.datas[<span class="number">0</span>];</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="form"><a href="#form" class="headerlink" title="form"></a><code>form</code></h5><ol>
<li><code>novalidate</code> 或<code>&lt;ng-form&gt;&lt;/ng-form&gt;</code> 加上后会阻止静表单的默认样式和行为</li>
</ol>
<h4 id="表单验证指令"><a href="#表单验证指令" class="headerlink" title="表单验证指令"></a>表单验证指令</h4><ol>
<li>要通过<code>name</code>的方式进行查找</li>
<li>配合<code>ng-model</code>来使用</li>
<li>当验证不通过时，数据是不会渲染在视图上的</li>
<li><code>$error</code> 在取值的时候会有一个优先值，如果优先级高的那个为true，那个其余的条件会变成false</li>
</ol>
<h5 id="验证选项"><a href="#验证选项" class="headerlink" title="验证选项"></a>验证选项</h5><ol>
<li>“type=’number’” 数字类型</li>
<li>“type=’email’” 邮箱类型</li>
<li>“type=’url’” 网址类型</li>
</ol>
<h5 id="验证属性"><a href="#验证属性" class="headerlink" title="验证属性"></a>验证属性</h5><table>
<thead>
<tr>
<th>Property</th>
<th>class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$valid</td>
<td>ng-valid</td>
<td>{Boolean} 当验证规则通过则为true</td>
</tr>
<tr>
<td>$invalid</td>
<td>ng-invalid</td>
<td>{Boolean} 当验证规则不通过是为true</td>
</tr>
<tr>
<td>$pristine</td>
<td>ng-pristine</td>
<td>{Boolean} 当输入元素没被填写时</td>
</tr>
<tr>
<td>$dirty</td>
<td>ng-dirty</td>
<td>{Boolean} 当输入元素没填写时</td>
</tr>
</tbody>
</table>
<p>当条件符合时，会自动在验证元素上加上对应的class,如当input的验证通过时，input会被添加<code>ng-valid</code>样式</p>
<h5 id="访问表单的属性"><a href="#访问表单的属性" class="headerlink" title="访问表单的属性"></a>访问表单的属性</h5><ol>
<li><p>访问表格 <code>&lt;form name&gt;.&lt;angular property&gt;</code><br>如当表单验证不通过时，让提交按钮失效<code>ng-disable=&quot;myForm.$invalid&quot;</code></p>
</li>
<li><p>访问input <code>&lt;form name&gt;.&lt;input name&gt;.&lt;angular property&gt;</code><br>如：当input内容验证不通过时，显示错误信息<code>ng-show=&quot;myForm.userName.$dirty &amp;&amp; myForm.userName.$invalid &quot;</code></p>
</li>
</ol>
<p><a href="http://runjs.cn/detail/2u0zuhou" target="_blank" rel="external">张治中V -AngularJS的表单验证</a></p>
<h5 id="required为空，当为空时，返回true"><a href="#required为空，当为空时，返回true" class="headerlink" title="required为空，当为空时，返回true"></a><code>required</code>为空，当为空时，返回true</h5><h5 id="valid有效值，当表单通过时，这个值为true"><a href="#valid有效值，当表单通过时，这个值为true" class="headerlink" title="$valid有效值，当表单通过时，这个值为true"></a><code>$valid</code>有效值，当表单通过时，这个值为true</h5><h5 id="invalid无效值，不通过时，这个值为true"><a href="#invalid无效值，不通过时，这个值为true" class="headerlink" title="$invalid无效值，不通过时，这个值为true"></a><code>$invalid</code>无效值，不通过时，这个值为true</h5><h5 id="pristine原始值未经改动时-为true"><a href="#pristine原始值未经改动时-为true" class="headerlink" title="$pristine原始值未经改动时,为true"></a><code>$pristine</code>原始值未经改动时,为true</h5><h5 id="dirty原始值改动时-为true"><a href="#dirty原始值改动时-为true" class="headerlink" title="$dirty原始值改动时,为true"></a><code>$dirty</code>原始值改动时,为true</h5><h5 id="ng-minlength-最小长度"><a href="#ng-minlength-最小长度" class="headerlink" title="ng-minlength 最小长度"></a><code>ng-minlength</code> 最小长度</h5><h5 id="ng-maxlength-最大长度"><a href="#ng-maxlength-最大长度" class="headerlink" title="ng-maxlength 最大长度"></a><code>ng-maxlength</code> 最大长度</h5><h5 id="ng-pattern-正则"><a href="#ng-pattern-正则" class="headerlink" title="ng-pattern 正则"></a><code>ng-pattern</code> 正则</h5><h5 id="touched-表单被触发过"><a href="#touched-表单被触发过" class="headerlink" title="$touched 表单被触发过"></a><code>$touched</code> 表单被触发过</h5><h5 id="error记录所有的验证信息-只有这个值有true就证明验证失败了"><a href="#error记录所有的验证信息-只有这个值有true就证明验证失败了" class="headerlink" title="$error记录所有的验证信息,只有这个值有true就证明验证失败了"></a><code>$error</code>记录所有的验证信息,只有这个值有<code>true</code>就证明验证失败了</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"myForm"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">ng-model</span>=<span class="string">"myEmail"</span> <span class="attr">name</span>=<span class="string">"myEmail"</span> <span class="attr">required</span> <span class="attr">ng-minlength</span>=<span class="string">"8"</span>  <span class="attr">ng-maxlength</span>=<span class="string">"12"</span> <span class="attr">ng-pattern</span>=<span class="string">"/^[a-zA-Z]+$/"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$valid有效值:&#123;&#123;myForm.myEmail.$valid&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$invalid无效值:&#123;&#123;myForm.myEmail.$invalid&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$pristine原始值:&#123;&#123;myForm.myEmail.$pristine&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$dirty非原始值:&#123;&#123;myForm.myEmail.$dirty&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>$error错误信息:&#123;&#123;myForm.myEmail.$error&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</div><div class="line">	$scope.myEmail = <span class="string">'explame@text.com'</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="验证样式"><a href="#验证样式" class="headerlink" title="验证样式"></a>验证样式</h4><ol>
<li><code>.ng-valid{}</code> 验证通过 </li>
<li><code>.ng-invalid</code> 验证不通过</li>
<li><code>.ng-pristine{}</code> 保持着初始值</li>
<li><code>.ng-dirty{}</code> 值已被修改过</li>
</ol>
<h4 id="实例-表单验证"><a href="#实例-表单验证" class="headerlink" title="实例 表单验证"></a>实例 表单验证</h4><ol>
<li>利用<code>name</code>进行元素的查找</li>
<li>选取表单需要验证的内容</li>
<li>根据验证规则来确定验证提示</li>
<li>通过<code>ng-model</code>进行双向数据绑定</li>
<li>当表单内容失去焦点<code>ng-blur</code>时出发验证函数</li>
<li>在验证函数中，获取表单传递的<code>$error</code>数据，通过<code>for in</code>方法来判断验证规则是否通过</li>
<li>通过<code>filter</code>过滤出所需要显示的内容</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"myForm"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">label</span>&gt;</span>手机号码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"myTel"</span> <span class="attr">ng-model</span>=<span class="string">"regForm.tel.val"</span> <span class="attr">required</span> <span class="attr">ng-maxlength</span>=<span class="string">"11"</span> <span class="attr">ng-pattern</span>=<span class="string">"/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]&#123;8&#125;$/"</span> <span class="attr">ng-blur</span>=<span class="string">"change('tel',myForm.myTel.$error)"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"tips in regForm.tel.tips | filter : regForm.tel.validTips"</span> <span class="attr">ng-bind</span>=<span class="string">"tips.tipsTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">label</span>&gt;</span>密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"myPw"</span> <span class="attr">ng-model</span>=<span class="string">"regForm.pw.val"</span> <span class="attr">required</span> <span class="attr">ng-minlength</span>=<span class="string">"6"</span> <span class="attr">ng-blur</span>=<span class="string">"change('pw',myForm.myPw.$error)"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"tips in regForm.pw.tips | filter : regForm.pw.validTips"</span> <span class="attr">ng-bind</span>=<span class="string">"tips.tipsTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">label</span>&gt;</span>确认密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"myPwAgain"</span> <span class="attr">ng-model</span>=<span class="string">"regForm.myPwAgain.val"</span> <span class="attr">required</span> <span class="attr">ng-blur</span>=<span class="string">"change('myPwAgain',myForm.myPwAgain.$error)"</span> &gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"tips in regForm.myPwAgain.tips | filter : regForm.myPwAgain.validTips"</span> <span class="attr">ng-bind</span>=<span class="string">"tips.tipsTxt"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">	$scope.regForm = &#123;</div><div class="line">		<span class="attr">tel</span> : &#123;</div><div class="line">			<span class="string">'val'</span> : <span class="string">''</span>,</div><div class="line">			<span class="string">'validTips'</span> : <span class="string">'default'</span>,</div><div class="line">			<span class="string">'tips'</span> : [</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'default'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入验证码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>: <span class="string">'required'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入验证码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pattern'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入正确的手机号码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'maxlength'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入11位的手机号码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pass'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'√'</span>&#125;,</div><div class="line">			]</div><div class="line">		&#125;,</div><div class="line">		<span class="attr">pw</span> : &#123;</div><div class="line">			<span class="string">'val'</span> : <span class="string">''</span>,</div><div class="line">			<span class="string">'validTips'</span> : <span class="string">'default'</span>,</div><div class="line">			<span class="string">'tips'</span> : [</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'default'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请输入密码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>: <span class="string">'required'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'密码不能为空'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'minlength'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'密码长度不小于6位'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pass'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'√'</span>&#125;,</div><div class="line">			]</div><div class="line">		&#125;,</div><div class="line">		<span class="attr">myPwAgain</span> : &#123;</div><div class="line">			<span class="string">'val'</span> : <span class="string">''</span>,</div><div class="line">			<span class="string">'validTips'</span> : <span class="string">'default'</span>,</div><div class="line">			<span class="string">'tips'</span> : [</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'default'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请再次输入密码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'required'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'请再次输入密码'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pattern'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'密码不一致'</span>&#125;,</div><div class="line">				&#123; <span class="string">'name'</span>:<span class="string">'pass'</span> , <span class="string">'tipsTxt'</span>: <span class="string">'√'</span>&#125;,</div><div class="line">			]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	$scope.change = <span class="function"><span class="keyword">function</span>(<span class="params">ele,err</span>)</span>&#123;</div><div class="line">		<span class="comment">// alert($scope.regForm.myPwAgain.val);</span></div><div class="line">		<span class="keyword">if</span>(ele == <span class="string">'myPwAgain'</span> ||  ele == <span class="string">'pw'</span>)&#123;</div><div class="line">			<span class="keyword">if</span>($scope.regForm.pw.val == $scope.regForm.myPwAgain.val )&#123;</div><div class="line">				err.pattern = <span class="literal">false</span>;</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				err.pattern = <span class="literal">true</span>;</div><div class="line">				$scope.regForm.myPwAgain.validTips = <span class="string">'pattern'</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">console</span>.log(err);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> err)&#123;</div><div class="line">			<span class="keyword">if</span>(err[attr] == <span class="literal">true</span>)&#123;</div><div class="line">				$scope.regForm[ele].validTips = attr;</div><div class="line">				<span class="keyword">return</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		$scope.regForm[ele].validTips = <span class="string">'pass'</span>;</div><div class="line">	&#125; </div><div class="line">	</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h4><p>注意指令在声明时使用的是驼峰式写法，而在html中应用要写成连字符的形式<br>例如指令名称为<code>myTab</code>，那么在html中应用则写成<code>my-tab</code></p>
<h4 id="angularjs指令编译的三个阶段"><a href="#angularjs指令编译的三个阶段" class="headerlink" title="angularjs指令编译的三个阶段"></a>angularjs指令编译的三个阶段</h4><ol>
<li>标签浏览器的API转换,将html转换成DOM</li>
<li>Angular compile ,搜索匹配的directive,按照priority(优先级)排序，并执行directive上的<code>compile</code>方法</li>
<li>执行directive上的<code>link</code>方法，进行scope绑定及事件绑定</li>
</ol>
<h5 id="restrict-指定指令的类型"><a href="#restrict-指定指令的类型" class="headerlink" title="restrict 指定指令的类型"></a>restrict 指定指令的类型</h5><p>区分大小写，而且是可以一直用的</p>
<ol>
<li><code>E</code> element 标签指令 <hello></hello>，主要实现模板替代</li>
<li><code>A</code> attribute 属性指令 <div hello=""></div>,主要用来实现功能性</li>
<li><code>C</code> class 样式指令 <div class="hello"></div></li>
<li><code>M</code> 注释形式 ,要配合replace:true来使用 <!-- directive:hello --></li>
</ol>
<h5 id="template-模板代码"><a href="#template-模板代码" class="headerlink" title="template 模板代码"></a><code>template</code> 模板代码</h5><h5 id="transclude-保留内容不被覆盖"><a href="#transclude-保留内容不被覆盖" class="headerlink" title="transclude 保留内容不被覆盖"></a><code>transclude</code> 保留内容不被覆盖</h5><p>加上后，会把指令内部原有的数据保留到transclude的标签内</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  transclude : <span class="literal">true</span>,</div><div class="line">  <span class="attr">template</span> : <span class="string">'&lt;div&gt;&lt;h1 ng-transclude&gt;&lt;/h1&gt;&lt;/div&gt;'</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h5 id="replace-以替换的形式来替代html"><a href="#replace-以替换的形式来替代html" class="headerlink" title="replace 以替换的形式来替代html"></a><code>replace</code> 以替换的形式来替代html</h5><p>假如未声明，它都会它template的内容放到指令的内部，而如果是<code>replace=true</code>，就会以替换的形式来解释代码</p>
<h5 id="templateUrl-使用路径引入html"><a href="#templateUrl-使用路径引入html" class="headerlink" title="templateUrl 使用路径引入html"></a><code>templateUrl</code> 使用路径引入html</h5><h5 id="scope"><a href="#scope" class="headerlink" title="scope"></a><code>scope</code></h5><ol>
<li><code>scope:false</code>,默认值,这样会与父级共享作用域</li>
<li><p><code>scope:true</code>，独立的作用域,每个指令互不影响，</p>
</li>
<li><p>隔离作用域{}，不再与外层的作用域有关系，它是独立的一个作用域，scope:{}<br>绑定策略</p>
</li>
</ol>
<ul>
<li><code>@</code> 单向绑定父级作用域名下的简单类型（String,Number,Boolean）数据</li>
<li><code>=</code> 相向绑定，任意一方的修改都会影响对方</li>
<li><code>&amp;</code> 绑定父级的函数,以把父级作用域的属性封装成一个函数，从而以函数的形式来读取父级的属性</li>
</ul>
<h5 id="controller-创建内部数据绑定"><a href="#controller-创建内部数据绑定" class="headerlink" title="controller 创建内部数据绑定"></a><code>controller</code> 创建内部数据绑定</h5><h5 id="controllerAs-为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用"><a href="#controllerAs-为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用" class="headerlink" title="controllerAs 为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用"></a><code>controllerAs</code> 为指令中的controller指定一个别名，当方便指令之间的数据和方法共用时调用</h5><h5 id="require-引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享"><a href="#require-引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享" class="headerlink" title="require 引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享"></a><code>require</code> 引入的指令，实现指令之间的互相交互，进行跨指令之间的数据获取及方法共享</h5><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"> require :'hello'; // =&gt; 在这个元素身上的这个指令的对象</div><div class="line"> require :'^hello'; // =&gt; 加上`^`后，会这个元素父级身上的这个指令的对象</div><div class="line"> require :'？hello'; // =&gt; 加上`？`后，如果找不到这个指令也不会报错，是一个容错机制</div><div class="line"> ```` </div><div class="line">##### `link` 进行DOM操作</div><div class="line">- `scope` 内部scope的值</div><div class="line">- `element` 每个最外层的DIV</div><div class="line">- `attr` 当前元素的所有属性</div><div class="line">- `reController`</div><div class="line">利用`require`所引用的指令,将该指令下的controller的方法和属性进行共用。由于scope仅内部使用，因为要使用this来进行数据共享</div><div class="line"></div><div class="line">````html</div><div class="line">&lt;div t1 t2&gt;&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">	var myApp = angular.module('myApp',[]);</div><div class="line">	myApp.controller('t1', ['$scope', function ($scope) &#123;</div><div class="line">		$scope.con = "指令下的con"</div><div class="line">		$scope.show = function(str)&#123;</div><div class="line">			alert(str);</div><div class="line">		&#125;</div><div class="line">	&#125;])</div><div class="line">	.directive('t1', [function () &#123;</div><div class="line">		return &#123;·</div><div class="line">			restrict: 'A',</div><div class="line">			controller : function($scope)&#123;</div><div class="line">				this.name = 'a';</div><div class="line">				this.say = function()&#123;</div><div class="line">					console.log(this.name);</div><div class="line">				&#125;</div><div class="line">			&#125;,</div><div class="line">			link: function (scope, iElement, iAttrs) &#123;</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;])</div><div class="line">	.directive('t2', [function () &#123;</div><div class="line">		return &#123;</div><div class="line">			restrict: 'A',</div><div class="line">			require : 't1',</div><div class="line">			link: function (scope, iElement, iAttrs,reController) &#123;</div><div class="line">				reController.say()</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;])</div><div class="line">	.directive('tab', [function () &#123;</div><div class="line">		return &#123;</div><div class="line">			restrict: 'E',</div><div class="line">			scope : &#123;</div><div class="line">				myId : '@',</div><div class="line">				myFn : '&amp;',</div><div class="line">				myCon : '='</div><div class="line">			&#125;,</div><div class="line">			// replace : true,</div><div class="line">			templateUrl : 'tab2.html',</div><div class="line">			link: function (scope, iElement, iAttrs) &#123;</div><div class="line">				console.log(scope);</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;])</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hello"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- directive:hello --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.directive(<span class="string">'hello'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		restrict: <span class="string">'AECM'</span>,</div><div class="line">		template:<span class="string">'&lt;div&gt;hello angular&lt;/div&gt;'</span>,</div><div class="line">		replace : <span class="literal">true</span>,	</div><div class="line">		link: <span class="function"><span class="keyword">function</span> <span class="params">(scope, iElement, iAttrs)</span> </span>&#123;</div><div class="line">			</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h6 id="选项卡指令"><a href="#选项卡指令" class="headerlink" title="选项卡指令"></a>选项卡指令</h6><ol>
<li>主页</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"t1"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">tab</span>  <span class="attr">my-fn</span>=<span class="string">"show(str)"</span>  <span class="attr">my-id</span>=<span class="string">"tab1"</span> <span class="attr">my-con</span>=<span class="string">"con"</span>&gt;</span><span class="tag">&lt;/<span class="name">tab</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">tab</span>  <span class="attr">my-fn</span>=<span class="string">"show(str)"</span> <span class="attr">my-id</span>=<span class="string">"tab2"</span> <span class="attr">my-con</span>=<span class="string">"con"</span>&gt;</span><span class="tag">&lt;/<span class="name">tab</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">		<span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">		myApp.controller(<span class="string">'t1'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">			$scope.con = <span class="string">"指令下的con"</span></div><div class="line">			$scope.show = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">				alert(str);</div><div class="line">			&#125;</div><div class="line">		&#125;])</div><div class="line">		.directive(<span class="string">'tab'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="keyword">return</span> &#123;</div><div class="line">				<span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">				<span class="attr">scope</span> : &#123;</div><div class="line">					<span class="attr">myId</span> : <span class="string">'@'</span>,</div><div class="line">					<span class="attr">myFn</span> : <span class="string">'&amp;'</span>,</div><div class="line">					<span class="attr">myCon</span> : <span class="string">'='</span></div><div class="line">				&#125;,</div><div class="line">				<span class="comment">// replace : true,</span></div><div class="line">				templateUrl : <span class="string">'tab2.html'</span>,</div><div class="line">				<span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs</span>) </span>&#123;</div><div class="line">					<span class="built_in">console</span>.log(scope);</div><div class="line">				&#125;</div><div class="line">			&#125;;</div><div class="line">		&#125;])</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li>templateUrl页<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">ul</span>&#123;</div><div class="line">	<span class="attribute">list-style</span>:none;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-h-b</span>&#123;</div><div class="line">	<span class="attribute">float</span>: left;</div><div class="line">	<span class="attribute">width</span>: <span class="number">150px</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">32px</span>;</div><div class="line">	<span class="attribute">line-height</span>: <span class="number">32px</span>;</div><div class="line">	<span class="attribute">text-align</span>: center;</div><div class="line">	<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">	<span class="attribute">margin-right</span>: -<span class="number">1px</span>;</div><div class="line">	<span class="attribute">cursor</span>: pointer;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-h</span> <span class="selector-class">.active</span>&#123;</div><div class="line">	<span class="attribute">background</span>: <span class="number">#333</span>;</div><div class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-b</span>&#123;</div><div class="line">	<span class="attribute">clear</span>: both;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-b</span> <span class="selector-class">.active</span>&#123;</div><div class="line">	<span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tab-b-b</span>&#123;</div><div class="line">	<span class="attribute">width</span>: <span class="number">450px</span>;</div><div class="line">	<span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">500px</span>;</div><div class="line">	<span class="attribute">text-align</span>: center;</div><div class="line">	<span class="attribute">font-size</span>: <span class="number">60px</span>;</div><div class="line">	<span class="attribute">line-height</span>: <span class="number">500px</span>;</div><div class="line">	<span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab"</span> <span class="attr">id</span>=<span class="string">"&#123;&#123;myId&#125;&#125;"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab-h"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-h-b active"</span> <span class="attr">ng-click</span>=<span class="string">"myFn(&#123;str:123&#125;)"</span> &gt;</span>t1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-h-b"</span>&gt;</span>t2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-h-b"</span>&gt;</span>t3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"tab-b"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-b-b active"</span>&gt;</span>&#123;&#123;myCon&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-b-b"</span>&gt;</span>b2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"tab-b-b"</span>&gt;</span>b3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><h5 id="tab"><a href="#tab" class="headerlink" title="tab"></a>tab</h5><h5 id="dragg-拖拽"><a href="#dragg-拖拽" class="headerlink" title="dragg 拖拽"></a>dragg 拖拽</h5><h6 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h6><ol>
<li><code>mousedown</code> 时</li>
</ol>
<ul>
<li><code>ev.pageX</code>,<code>ev.pageY</code>记录鼠标相对于document边缘的位置</li>
<li><code>ele.offset().left</code> ，<code>ele.offset().top</code> 记录当前元素距离document左侧和顶部的距离</li>
</ul>
<h6 id="mobile"><a href="#mobile" class="headerlink" title="mobile"></a>mobile</h6><ol>
<li>针对单指操作的 <code>ontouchstart</code> <code>ontouchmove</code> <code>ontouchend</code></li>
<li>手指操作的集合 <code>ev.changedTouches</code>,它是一个类数组的对象，有几个手指在操作,length就有几个</li>
<li><code>ev.pageX</code> 记录手指距离整个页面的顶部位置</li>
<li><code>offsetLeft</code> 读取元素距离页面左边的距离</li>
<li>通过判断元素的<code>offsetLeft</code>加上当前元素的一半宽度<code>ele.offsetWidth/2</code>来确定元素靠左还是右</li>
</ol>
<figure class="highlight xml"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery-1.11.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-id">#box</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">background</span>: red;</div><div class="line">    <span class="attribute">position</span>: fixed;</div><div class="line">    <span class="attribute">left </span>:<span class="number">0</span>;</div><div class="line">    <span class="attribute">top</span>:<span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">800px</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#ccc</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">my-drag</span> <span class="attr">sticky</span>=<span class="string">'true'</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;])</div><div class="line">.directive(<span class="string">'myDrag'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">restrict</span>: <span class="string">'A'</span>,</div><div class="line">    <span class="attr">scope</span> : &#123;</div><div class="line">      <span class="attr">sticky</span> : <span class="string">'@'</span>, <span class="comment">//是否自动贴近边缘</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">link</span>: <span class="function"><span class="keyword">function</span> (<span class="params">scope, iElement, iAttrs,ctrl</span>) </span>&#123;</div><div class="line">      <span class="comment">//获取屏幕宽度</span></div><div class="line">      <span class="keyword">var</span> winWidth = <span class="built_in">document</span>.documentElement.offsetWidth;</div><div class="line"></div><div class="line">      <span class="comment">//用于保存初始的距离值</span></div><div class="line">      <span class="keyword">var</span> dirX = <span class="number">0</span>; </div><div class="line">      <span class="keyword">var</span> dirY = <span class="number">0</span>;</div><div class="line"></div><div class="line">      <span class="comment">//按下时触发事件</span></div><div class="line">      iElement[<span class="number">0</span>].ontouchstart = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ev = ev.changedTouches[<span class="number">0</span>];</div><div class="line">        dirX = ev.pageX - <span class="keyword">this</span>.offsetLeft;</div><div class="line">        dirY = ev.pageY - <span class="keyword">this</span>.offsetTop;</div><div class="line">        <span class="keyword">this</span>.style.transition = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="comment">//阻止系统默认行为</span></div><div class="line">        <span class="built_in">document</span>.ontouchmove = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">          ev.preventDefault();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//移动时改变位置</span></div><div class="line">        iElement[<span class="number">0</span>].ontouchmove = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">          <span class="keyword">var</span> ev = ev.changedTouches[<span class="number">0</span>];</div><div class="line">          <span class="keyword">this</span>.style.left = ev.pageX - dirX + <span class="string">'px'</span>;</div><div class="line">          <span class="keyword">this</span>.style.top = ev.pageY - dirY + <span class="string">'px'</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//手指抬起时解决事件</span></div><div class="line">        iElement[<span class="number">0</span>].ontouchend = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="keyword">if</span>(scope.sticky == <span class="string">'true'</span>)&#123;</div><div class="line">            <span class="keyword">this</span>.style.transition = <span class="string">'0.5s'</span>;</div><div class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.offsetLeft &lt;= (winWidth/<span class="number">2</span>-<span class="keyword">this</span>.offsetWidth/<span class="number">2</span>) )&#123;</div><div class="line">                 <span class="keyword">this</span>.style.left = <span class="number">0</span>;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">this</span>.style.left = winWidth - <span class="keyword">this</span>.offsetWidth + <span class="string">'px'</span>;</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line"></div><div class="line">          <span class="comment">//解决事件绑定</span></div><div class="line">          iElement[<span class="number">0</span>].ontouchmove = <span class="literal">null</span>;</div><div class="line">          iElement[<span class="number">0</span>].ontouchend = <span class="literal">null</span>;</div><div class="line">          <span class="built_in">document</span>.ontouchmove = <span class="literal">null</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;])</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="servier服务"><a href="#servier服务" class="headerlink" title="servier服务"></a><code>servier</code>服务</h3><p>定义好的方法</p>
<h4 id="http"><a href="#http" class="headerlink" title="$http"></a><code>$http</code></h4><h4 id="location"><a href="#location" class="headerlink" title="$location"></a><code>$location</code></h4><p>对原生的location的网址信息进行了二次封装</p>
<h5 id="absUrl-网址信息的绝对地址"><a href="#absUrl-网址信息的绝对地址" class="headerlink" title="absUrl() 网址信息的绝对地址"></a>absUrl() 网址信息的绝对地址</h5><h5 id="path-跟路由挂钩的路径信息，可以实现前进后退"><a href="#path-跟路由挂钩的路径信息，可以实现前进后退" class="headerlink" title="path() 跟路由挂钩的路径信息，可以实现前进后退"></a>path() 跟路由挂钩的路径信息，可以实现前进后退</h5><h5 id="replace-以替换路径的方式实现页面跳转，使路由的前进后退失效"><a href="#replace-以替换路径的方式实现页面跳转，使路由的前进后退失效" class="headerlink" title="replace() 以替换路径的方式实现页面跳转，使路由的前进后退失效"></a>replace() 以替换路径的方式实现页面跳转，使路由的前进后退失效</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">	$localtion.path(<span class="string">'/aa/bb'</span>).replace();</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="hash-设置hash值"><a href="#hash-设置hash值" class="headerlink" title="hash() 设置hash值"></a>hash() 设置hash值</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$location.hash(<span class="string">'hello'</span>);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="search-设置搜索内容"><a href="#search-设置搜索内容" class="headerlink" title="search() 设置搜索内容"></a>search() 设置搜索内容</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">$location.search(&#123;<span class="string">'age'</span> : <span class="string">'20'</span>&#125;);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h5 id="url-获取页面路径"><a href="#url-获取页面路径" class="headerlink" title="url() 获取页面路径"></a>url() 获取页面路径</h5><h5 id="host-获取主机名"><a href="#host-获取主机名" class="headerlink" title="host() 获取主机名"></a>host() 获取主机名</h5><h5 id="post-获取端口号"><a href="#post-获取端口号" class="headerlink" title="post() 获取端口号"></a>post() 获取端口号</h5><h5 id="protocol-获取协议"><a href="#protocol-获取协议" class="headerlink" title="protocol() 获取协议"></a>protocol() 获取协议</h5><h4 id="anchorScroll-锚点跳转功能"><a href="#anchorScroll-锚点跳转功能" class="headerlink" title="$anchorScroll 锚点跳转功能"></a><code>$anchorScroll</code> 锚点跳转功能</h4><ol>
<li>为每个主要内容添加id标识(ng-attr-id)</li>
<li>生成对应的点击元素，并一一对应到主要内容</li>
<li>注入<code>$anchorScroll</code>服务 </li>
<li>当导航元素被点击时，利用<code>$location.hash()</code>实现跳转</li>
<li>同时为了避免当页面跳转特定的位置（#c），然后滚屏，再点击相同的导航失效时，可以每次点击都默认带上<code>$anchorScroll()</code>;</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">li</span>&#123;</div><div class="line">		<span class="attribute">list-style</span>: none;</div><div class="line">		<span class="attribute">text-align</span>: center;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-class">.parent</span> <span class="selector-tag">li</span>&#123;</div><div class="line">		<span class="attribute">height</span>: <span class="number">300px</span>;</div><div class="line">		<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</div><div class="line">		<span class="attribute">margin-top</span>: <span class="number">30px</span>;</div><div class="line">		<span class="attribute">font-size</span>: <span class="number">90px</span>;</div><div class="line">		<span class="attribute">line-height</span>: <span class="number">300px</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-class">.nav</span>&#123;</div><div class="line">		<span class="attribute">position</span>: fixed;</div><div class="line">		<span class="attribute">right</span>:<span class="number">10px</span>;</div><div class="line">		<span class="attribute">top</span>:<span class="number">10px</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"id in [1,2,3,4,5]"</span> <span class="attr">ng-attr-id</span>=<span class="string">"div&#123;&#123;id&#125;&#125;"</span>&gt;</span>id&#123;&#123;id&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"id in [1,2,3,4,5]"</span> <span class="attr">ng-click</span>=<span class="string">"scrollTo('div'+id)"</span>&gt;</span>&#123;&#123;id&#125;&#125;link<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$location'</span>,<span class="string">'$anchorScroll'</span>,<span class="function"><span class="keyword">function</span><span class="params">($scope,$location,$anchorScroll)</span></span>&#123;</div><div class="line">	$scope.scrollTo = <span class="function"><span class="keyword">function</span><span class="params">(url)</span></span>&#123;</div><div class="line">		$location.hash(url);</div><div class="line">		$anchorScroll();</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="cacheFactory-缓存操作方式"><a href="#cacheFactory-缓存操作方式" class="headerlink" title="$cacheFactory 缓存操作方式"></a><code>$cacheFactory</code> 缓存操作方式</h4><p>要注意的是这个应用程序缓存，而不是浏览器本地的缓存，当页面刷新或者初始化时数据会丢失</p>
<h5 id="info-打印缓存信息"><a href="#info-打印缓存信息" class="headerlink" title="info() 打印缓存信息"></a><code>info()</code> 打印缓存信息</h5><h5 id="put-设置信息"><a href="#put-设置信息" class="headerlink" title="put() 设置信息"></a><code>put()</code> 设置信息</h5><h5 id="get-获取信息"><a href="#get-获取信息" class="headerlink" title="get() 获取信息"></a><code>get()</code> 获取信息</h5><h5 id="remove-删除信息"><a href="#remove-删除信息" class="headerlink" title="remove() 删除信息"></a><code>remove()</code> 删除信息</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="string">'$cacheFactory'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,$cacheFactory</span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> cache = $cacheFactory(<span class="string">'myCache'</span>);</div><div class="line">	<span class="comment">// 使用put方法设置</span></div><div class="line">	cache.put(<span class="string">'name'</span>,<span class="string">'weison'</span>);</div><div class="line">	cache.put(<span class="string">'job'</span>,<span class="string">'dev'</span>);</div><div class="line">	<span class="built_in">console</span>.log(cache.info());</div><div class="line"></div><div class="line">	<span class="comment">// 使用get方法设置</span></div><div class="line">	<span class="built_in">console</span>.log(cache.get(<span class="string">'name'</span>));</div><div class="line"></div><div class="line">	<span class="comment">//利用remove删除属性</span></div><div class="line">	cache.remove(<span class="string">'name'</span>);</div><div class="line"></div><div class="line">	<span class="comment">// 使用get方法设置</span></div><div class="line">	<span class="built_in">console</span>.log(cache.get(<span class="string">'name'</span>));</div><div class="line">&#125;]);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h4 id="interpolate-插值服务"><a href="#interpolate-插值服务" class="headerlink" title="$interpolate 插值服务"></a><code>$interpolate</code> 插值服务</h4><h4 id="q-对异步操作进行了扩展"><a href="#q-对异步操作进行了扩展" class="headerlink" title="$q 对异步操作进行了扩展"></a><code>$q</code> 对异步操作进行了扩展</h4><p>是一种promise的实现方式，类似于jquery的def延迟对象</p>
<ul>
<li>defer() 定义一个延迟对象</li>
<li>resolve() 成功时触发</li>
<li>reject() 失败时触发</li>
<li>notify() 实时的通知处理</li>
<li>then() 监听成功失败的回调处理</li>
</ul>
<ol>
<li>先定义一个延时对象<code>var dfd = $q.defer();</code></li>
<li>然后当执行函数时假如成功就定义成<code>dfd.reject()</code>，失败就<code>dfd.resolve()</code></li>
<li>函数执行完返回一个promise对象<code>return dfd.promise</code></li>
<li>利用<code>then</code>方法进行处理<br>执行函数名.then(function(){成功时的处理},function(){失败时的处理});</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'$q'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,$q)</span> </span>&#123;</div><div class="line">	<span class="comment">//定义一下延时对象</span></div><div class="line">	<span class="keyword">var</span> dfd = $q.defer();</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span>&#123;</div><div class="line">		setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			dfd.reject(); <span class="comment">//代表执行成功</span></div><div class="line">		&#125;,<span class="number">1000</span>);</div><div class="line">		<span class="keyword">return</span> dfd.promise;</div><div class="line">	&#125;</div><div class="line">	test().then(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="comment">//当def时resolve时触发</span></div><div class="line">		alert(<span class="string">'成功'</span>);</div><div class="line">	&#125;,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="comment">//当def时reject时触发</span></div><div class="line">		alert(<span class="string">'失败'</span>);</div><div class="line">	&#125;);</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="provider供应商"><a href="#provider供应商" class="headerlink" title="provider供应商"></a><code>provider</code>供应商</h4><ol>
<li>服务本来就是任意对象</li>
<li>angular是通过<code>$provider</code>来实现依赖注入的，注入机制是通过调用一个<code>provider</code>的<code>get()</code>方法，把得到的对象作为相关参数进行调用</li>
</ol>
<p>服务的相关初始配置操作<br>要写到模块下的<code>config</code>当中<br>基本上大部分的服务都有供应商,在服务后加上<code>Provider</code>即可变成供应商</p>
<ul>
<li>startSymbol()表达式开始标记</li>
<li>endSymbol()表达式结束标记<br>其它供应商查看官方API</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"Aa"</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span></div><div class="line">@@name@@</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.config([<span class="string">'$interpolateProvider'</span>,<span class="function"><span class="keyword">function</span><span class="params">($interpolateProvider)</span> </span>&#123;</div><div class="line">	$interpolateProvider.startSymbol(<span class="string">"@@"</span>);</div><div class="line">	$interpolateProvider.endSymbol(<span class="string">"@@"</span>);</div><div class="line">&#125;]);</div><div class="line">myApp.controller(<span class="string">'Aa'</span>, [<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span><span class="params">($scope)</span></span>&#123;</div><div class="line">	$scope.name = <span class="string">"testConfig"</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="自定义服务"><a href="#自定义服务" class="headerlink" title="自定义服务"></a>自定义服务</h4><h5 id="factory"><a href="#factory" class="headerlink" title="factory()"></a><code>factory()</code></h5><p>它返回的数据类型可以是任意的<br>参数：</p>
<pre><code>1. 服务名字
    - 不要使用`$`开头，因为`$`开头一般用于内部服务
    - 先写内部服务，再写自定义的服务
1. 回调，可以是一个函数，如果需要引入其它服务，最好是写成一个数组的形式
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">模块名.factory(<span class="string">'服务名称'</span>,[<span class="string">'依赖的服务1'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">依赖的服务<span class="number">1</span></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		返回的内容</div><div class="line">	&#125;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.factory(<span class="string">'myRamdonNumber'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">n1,n2</span>)</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">Math</span>.random()*(n2-n1)+n1;</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line">myApp.factory(<span class="string">'mySever'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">name</span> : <span class="string">'hello'</span>,</div><div class="line">		<span class="attr">show</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">			alert(<span class="keyword">this</span>.name + <span class="string">' angular'</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;])</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'myRamdonNumber'</span>,<span class="string">'mySever'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,myRamdonNumber,mySever</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(myRamdonNumber(<span class="number">3</span>,<span class="number">9</span>));</div><div class="line">	mySever.show()</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="provider-service-自定义服务"><a href="#provider-service-自定义服务" class="headerlink" title="$provider.service 自定义服务"></a><code>$provider.service</code> 自定义服务</h5><p>返回的必须是引用类型的对象<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[],<span class="function"><span class="keyword">function</span>(<span class="params">$provide</span>)</span>&#123;</div><div class="line">	<span class="comment">//作为模块初始化后的函数调用</span></div><div class="line">	$provide.service(<span class="string">'job'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			<span class="attr">job</span> : <span class="string">'fontEnd developer'</span></div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line">&#125;);</div><div class="line">myApp.factory(<span class="string">'testFactory'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="comment">//自定义工厂 可以是任意内容</span></div><div class="line">	<span class="keyword">return</span> <span class="string">'testFactory'</span>;</div><div class="line">&#125;])</div><div class="line">myApp.service(<span class="string">'testService'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="comment">//自定义服务  返回的必须是引用类型的，不能为基本类型的</span></div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">sex</span> : <span class="string">'male'</span></div><div class="line">	&#125;</div><div class="line">&#125;])</div><div class="line">myApp.provider(<span class="string">'Myservice'</span>, [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">this</span>.$get = [<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">				<span class="attr">name</span> :<span class="string">'weison'</span></div><div class="line">		&#125;;</div><div class="line">	&#125;];</div><div class="line">&#125;])</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'testFactory'</span>,<span class="string">'job'</span>,<span class="string">'testService'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,testFactory,job,testService</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'testFactory'</span>,testFactory);</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'job'</span>,job);</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'testService'</span>,testService);</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="provider"><a href="#provider" class="headerlink" title="provider()"></a><code>provider()</code></h5><ul>
<li><code>factory</code>不支持利用cofig进行服务配置，而<code>provider</code>支持</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.provider(<span class="string">'showHi'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		name : <span class="string">'wesion'</span>,</div><div class="line">		$<span class="keyword">get</span> : <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			name : <span class="keyword">this</span>.name,</div><div class="line">			sayhi : <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">				alert(<span class="keyword">this</span>.name + <span class="string">' say hi'</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;]);</div><div class="line"><span class="comment">//利用config来重新配置服务</span></div><div class="line">m1.config([<span class="string">'showHiProvider'</span>,<span class="function"><span class="keyword">function</span><span class="params">(showHiProvider)</span></span>&#123;</div><div class="line">	showHiProvider.name = <span class="string">'newPerson'</span>;</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'showHi'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,showHi)</span> </span>&#123;</div><div class="line">	showHi.sayhi();</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="多个控制器之间数据共享"><a href="#多个控制器之间数据共享" class="headerlink" title="多个控制器之间数据共享"></a>多个控制器之间数据共享</h5><p>通过供应商的service服务，将内容注入到控制器当中<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span> <span class="attr">title</span>=<span class="string">"控制器 c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>控制器 c1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"data.name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c2"</span> <span class="attr">title</span>=<span class="string">"控制器 c2"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>控制器 c2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-bind</span>=<span class="string">"data.name"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line"><span class="comment">// 通过service来创建公共的数据，要注意返回的内容要是对象</span></div><div class="line">m1.service(<span class="string">'myData'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			name : <span class="string">'weison'</span></div><div class="line">		&#125;</div><div class="line">&#125;])</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'myData'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope,myData)</span> </span>&#123;</div><div class="line">	 <span class="comment">//注入服务后进行数据绑定</span></div><div class="line">		$scope.data = myData;</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c2'</span>, [<span class="string">'$scope'</span>,<span class="string">'myData'</span>,<span class="function"><span class="keyword">function</span> <span class="params">($scope,myData)</span> </span>&#123;</div><div class="line">	 <span class="comment">//注入服务后进行数据绑定</span></div><div class="line">		$scope.data = myData;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h6 id="模块之间的通信"><a href="#模块之间的通信" class="headerlink" title="模块之间的通信"></a>模块之间的通信</h6><p>把模块名称写在模块声明后的依赖模块名字即可。跟引入插件的方式一样<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"><span class="comment">//把module2模块引入的myApp中实现模块之间的通信，这样myApp就可以调用m2下的服务</span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[<span class="string">'module2'</span>]);</div><div class="line"><span class="keyword">var</span> m2 = angular.module(<span class="string">'module2'</span>,[]);</div><div class="line">m2.provider(<span class="string">'mySever'</span>, [<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		$<span class="keyword">get</span> : <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			<span class="keyword">return</span> &#123;</div><div class="line">				name : <span class="string">'hello'</span>,</div><div class="line">				show : <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">					<span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">' angular'</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;])</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'mySever'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($scope,mySever)</span> </span>&#123;</div><div class="line">	console.log(mySever.show());</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<ul>
<li>服务是共享的，但是在不同模块之间进行通信可以利用config来对<code>provider</code>声明的服务进行配置</li>
</ul>
<h5 id="service-针对面向对象的一种方式，支持构造函数"><a href="#service-针对面向对象的一种方式，支持构造函数" class="headerlink" title="service()  针对面向对象的一种方式，支持构造函数"></a><code>service()</code>  针对面向对象的一种方式，支持构造函数</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">myApp.service(<span class="string">'mySever2'</span>,serviceFn);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">serviceFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">this</span>.name = <span class="string">'service'</span>;</div><div class="line">&#125;</div><div class="line">serviceFn.prototype.show = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line">myApp.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'mySever2'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,mySever2</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(mySever2.name);</div><div class="line">	mySever2.show();</div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h5 id="constant-value-设置常量"><a href="#constant-value-设置常量" class="headerlink" title="constant() value()设置常量"></a><code>constant()</code> <code>value()</code>设置常量</h5><p>区别在于<code>constant()</code>可以利用config进行配置获取,而<code>config()</code>不可以</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.constant(<span class="string">'myName'</span>, <span class="string">'weison'</span>);</div><div class="line">m1.value(<span class="string">'myJob'</span>, [<span class="string">'fe'</span>,<span class="string">'designer'</span>]);</div><div class="line"><span class="comment">//注意constant来获取配置项是不用加provider</span></div><div class="line">m1.config([<span class="string">'myName'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">myName</span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(myName);</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>,<span class="string">'myName'</span>,<span class="string">'myJob'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,myName,myJob</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(myName); <span class="comment">// =&gt; weison</span></div><div class="line">	<span class="built_in">console</span>.log(myJob); <span class="comment">//  =&gt; ['fe','designer']</span></div><div class="line"></div><div class="line">&#125;])</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="事件内部传播"><a href="#事件内部传播" class="headerlink" title="事件内部传播"></a>事件内部传播</h3><p>事件默认的传播传播行为</p>
<h4 id="emit向上传播的机制，类似于冒泡的操作"><a href="#emit向上传播的机制，类似于冒泡的操作" class="headerlink" title="$emit向上传播的机制，类似于冒泡的操作"></a><code>$emit</code>向上传播的机制，类似于冒泡的操作</h4><h4 id="broadcast向下传播，类似于捕获的操作"><a href="#broadcast向下传播，类似于捕获的操作" class="headerlink" title="$broadcast向下传播，类似于捕获的操作"></a><code>$broadcast</code>向下传播，类似于捕获的操作</h4><p>传播是意思是只要用<code>$on</code>绑定过的相同命名的函数都会向上/向下触发<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c1"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> &gt;</span>&#123;&#123;account&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c2"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-click</span>=<span class="string">"$emit('myEvent')"</span>&gt;</span>&#123;&#123;account&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"c2"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">p</span> <span class="attr">ng-click</span>=<span class="string">"account=account+1"</span>&gt;</span>&#123;&#123;account&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> m1 = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">m1.controller(<span class="string">'c2'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	$scope.title = <span class="string">"haha"</span>;</div><div class="line">	$scope.account = <span class="number">1</span>;</div><div class="line">	$scope.$on(<span class="string">'myEvent'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(event);</div><div class="line">		$scope.account ++;</div><div class="line">	&#125;);</div><div class="line">&#125;]);</div><div class="line">m1.controller(<span class="string">'c1'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">	$scope.title = <span class="string">"haha"</span>;</div><div class="line">	$scope.$on(<span class="string">'myEvent'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(event);</div><div class="line">		$scope.account = <span class="number">10</span>;</div><div class="line">	&#125;);</div><div class="line">	$scope.account = <span class="number">0</span>;</div><div class="line">&#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="event事件对象"><a href="#event事件对象" class="headerlink" title="event事件对象"></a><code>event</code>事件对象</h4><ol>
<li><code>event.targetScope</code> 发出或者传播原始事件的作用域</li>
<li><code>event.currentScope</code> 目前正在处理的事件的作用域</li>
<li><code>event.name</code> 事件的名字</li>
<li><code>event.stopPropagation()</code> 阻止事件进一步传播 </li>
</ol>
<h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h4 id="ngRouter"><a href="#ngRouter" class="headerlink" title="ngRouter"></a><code>ngRouter</code></h4><h4 id="ngAnimate"><a href="#ngAnimate" class="headerlink" title="ngAnimate"></a><code>ngAnimate</code></h4><h4 id="ngResoure"><a href="#ngResoure" class="headerlink" title="ngResoure"></a><code>ngResoure</code></h4><h4 id="uiRouter"><a href="#uiRouter" class="headerlink" title="uiRouter"></a><code>uiRouter</code></h4><p>核心是通过url里面hash来替换<code>ui-view</code>里面的内容</p>
<h5 id="urlRouterProvider"><a href="#urlRouterProvider" class="headerlink" title="$urlRouterProvider"></a><code>$urlRouterProvider</code></h5><p>主要用于url的跳转、重定向或者在访问页面时给它一个默认的url</p>
<h5 id="stateProvider"><a href="#stateProvider" class="headerlink" title="$stateProvider"></a><code>$stateProvider</code></h5><p>用于定义路由规则</p>
<ol>
<li><p>方式1</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(<span class="string">'main'</span>,&#123;</div><div class="line"> <span class="attr">url</span> :<span class="string">'/main'</span>,</div><div class="line"> <span class="attr">template</span>:<span class="string">'&lt;div&gt;main&#123;&#123;title&#125;&#125;&lt;/div&gt;'</span>,</div><div class="line"> <span class="attr">controller</span> : <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123; $scope.title = <span class="string">'hello'</span>; &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>方式2</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(</div><div class="line"> &#123;</div><div class="line"> <span class="attr">name</span> : <span class="string">'main'</span>,</div><div class="line"> <span class="attr">url</span> :<span class="string">'/main'</span>,</div><div class="line"> <span class="attr">template</span>:<span class="string">'&lt;div&gt;main&#123;&#123;title&#125;&#125;&lt;/div&gt;'</span>,</div><div class="line"> <span class="attr">controller</span> : <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123; $scope.title = <span class="string">'hello'</span>; &#125;</div><div class="line">&#125;</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="激活路由的3种方式"><a href="#激活路由的3种方式" class="headerlink" title="激活路由的3种方式"></a>激活路由的3种方式</h5><ol>
<li><p><code>ui-sref=&#39;state的名称&#39;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a ui-sref=<span class="string">"main"</span> &gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></div></pre></td></tr></table></figure>
</li>
<li><p>通过url地址</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=<span class="string">"#/main"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></div></pre></td></tr></table></figure>
</li>
<li><p>通过<code>$state.go(state名称)</code></p>
</li>
</ol>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#### 定义父子级来定义路由</span></div><div class="line">当直接访问父级时不会有子级的内容，当访问子级时，它会插到父级`template`里的`<span class="variable">&lt;ui-view&gt;</span>&lt;/ui-view&gt;`中</div><div class="line"><span class="number">1</span>. 在`<span class="keyword">state</span>`中带上子级名称 </div><div class="line">````javascript</div><div class="line"> <span class="variable">&lt;script&gt;</span></div><div class="line">   <span class="variable">$stateProvider</span>.<span class="keyword">state</span>('main',&#123;</div><div class="line">       url : '/main',</div><div class="line">       template:'<span class="variable">&lt;div&gt;</span>&#123;&#123;title&#125;&#125;<span class="variable">&lt;ui-view&gt;</span>&lt;/ui-view&gt;&lt;/div&gt;',</div><div class="line">       controller : function()&#123;</div><div class="line">       //执行内容</div><div class="line">     &#125;</div><div class="line">   &#125;)</div><div class="line">   .<span class="keyword">state</span>('main.sub',&#123;</div><div class="line">    url : '/sub',</div><div class="line">    template : '<span class="variable">&lt;p&gt;</span>&#123;&#123;title&#125;&#125;&lt;/p&gt;',</div><div class="line">    controller : function()&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">   &#125;)</div><div class="line"> &lt;/script&gt;</div></pre></td></tr></table></figure>
<p>它的访问方式是<code>&lt;a ui-sref=&quot;main.sub&quot;&gt;&lt;/a&gt;</code></p>
<ol>
<li>在属性中添加<code>parent</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  $stateProvider.state(<span class="string">'main'</span>,&#123;</div><div class="line">      <span class="attr">url</span> : <span class="string">'/main'</span>,</div><div class="line">      <span class="attr">template</span>:<span class="string">'&lt;div&gt;&#123;&#123;title&#125;&#125;&lt;ui-view&gt;&lt;/ui-view&gt;&lt;/div&gt;'</span>,</div><div class="line">      <span class="attr">controller</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="comment">//执行内容</span></div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line">  .state(<span class="string">'sub2'</span>,&#123;</div><div class="line">   <span class="attr">url</span> : <span class="string">'/sub2'</span>,</div><div class="line">   <span class="attr">template</span> : <span class="string">'&lt;p&gt;&#123;&#123;title&#125;&#125;&lt;/p&gt;'</span>,</div><div class="line">   <span class="attr">parent</span> : <span class="string">'main'</span>，</div><div class="line">   controller : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">   &#125;</div><div class="line">  &#125;)</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>它的访问方式是<code>&lt;a ui-sref=&quot;sub2&quot;&gt;&lt;/a&gt;</code></p>
<h4 id="在url中添加参数"><a href="#在url中添加参数" class="headerlink" title="在url中添加参数"></a>在url中添加参数</h4><ol>
<li>在路由的<code>url</code>中添加<code>:参数1名称&amp;参数2名称</code></li>
<li>在页面上注入<code>$stateParams</code>来读取页面上的参数</li>
</ol>
<p>若应用在项目的<code>rpc</code>框架中写法为<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  <span class="comment">// config的路径配置</span></div><div class="line">  <span class="string">'articleDetail/:id&amp;:type'</span>:basePath+<span class="string">"/helpCenter/articleDetail/articleDetail.html"</span>,</div><div class="line">  <span class="comment">// 注入到读取页面中然后打印属性可看到 </span></div><div class="line">  <span class="built_in">console</span>.log($stateParams);</div><div class="line">  <span class="comment">// 超链接的写法</span></div><div class="line">  <span class="comment">// &lt;li ui-sref-active="active"&gt;&lt;a href="#/articleDetail/id=35&amp;type=2"  &gt;关于我们&lt;/a&gt;&lt;/li&gt;</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  .state(<span class="string">'tab.shop-detail'</span>, &#123;</div><div class="line">      <span class="attr">url</span>: <span class="string">'/shops/:shop_id'</span>,</div><div class="line">      <span class="attr">views</span>: &#123;</div><div class="line">        <span class="string">'tab-shops'</span>: &#123;</div><div class="line">          <span class="attr">templateUrl</span>: <span class="string">'templates/shop-detail.html'</span>,</div><div class="line">          <span class="attr">controller</span>: <span class="string">'ShopDetailCtrl'</span></div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">  <span class="comment">//shop controller</span></div><div class="line">  $<span class="built_in">window</span>.location.href = <span class="string">'#/tab/shops/'</span>+shop_id;    </div><div class="line">  <span class="comment">//ShopDetailCtrl </span></div><div class="line">  controller(<span class="string">'ShopDetailCtrl'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,$stateParams</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> ($stateParams.shop_id) &#123;</div><div class="line">          </div><div class="line">      &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ol>
<li><a href="https://github.com/kittencup" target="_blank" rel="external">kittencup</a></li>
<li><a href="http://www.html-js.com/article/1863" target="_blank" rel="external">创建你自己的AngularJS</a></li>
<li><a href="http://www.cnblogs.com/liulangmao/p/4110137.html" target="_blank" rel="external">angular指令中使用ngModelController</a></li>
<li><a href="http://i.youku.com/i/UNTQzNzEzOTk2/videos" target="_blank" rel="external">angular-ui-router视频教程</a></li>
<li><a href="http://www.tuicool.com/articles/qIBNve" target="_blank" rel="external">AngularJS的学习–$on、$emit和$broadcast的使用 - 疯狂的原始人</a></li>
<li><a href="http://www.jianshu.com/p/1e1aaf0fd30a" target="_blank" rel="external">AngularJS中如何对Controller与Service进行分层设计与编码</a></li>
<li><a href="http://www.aliued.com/?p=3199" target="_blank" rel="external">angular路由</a></li>
<li><a href="https://ui-router.github.io/tutorial/ng1/helloworld" target="_blank" rel="external">官网ui-router教学</a></li>
<li><a href="http://angular-ui.github.io/bootstrap/versioned-docs/1.3.3/#/" target="_blank" rel="external">angular-ui</a></li>
<li><a href="http://sentsin.com/web/659.html" target="_blank" rel="external">AngularJS指令进阶 – ngModelController详解</a></li>
<li><a href="http://ngmodules.org/" target="_blank" rel="external">angluar各种相关插件网站</a></li>
<li><a href="http://www.jackpu.com/qu-diao-dan-ye-ying-yong-zhong-de-ke-e-de-hashbang/" target="_blank" rel="external">去掉单页应用 (SPA) 中的可恶的’#’号</a></li>
<li><a href="http://www.jackpu.com/shi-ge-jing-chang-yu-jian-de-angular-jsmian-shi-wen-ti/" target="_blank" rel="external">十个由浅入深的Angular.js面试问题</a></li>
<li><a href="https://segmentfault.com/q/1010000003839574" target="_blank" rel="external">angualr ui router 如何传递参数</a></li>
<li><a href="http://www.cnblogs.com/JustRun1983/p/3936371.html" target="_blank" rel="external">AngularJs中，如何在render完成之后，执行Js脚本</a></li>
<li><a href="http://www.cnblogs.com/wangmeijian/p/5141266.html" target="_blank" rel="external">利用angular指令监听ng-repeat渲染完成后执行脚本</a></li>
<li><a href="https://segmentfault.com/a/1190000006612247" target="_blank" rel="external">ngVerify - 更高效的 angular 表单验证</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/05/10/function/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/function/" itemprop="url">
                  function函数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-10T21:43:20+08:00">
                2016-05-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/10/function/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/function/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>通过函数可以封装多条语句，在任意地方，任何时间来调用执行。ECMAScript中使用function来声明函数。<br>函数在执行的时候会创建一个私有的作用域（栈内存，用于存取基本类型的数据和执行代码）</p>
<p>在刚开始加载页面的时候，浏览器会天生自带一个供js执行的环境（栈内存），称之为作用域。而且加载页面时的那个作用域叫全局作用域。当开始加载js代码之前，会把带有var和function的进行提前的声明或定义。我们把这种机制叫“预解释(变量提升)”</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/05/10/function/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/05/07/canvas/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/07/canvas/" itemprop="url">
                  canvas
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-07T14:46:03+08:00">
                2016-05-07
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/07/canvas/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/07/canvas/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>getContext()</code>设置画布类型<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.querySelect(<span class="string">'#canvas'</span>);</div><div class="line"><span class="keyword">var</span> c2d = canvas.getContext(<span class="string">'2d'</span>); <span class="comment">//创建一个2d画布</span></div></pre></td></tr></table></figure></p>
<h1 id="绘制矩形"><a href="#绘制矩形" class="headerlink" title="绘制矩形"></a>绘制矩形</h1><p><code>obj.fllRect(L,T,W,H)</code> 填充一个矩形<br><code>obj.strokeRect(L,T,W,H)</code>创建一个带边框的矩形</p>
<h2 id="设置样式"><a href="#设置样式" class="headerlink" title="设置样式"></a>设置样式</h2><p><code>fillStyle</code>   填充颜色<br><code>lineWidth</code>   线宽度<br><code>strokeStyle</code> 边框颜色<br><code>lineJoin</code>    边界连接点样式 </p>
<ul>
<li><code>round</code>  圆角矩形</li>
<li><code>bevel</code>  斜角</li>
<li><code>butt</code>   默认，直角</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span></div><div class="line">	浏览器不支持canvas</div><div class="line"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="keyword">var</span> c = <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line"></div><div class="line">	<span class="comment">//getContext创建场景</span></div><div class="line">	<span class="keyword">var</span> c2d = c.getContext(<span class="string">'2d'</span>);</div><div class="line"></div><div class="line">	c2d.fillStyle = <span class="string">'red'</span>;</div><div class="line">	c2d.fillRect(<span class="number">50.5</span>,<span class="number">50.5</span>,<span class="number">100</span>,<span class="number">100</span>);</div><div class="line"></div><div class="line">	c2d.lineWidth = <span class="number">20</span>;</div><div class="line">	c2d.lineJoin = <span class="string">'bevel'</span></div><div class="line">	c2d.strokeStyle = <span class="string">'blue'</span>;</div><div class="line">	c2d.strokeRect(<span class="number">50.5</span>,<span class="number">50.5</span>,<span class="number">100</span>,<span class="number">100</span>);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="大小设置"><a href="#大小设置" class="headerlink" title="大小设置"></a>大小设置</h2><p>要注意的是，定义的样式必须要是绘制图形前设置完成<br>在设置canvas的宽高时，建议写在canvas的行内，如果通过样式来写，<br>它不会按实际定义的样式，而是通过计算style内的值与原来的大小<br>(w:300,h:150)来进行等比缩放<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">html</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#000</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-id">#canvas</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#fff</span>;</div><div class="line">		<span class="attribute">width</span>:<span class="number">600px</span>;</div><div class="line">		<span class="attribute">height</span>:<span class="number">200px</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="绘制路径"><a href="#绘制路径" class="headerlink" title="绘制路径"></a>绘制路径</h1><ul>
<li><code>beginPath</code>   开始绘制路径</li>
<li><code>closePath</code>   结束绘制路径，有连接始点和终点的作用</li>
<li><code>moveTo(x,y)</code> 移动到绘制的新目标点</li>
<li><code>lineTo(x,y)</code> 新目标点</li>
<li><code>stroke()</code>    绘制线条</li>
<li><code>fill()</code>      填充图形</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">html</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#000</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-id">#canvas</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#fff</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">var</span> oC= <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line">		<span class="keyword">var</span> o2d = oC.getContext(<span class="string">'2d'</span>);</div><div class="line">		o2d.beginPath();</div><div class="line">		o2d.moveTo(<span class="number">100</span>,<span class="number">100</span>);</div><div class="line">		o2d.lineTo(<span class="number">200</span>,<span class="number">300</span>);</div><div class="line">		o2d.lineTo(<span class="number">200</span>,<span class="number">100</span>);</div><div class="line">		o2d.closePath();</div><div class="line">		o2d.stroke();</div><div class="line"></div><div class="line">		o2d.beginPath();</div><div class="line">		o2d.moveTo(<span class="number">300</span>,<span class="number">100</span>);</div><div class="line">		o2d.lineTo(<span class="number">400</span>,<span class="number">100</span>);</div><div class="line">		o2d.lineTo(<span class="number">400</span>,<span class="number">300</span>);</div><div class="line">		o2d.closePath();</div><div class="line">		o2d.fill();</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol>
<li><code>beginPath()</code>            开始绘制路径</li>
<li><code>moveTo(x,y)</code>            确认始点</li>
<li><code>lineTo(x,y)</code>            创建另一个节点</li>
<li><code>closePath()</code>            连接始点和终点</li>
<li><code>stroke[fill]()</code>     绘制线条||填充</li>
</ol>
<h2 id="rect-L-T-W-H-绘制矩形"><a href="#rect-L-T-W-H-绘制矩形" class="headerlink" title="rect(L,T,W,H) 绘制矩形"></a><code>rect(L,T,W,H)</code> 绘制矩形</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">html</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#000</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-id">#canvas</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#fff</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">var</span> oC= <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line">		<span class="keyword">var</span> o2d = oC.getContext(<span class="string">'2d'</span>);</div><div class="line">		o2d.beginPath();</div><div class="line">		o2d.fillStyle = <span class="string">'red'</span>;</div><div class="line">		o2d.rect(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>);</div><div class="line">		o2d.closePath();</div><div class="line">		o2d.fill();</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="clearRect-L-T-W-H-清除画布"><a href="#clearRect-L-T-W-H-清除画布" class="headerlink" title="clearRect(L,T,W,H)清除画布"></a><code>clearRect(L,T,W,H)</code>清除画布</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">	<span class="selector-tag">html</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#000</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="selector-id">#canvas</span>&#123;</div><div class="line">		<span class="attribute">background</span>: <span class="number">#fff</span>;</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">var</span> oC= <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line">		<span class="keyword">var</span> o2d = oC.getContext(<span class="string">'2d'</span>);</div><div class="line">		o2d.beginPath();</div><div class="line">		o2d.fillStyle = <span class="string">'red'</span>;</div><div class="line">		o2d.rect(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>);</div><div class="line">		o2d.closePath();</div><div class="line">		o2d.stroke();</div><div class="line">		o2d.clearRect(<span class="number">0</span>,<span class="number">0</span>,oC.clientWidth,oC.clientHeight);</div><div class="line">	&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="save-保存路径与restore-恢复路径"><a href="#save-保存路径与restore-恢复路径" class="headerlink" title="save()保存路径与restore()恢复路径"></a><code>save()</code>保存路径与<code>restore()</code>恢复路径</h2><p>相当于创建一个独立的路径，内部所做的改变路径样式的操作不影响外部其它范围。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">background</span>: <span class="number">#000</span>;&#125;</div><div class="line"><span class="selector-id">#canvas</span>&#123;<span class="attribute">background</span>: <span class="number">#fff</span>;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> oC= <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line">	<span class="keyword">var</span> o2d = oC.getContext(<span class="string">'2d'</span>);</div><div class="line">	o2d.save();</div><div class="line">	o2d.beginPath();</div><div class="line">	o2d.moveTo(<span class="number">100</span>,<span class="number">100</span>);</div><div class="line">	o2d.lineTo(<span class="number">200</span>,<span class="number">300</span>);</div><div class="line">	o2d.lineTo(<span class="number">200</span>,<span class="number">100</span>);</div><div class="line">	o2d.fillStyle = <span class="string">'red'</span>;</div><div class="line">	o2d.closePath();</div><div class="line">	o2d.fill();</div><div class="line">	o2d.restore();</div><div class="line"></div><div class="line">	o2d.beginPath();</div><div class="line">	o2d.moveTo(<span class="number">300</span>,<span class="number">100</span>);</div><div class="line">	o2d.lineTo(<span class="number">400</span>,<span class="number">100</span>);</div><div class="line">	o2d.lineTo(<span class="number">400</span>,<span class="number">300</span>);</div><div class="line">	o2d.closePath();</div><div class="line">	o2d.fill();</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="lineCap-端点样式"><a href="#lineCap-端点样式" class="headerlink" title="lineCap 端点样式"></a><code>lineCap</code> 端点样式</h2><ul>
<li><code>butt</code> 默认</li>
<li><code>round</code> 圆形</li>
<li><code>square</code> 多出宽度的一半，比如说lineWidth是10像素，<br>那么加上<code>square</code>后，会多5像素的长度</li>
</ul>
<h1 id="绘制圆形arc-x-y-半径-起始弧度，结束弧度，旋转方向"><a href="#绘制圆形arc-x-y-半径-起始弧度，结束弧度，旋转方向" class="headerlink" title="绘制圆形arc(x,y,半径,起始弧度，结束弧度，旋转方向)"></a>绘制圆形<code>arc(x,y,半径,起始弧度，结束弧度，旋转方向)</code></h1><ul>
<li>弧度与角度的换算关系 弧度 = 角度 * Math.PI / 180;</li>
<li>旋转方向，默认为false（顺时针），true（逆时针）</li>
</ul>
<h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><h2 id="鼠标移动画线"><a href="#鼠标移动画线" class="headerlink" title="鼠标移动画线"></a><code>鼠标移动画线</code></h2><p>当鼠标点击在画布上时，记录当前位置作为线的<code>moveTo()</code>起点值，然后记录文档移动的位置，当作<code>lineTo()</code>的新节点，调用<code>stroke</code>绘制线条，而最后鼠标释放时，将<code>onmousemove</code>和<code>document.mouseup</code>重置为null<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">background</span>: <span class="number">#000</span>;&#125;</div><div class="line"><span class="selector-id">#canvas</span>&#123;<span class="attribute">background</span>: <span class="number">#fff</span>;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> oC= <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line">	<span class="keyword">var</span> o2d = oC.getContext(<span class="string">'2d'</span>);</div><div class="line">	oC.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">		<span class="keyword">var</span> ev = ev || <span class="built_in">window</span>.event;</div><div class="line">		o2d.moveTo(ev.clientX - oC.offsetLeft,ev.clientY - oC.offsetTop);</div><div class="line">		<span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">			<span class="keyword">var</span> ev = ev || <span class="built_in">window</span>.event;</div><div class="line">			o2d.lineTo(ev.clientX - oC.offsetLeft,ev.clientY - oC.offsetTop);</div><div class="line">			o2d.stroke();</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">			<span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</div><div class="line">			<span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="移动的矩形"><a href="#移动的矩形" class="headerlink" title="移动的矩形"></a>移动的矩形</h2><ol>
<li>利用<code>fillRect(x,y,w,h)</code>创建一个填充矩形</li>
<li>通过<code>setInterval()</code>来定时更新矩形的left,top值</li>
<li><code>clearRect()</code>清空上一次的画布内容</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">background</span>: <span class="number">#000</span>;&#125;</div><div class="line"><span class="selector-id">#canvas</span>&#123;<span class="attribute">background</span>: <span class="number">#fff</span>;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> oC = <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>),</div><div class="line">	    c2d = oC.getContext(<span class="string">'2d'</span>),</div><div class="line">	    num = <span class="number">20</span>,</div><div class="line">	    timer = <span class="literal">null</span>;</div><div class="line">	 c2d.fillStyle = <span class="string">'red'</span>;</div><div class="line">	 c2d.fillRect(<span class="number">10</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">100</span>);</div><div class="line">	 timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	 	c2d.clearRect(<span class="number">0</span>,<span class="number">0</span>,oC.width,oC.height);</div><div class="line">	 	num ++;</div><div class="line">	 	c2d.fillRect(num,num,<span class="number">100</span>,<span class="number">100</span>);</div><div class="line">	 	<span class="keyword">if</span>(num &gt; oC.width - <span class="number">100</span>)&#123;</div><div class="line">	 		clearInterval(timer)</div><div class="line">	 	&#125;</div><div class="line">	 &#125;,<span class="number">20</span>);</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="绘制实行的钟表"><a href="#绘制实行的钟表" class="headerlink" title="绘制实行的钟表"></a>绘制实行的钟表</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line">html&#123;background: #000;&#125;</div><div class="line">#canvas&#123;background: #fff;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> oC = <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>),</div><div class="line">	    c2d = oC.getContext(<span class="string">'2d'</span>),</div><div class="line">	   </div><div class="line">	    x = <span class="number">200</span>,</div><div class="line">	    y = <span class="number">200</span>,</div><div class="line">	    r = <span class="number">150</span>;</div><div class="line">	c2d.moveTo(<span class="number">200</span>,<span class="number">200</span>);</div><div class="line"></div><div class="line">	<span class="comment">//绘制外圆和秒钟刻度</span></div><div class="line">	<span class="comment">//rad 代表每次旋转角度</span></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">toDraw</span>(<span class="params">rad</span>)</span>&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> num =<span class="number">0</span>;num &lt;(<span class="number">360</span>/rad);num++)&#123;</div><div class="line">			c2d.moveTo(x,y);</div><div class="line">			c2d.arc(x,y,r,(<span class="number">-90</span>+num*rad)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,(<span class="number">-90</span>+(num+<span class="number">1</span>)*rad)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,<span class="literal">false</span>);</div><div class="line">			c2d.stroke();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">conver</span>(<span class="params">size</span>)</span>&#123;</div><div class="line">		c2d.fillStyle = <span class="string">'#fff'</span>;</div><div class="line">		c2d.beginPath();</div><div class="line">		c2d.moveTo(x,y);</div><div class="line">		c2d.arc(x,y,size/<span class="number">20</span>*r,<span class="number">0</span>,<span class="number">360</span>*<span class="built_in">Math</span>.PI/<span class="number">180</span>);</div><div class="line">		c2d.fill();</div><div class="line">		c2d.closePath();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">// width   线的宽度</span></div><div class="line">	<span class="comment">// len     长度</span></div><div class="line">	<span class="comment">// nowTime 采用的单位</span></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">drawPoint</span>(<span class="params">width,len,nowTime</span>)</span>&#123;</div><div class="line"></div><div class="line">		c2d.lineCap = <span class="string">'round'</span>;</div><div class="line">		c2d.lineWidth = width;</div><div class="line">		c2d.beginPath();</div><div class="line">		c2d.moveTo(x,y);</div><div class="line">		nowTime = (<span class="number">-90</span> + nowTime)*<span class="built_in">Math</span>.PI/<span class="number">180</span>;</div><div class="line">		c2d.arc(x,y,len/<span class="number">20</span>*r,nowTime,nowTime);</div><div class="line">		c2d.stroke();</div><div class="line">		c2d.closePath();</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">drawClock</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		c2d.clearRect(<span class="number">0</span>,<span class="number">0</span>,oC.width,oC.height);</div><div class="line">		<span class="comment">//获取时间</span></div><div class="line">		<span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">		<span class="keyword">var</span> dHour = d.getHours(),</div><div class="line">			dMin = d.getMinutes(),</div><div class="line">			dSec = d.getSeconds()</div><div class="line">		c2d.beginPath();</div><div class="line">		toDraw(<span class="number">6</span>);</div><div class="line">		c2d.closePath();</div><div class="line">			<span class="comment">//绘制一个白色圆形，覆盖在上面</span></div><div class="line">			conver(<span class="number">19</span>);</div><div class="line">		</div><div class="line">		<span class="comment">//绘制分钟表盘</span></div><div class="line">		c2d.lineWidth = <span class="number">4</span>;</div><div class="line">		c2d.beginPath();</div><div class="line">		toDraw(<span class="number">30</span>);</div><div class="line">		c2d.closePath();</div><div class="line">		conver(<span class="number">17</span>)</div><div class="line"></div><div class="line">		<span class="comment">//绘制时针，当分针走到一半时，时钟应该走了两个时间期间中</span></div><div class="line">		<span class="comment">//所以就相当于30分钟15度，2小钟1度，所以把分钟/2就可以</span></div><div class="line">		<span class="comment">//算出当前分钟数时针的指向</span></div><div class="line">		drawPoint(<span class="number">5</span>,<span class="number">10</span>,dHour*<span class="number">30</span>+dMin/<span class="number">2</span>);</div><div class="line">		<span class="comment">//绘制分针</span></div><div class="line">		drawPoint(<span class="number">3</span>,<span class="number">14</span>,dMin*<span class="number">6</span>);</div><div class="line">		<span class="comment">//绘制秒针</span></div><div class="line">		drawPoint(<span class="number">1</span>,<span class="number">16</span>,dSec*<span class="number">6</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	drawClock();</div><div class="line">	setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;drawClock()&#125;,<span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/04/14/dom/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/14/dom/" itemprop="url">
                  dom 文档对象模型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-14T00:32:07+08:00">
                2016-04-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/04/14/dom/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/14/dom/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>文档： html页面<br>文档对象：页面中的元素<br>为了让js能操作html元素的一套标准。它把会DOM看成一棵树，把html折分成各种节点类型，并把树状的元素根据层级来定义了不同的关系。</p>
<h3 id="获取元素"><a href="#获取元素" class="headerlink" title="获取元素"></a>获取元素</h3><h4 id="document-getElementById-id值"><a href="#document-getElementById-id值" class="headerlink" title="document.getElementById(id值)"></a><code>document.getElementById(id值)</code></h4><p>通过元素的id获取这个元素对象</p>
<ol>
<li>如果页面中的id重复了，默认只会获取第一个符合的元素</li>
<li>如果没有获取到元素，会返回null</li>
<li><p>在ie6,ie7中，会把表单元素（input）的name属性值当作是ID来使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"tab"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tab"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">'tab'</span>).tagName); <span class="comment">//正宗情况下是div ,ie7下是INPUT</span></div><div class="line">    &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>在ie6,7中不区分ID的大小写<br>因此在项目中要注意不要让input的name与其它元素的id值一样，也不要使用大小写（tab,Tab）来区分不同的元素</p>
</li>
<li>可以直接写元素的id来充当这个元素（不推荐）<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tab"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">   <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="built_in">console</span>.log(tab); <span class="comment">//&lt;div id="tab"&gt;&lt;/div&gt;</span></div><div class="line">   &#125;</div><div class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="document-getElementsByTagName-quot-元素标签名-quot"><a href="#document-getElementsByTagName-quot-元素标签名-quot" class="headerlink" title="document.getElementsByTagName(&quot;元素标签名&quot;)"></a><code>document.getElementsByTagName(&quot;元素标签名&quot;)</code></h4><p>通过元素的标签名来获取一组元素<br><code>document</code>称之为上下文，它决定元素选择时的范围，如<code>document.geElementsByTagName()</code>就是在整个文档中查找元素，<br><code>tab.geElementsByTagName()</code>只有tab范围内查找元素，<code>document.getElementById()</code>的上下文中只能是<code>document</code></p>
<ul>
<li>获取的是一个对象数据类似的结果，并且是一个类数组（以数字作为索引，从0开始，逐级递增，索引值对应当前的某一个元素，并且有一个<code>length</code>属性代表获取的个数）<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">u</span>&gt;</span><span class="tag">&lt;/<span class="name">u</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</div><div class="line">    <span class="built_in">console</span>.dir(oLi);</div><div class="line">    <span class="comment">// 获取li的个数</span></div><div class="line">    <span class="built_in">console</span>.log(oLi.length); <span class="comment">// =&gt; 3</span></div><div class="line">    <span class="comment">// 获取第n个li</span></div><div class="line">    <span class="built_in">console</span>.log(oLi[<span class="number">1</span>]);  <span class="comment">// =&gt;   &lt;li&gt;2&lt;/li&gt;</span></div><div class="line">    <span class="built_in">console</span>.log(oLi.item(<span class="number">1</span>));  <span class="comment">// =&gt;   &lt;li&gt;2&lt;/li&gt;</span></div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="content-getElementsByName-39-name-39-通过元素的name值来获取元素"><a href="#content-getElementsByName-39-name-39-通过元素的name值来获取元素" class="headerlink" title="content.getElementsByName(&#39;name&#39;) 通过元素的name值来获取元素"></a><code>content.getElementsByName(&#39;name&#39;)</code> 通过元素的name值来获取元素</h4><ul>
<li>在IE下只对表单元素起作用</li>
<li>这个方法应用于获取具有相同name的表单元素</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"男"</span>&gt;</span>男</div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"女"</span>&gt;</span>女</div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">'submit'</span>);</div><div class="line">   <span class="keyword">var</span> oSex = <span class="built_in">document</span>.getElementsByName(<span class="string">'sex'</span>);</div><div class="line">   oBtn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> cur = <span class="string">''</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;oSex.length;i++)&#123;</div><div class="line">      <span class="keyword">if</span>(oSex[i].checked == <span class="literal">true</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(oSex[i].value);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">   &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="content-getElementsByClassName-39-name-39-通过元素的class类名来获取元素"><a href="#content-getElementsByClassName-39-name-39-通过元素的class类名来获取元素" class="headerlink" title="content.getElementsByClassName(&#39;name&#39;) 通过元素的class类名来获取元素"></a><code>content.getElementsByClassName(&#39;name&#39;)</code> 通过元素的class类名来获取元素</h4><p>是项目中最常用的一种方法，但是在ie6~ie8不兼容</p>
<h4 id="document-documentElement获取整个html"><a href="#document-documentElement获取整个html" class="headerlink" title="document.documentElement获取整个html"></a><code>document.documentElement</code>获取整个html</h4><h4 id="document-body获取body"><a href="#document-body获取body" class="headerlink" title="document.body获取body"></a><code>document.body</code>获取body</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="comment">// 常用于获取屏幕尺寸</span></div><div class="line">	<span class="keyword">var</span> windowWidth = <span class="built_in">document</span>.documentElement.clientWidth || <span class="built_in">document</span>.body.clientWidth;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="在移动端获取元素的常用方法"><a href="#在移动端获取元素的常用方法" class="headerlink" title="在移动端获取元素的常用方法"></a>在移动端获取元素的常用方法</h4><ul>
<li><code>document.querySelector()</code> 获取一个</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">scritp</span>&gt;</span></div><div class="line">var oDiv = document.querySelector('#div1');</div><div class="line"><span class="tag">&lt;/<span class="name">scritp</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>document.querySelectorAll()</code> 获取多个，类数组<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">scritp</span>&gt;</span></div><div class="line">var oDiv = document.querySelectorAll('#tab li');</div><div class="line">var oRadio = document.querySelectorAll("input[type='radio']");</div><div class="line"><span class="tag">&lt;/<span class="name">scritp</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>jquery和querySelector的选择器是参考css选择器来做的</p>
<h3 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h3><p>一个页面上的标签，文字、注释…都是节点</p>
<ol>
<li><code>childNodes</code>子节点列表集合（只读），它只包含一级子节点，不包含更内部的孙节点<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"oUl"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  	<span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">'oUl'</span>);</div><div class="line">  	<span class="built_in">console</span>.log(oUl.childNodes.length); </div><div class="line">  	<span class="comment">// =》标准浏览器下是9 ，因为节点包含很多种类型，这里面有文本节点（5）和标签节点</span></div><div class="line">  	<span class="comment">// =》ie6,7下是4 ，因为它只计算了标签节点</span></div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>DOM节点一共有12种类型，可以通过nodeType来判断节点类型<br><a href="http://www.w3school.com.cn/jsref/prop_node_nodetype.asp" target="_blank" rel="external">HTML DOM nodeType 属性</a></p>
<ul>
<li>元素节点 1</li>
<li>属性节点 2</li>
<li>文本节点 3<br>| 节点名称  | nodeType | nodeName  | nodeValue |<br>| – | – | – | – |<br>| 元素节点 |  1  | 大写的标签名 | null |<br>| 文本节点(文字) |  3  | #text | 文本内容 |<br>| 注释节点 |  8  | #comment | 注释内容 |<br>| document |  9  | #document | null |</li>
</ul>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 测试childNodes --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> &gt;</span>li0<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> &gt;</span>li1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"myList"</span>&gt;</span>li2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>li3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>li4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>li5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.getElementById(<span class="string">'myList'</span>);</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">      eleId 当前元素</div><div class="line">     */</div><div class="line">    <span class="keyword">var</span> prev = <span class="function"><span class="keyword">function</span>(<span class="params">eleId</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ele = <span class="built_in">document</span>.getElementById(eleId),</div><div class="line">             preEle = ele.previousSibling;</div><div class="line">        <span class="keyword">while</span>(preEle &amp;&amp; preEle.nodeType != <span class="number">1</span>)&#123;</div><div class="line">          preEle = preEle.previousSibling;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> preEle;</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// prev('myList');</span></div><div class="line"></div><div class="line">    <span class="comment">//所有的哥哥元素</span></div><div class="line">    <span class="keyword">var</span> prevAll = <span class="function"><span class="keyword">function</span>(<span class="params">eleId</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ele = <span class="built_in">document</span>.getElementById(eleId),</div><div class="line">             preEle = ele.previousSibling,</div><div class="line">             eleArr = [];</div><div class="line">        <span class="keyword">while</span>(preEle)&#123;</div><div class="line">          <span class="keyword">if</span>(preEle.nodeType == <span class="number">1</span>)&#123;</div><div class="line">            eleArr.unshift(preEle);</div><div class="line">          &#125;</div><div class="line">           preEle = preEle.previousSibling;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> eleArr;</div><div class="line">      &#125;</div><div class="line">    <span class="comment">// prevAll('myList');</span></div><div class="line"></div><div class="line">    <span class="comment">//下一个弟弟元素</span></div><div class="line">    <span class="keyword">var</span> next = <span class="function"><span class="keyword">function</span>(<span class="params">eleId</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ele = <span class="built_in">document</span>.getElementById(eleId),</div><div class="line">             nextEle = ele.nextSibling,</div><div class="line">             eleArr = [];</div><div class="line">        <span class="keyword">while</span>(nextEle)&#123;</div><div class="line">          <span class="keyword">if</span>(nextEle.nodeType == <span class="number">1</span>)&#123;</div><div class="line">            eleArr.unshift(nextEle);</div><div class="line">          &#125;</div><div class="line">           nextEle = nextEle.nextSibling;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> nextEle;</div><div class="line">      &#125;</div><div class="line">    <span class="comment">// next('myList');</span></div><div class="line"></div><div class="line">    <span class="comment">//所有弟弟元素</span></div><div class="line">     <span class="keyword">var</span> nextAll = <span class="function"><span class="keyword">function</span>(<span class="params">eleId</span>)</span>&#123;</div><div class="line">         <span class="keyword">var</span> ele = <span class="built_in">document</span>.getElementById(eleId),</div><div class="line">              preEle = ele.nextSibling,</div><div class="line">              eleArr = [];</div><div class="line">         <span class="keyword">while</span>(preEle)&#123;</div><div class="line">           <span class="keyword">if</span>(preEle.nodeType == <span class="number">1</span>)&#123;</div><div class="line">             eleArr.push(preEle);</div><div class="line">           &#125;</div><div class="line">            preEle = preEle.nextSibling;</div><div class="line">         &#125;</div><div class="line">         <span class="keyword">return</span> eleArr;</div><div class="line">       &#125;</div><div class="line">     <span class="comment">// nextAll('myList');</span></div><div class="line"></div><div class="line">     <span class="comment">//所有的兄弟元素</span></div><div class="line">     <span class="keyword">var</span> siblings = <span class="function"><span class="keyword">function</span>(<span class="params">eleId</span>)</span>&#123;</div><div class="line">         <span class="keyword">var</span> all = prevAll(eleId).concat(nextAll(eleId))</div><div class="line">         <span class="built_in">console</span>.dir(all);</div><div class="line">        <span class="keyword">return</span>  all;</div><div class="line">     &#125;</div><div class="line">     siblings(<span class="string">'myList'</span>);</div><div class="line">    </div><div class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="DOM的操作"><a href="#DOM的操作" class="headerlink" title="DOM的操作"></a>DOM的操作</h3><h4 id="creatElement"><a href="#creatElement" class="headerlink" title="creatElement"></a><code>creatElement</code></h4><p><code>document.createElement(tagName)</code>创建一个元素标签</p>
<h4 id="appendChild"><a href="#appendChild" class="headerlink" title="appendChild"></a><code>appendChild</code></h4><ul>
<li><code>node.appendChild(child)</code>将节点插入到父节点的最末尾处，也就是父节点的最后一个子元素</li>
<li>如果被插入的节点已经存在于当前文档的文档树中,则那个节点会首先从原先的位置移除,然后再插入到新的位置.</li>
<li>appendChild 方法会把要插入的这个节点引用作为返回值返回</li>
</ul>
<h4 id="insertBefore"><a href="#insertBefore" class="headerlink" title="insertBefore"></a><code>insertBefore</code></h4><p><code>node.insertBeofore(newNode,referenceNode)</code>在当前节点内的子节点前插入新节点</p>
<h4 id="replaceChild"><a href="#replaceChild" class="headerlink" title="replaceChild"></a><code>replaceChild</code></h4><p><code>parentNode.replaceChild(newChild,oldChild)</code><br>用指定的节点替换当前节点的一个子节点，并返回被替换掉的节点。</p>
<h4 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h4><ol>
<li><p><code>setAttribute</code>添加一个属性到元素上，或改变一个已经存在的属性值。这会改变html的内容，直接体现在html中。用<code>setAttribute</code>设置的值只能通过<code>getAttribute</code>来获取，用<code>removeAttribute</code>来进行删除。要注意的是，在ie6,7,8下，不能使用这种方式来修改<code>class</code>，应该使用<code>ele.classNmae = &quot;样式名&quot;</code>来进行修改。 </p>
</li>
<li><p><code>ele.attr = value</code>该方法相当于把元素当成一个对象，然后在对象开辟的内存中添加属性，它不会体验在Html中，而且访问这种形式的内容也只能通过<code>ele.attr</code>。</p>
</li>
</ol>
<h4 id="node-cloneNode-deep"><a href="#node-cloneNode-deep" class="headerlink" title="node.cloneNode(deep)"></a><code>node.cloneNode(deep)</code></h4><p>复制节点,deep为是否深度克隆，默认为false，假如为<code>true</code>，则把元素内部的元素也复制</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-tag">html</span>,</div><div class="line">  <span class="selector-tag">body</span>,</div><div class="line">  <span class="selector-tag">button</span>,</div><div class="line">  <span class="selector-tag">ul</span>,</div><div class="line">  <span class="selector-tag">li</span>&#123;</div><div class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">0</span>；</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"oUl"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"li2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>在后面添加一个Li<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn2"</span>&gt;</span>在后面添加一个Li<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn3"</span>&gt;</span>替换id为li2的内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn4"</span>&gt;</span>使用setAttirbute为ul增加属性<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">'oUl'</span>),</div><div class="line">        btn1 = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>),</div><div class="line">        btn2 = <span class="built_in">document</span>.getElementById(<span class="string">'btn2'</span>),</div><div class="line">        btn3 = <span class="built_in">document</span>.getElementById(<span class="string">'btn3'</span>),</div><div class="line">        btn4 = <span class="built_in">document</span>.getElementById(<span class="string">'btn4'</span>),</div><div class="line">        li2 = <span class="built_in">document</span>.getElementById(<span class="string">'li2'</span>);</div><div class="line"></div><div class="line">    <span class="comment">//在后面添加一个Li</span></div><div class="line">    btn1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> newList = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">      <span class="keyword">var</span> newTxt = <span class="built_in">document</span>.createTextNode(<span class="string">"4"</span>);</div><div class="line">      newList.appendChild(newTxt);</div><div class="line">      oUl.appendChild(newList);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(btn2);</div><div class="line"></div><div class="line">    <span class="comment">//在前面添加一个Li</span></div><div class="line">    btn2.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> newList = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">      <span class="keyword">var</span> newTxt = <span class="built_in">document</span>.createTextNode(<span class="string">"0"</span>);</div><div class="line">      newList.appendChild(newTxt);</div><div class="line">      oUl.insertBefore(newList,oUl.firstChild);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//替换id为li2的内容</span></div><div class="line">    btn3.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> newList = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">      <span class="keyword">var</span> newTxt = <span class="built_in">document</span>.createTextNode(<span class="string">"替换"</span>);</div><div class="line">      newList.appendChild(newTxt);</div><div class="line">      oUl.replaceChild(newList,li2);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//使用setAttirbute为元素增加属性</span></div><div class="line">    btn4.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      oUl.setAttribute(<span class="string">'data'</span>,<span class="string">'setAttribute'</span>);</div><div class="line">    &#125;</div><div class="line"> &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="设置属性-1"><a href="#设置属性-1" class="headerlink" title="设置属性"></a>设置属性</h4><ol>
<li><code>ele.</code></li>
<li><code>setAttirbute</code><br>  <code>getAttriute</code><br>  <code>removeAttribute</code></li>
</ol>
<p><code>Attributs</code>获取元素的属性节点</p>
<ul>
<li><code>attributs.name()</code>获取元素属性节点的名称</li>
<li><code>attributes.value()</code>获取元素属性节点的值<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"> 	&lt;ul id="oUl" class="ulClass"&gt;&lt;/ul&gt;</div><div class="line"> 	&lt;script&gt;</div><div class="line"> 		window.onload = function()&#123;</div><div class="line"> 			var oUl = document.getElementById('oUl');</div><div class="line"> 			console.log(oUl.attributes[0].name+':'+oUl.attributes[0].value); //id:oUl</div><div class="line"> 		&#125;</div><div class="line"> 	&lt;/script&gt;</div><div class="line"> ```` </div><div class="line">`元素.children` 获取第一个子节点</div><div class="line">- 标准下，会包含文本节点</div><div class="line">- 非标准下，只包含元素节点 </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">`元素.firstElementChild`获取第一个元素类型的子节点</div><div class="line">- 非标准的浏览器下是没有这个属性的</div><div class="line">````javascript</div><div class="line">	var oFirst = oUl.firstElementChild || oUl.firstChild; //兼容写法,但有时会触发错误，当</div><div class="line">	oFirst.style.background = 'red';</div></pre></td></tr></table></figure>
</li>
</ul>
<table>
<thead>
<tr>
<th>属性</th>
<th>功能</th>
<th>标准下</th>
<th>ie6,7</th>
</tr>
</thead>
<tbody>
<tr>
<td>childNodes</td>
<td>获取子节点集合</td>
<td>包含文本和元素类型的节点，和非法嵌套的子节点(ul下的p)</td>
<td>只包含元素类型的节点，ie7以下不会包含非法嵌套的子节点</td>
</tr>
<tr>
<td>children</td>
<td>只包含元素节点列表集合</td>
<td>通用</td>
<td>通用</td>
</tr>
<tr>
<td>firstChild</td>
<td>获取第一个子节点</td>
<td>包含文本类型的节点</td>
<td>只包含元素节点</td>
</tr>
<tr>
<td>firstElementChild</td>
<td>获取元素下第一个元素类型的子节点</td>
<td>元素类型的子节点</td>
<td>不支持</td>
</tr>
<tr>
<td>lastChild</td>
<td>获取最后一个子节点</td>
<td></td>
<td></td>
</tr>
<tr>
<td>lastElementChild</td>
<td>获取最后一个子节点</td>
<td></td>
<td>没有该属性</td>
</tr>
<tr>
<td>nextSibling</td>
<td>当前元素的下一个兄弟节点</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nextlElementSibling</td>
<td>下一个元素节点</td>
<td></td>
<td>没有该属性</td>
</tr>
<tr>
<td>previousSibling</td>
<td>当前元素的上一个兄弟节点</td>
<td></td>
<td></td>
</tr>
<tr>
<td>previousElementSibling</td>
<td>上一个元素节点</td>
<td></td>
<td>没有该属性</td>
</tr>
<tr>
<td>previousElementSibling</td>
<td>上一个元素节点</td>
<td></td>
<td>没有该属性</td>
</tr>
<tr>
<td>parentNode</td>
<td>父级元素节点</td>
<td>通用</td>
<td>通用</td>
</tr>
<tr>
<td>offsetParent</td>
<td>离当前元素最近的有定义过定位属性的父节点</td>
<td>如果没有定义过的话，默认是body</td>
<td>如果当前元素本身设置了定位属性，那么，它默认的offsetParent是html;如果它的父级有触发过layout（如设置了zoom），那么offsetParent的值是这个父级</td>
</tr>
</tbody>
</table>
<h1 id="获取元素的宽高"><a href="#获取元素的宽高" class="headerlink" title="获取元素的宽高"></a>获取元素的宽高</h1><p><code>offsetLeft[top]</code>当前元素距离定位父级的距离</p>
<h1 id="节点操作方式"><a href="#节点操作方式" class="headerlink" title="节点操作方式"></a>节点操作方式</h1><p>参考资料</p>
<ul>
<li>珠峰培训</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/appendChild" target="_blank" rel="external">Node.appendChild</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="weison.org/2016/04/09/banner-design/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="weison">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="hey">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="hey" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/09/banner-design/" itemprop="url">
                  banner design
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-04-09T08:27:37+08:00">
                2016-04-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/04/09/banner-design/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/09/banner-design/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="分析需求"><a href="#分析需求" class="headerlink" title="分析需求"></a>分析需求</h1><h2 id="背景，比如这个banner因为什么原因而产生的"><a href="#背景，比如这个banner因为什么原因而产生的" class="headerlink" title="背景，比如这个banner因为什么原因而产生的"></a>背景，比如这个banner因为什么原因而产生的</h2><ol>
<li>尺寸大小</li>
</ol>
<h2 id="文案内容"><a href="#文案内容" class="headerlink" title="文案内容"></a>文案内容</h2><ol>
<li>想达到的目标</li>
<li>用户群体</li>
</ol>
<h2 id="摆放位置"><a href="#摆放位置" class="headerlink" title="摆放位置"></a>摆放位置</h2><ol>
<li>端口，pc/mobile/线下</li>
<li>注意是否跟它的周边环境是否协调，如是否跟周围的颜色协调，避免视觉刺激，进而提升视觉感受</li>
</ol>
<h2 id="需求方要求"><a href="#需求方要求" class="headerlink" title="需求方要求"></a>需求方要求</h2><ol>
<li>尺寸</li>
<li>文案</li>
<li>需要添加的图形元素</li>
</ol>
<h1 id="表现技法"><a href="#表现技法" class="headerlink" title="表现技法"></a>表现技法</h1><p>参考资料</p>
<ol>
<li><a href="http://www.chuanke.com/v4272850-156609-625105.html" target="_blank" rel="external">PC端 百度传课-需求解析和技法表现</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="weison" />
          <p class="site-author-name" itemprop="name">weison</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">61</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">weison</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"weison"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
